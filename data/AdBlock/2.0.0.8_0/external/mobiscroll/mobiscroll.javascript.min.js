/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===("undefined"==typeof e?"undefined":ve(e))}function s(e){return"number"==typeof e.length}function a(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function n(e,t,s){for(var a in t)s&&(Se.isPlainObject(t[a])||Se.isArray(t[a]))?((Se.isPlainObject(t[a])&&!Se.isPlainObject(e[a])||Se.isArray(t[a])&&!Se.isArray(e[a]))&&(e[a]={}),n(e[a],t[a],s)):void 0!==t[a]&&(e[a]=t[a])}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function o(e,t){return"number"!=typeof t||Ce[i(e)]?t:t+"px"}function r(e,t,s){fe[e]=function(a,n){var i,o,r={},l=n||{};return s!==!1&&(l.preset=e),Se(a).each(function(){i=new t(this,l),r[this.id]=i}),o=Object.keys(r),1==o.length?r[o[0]]:r}}function l(){}function c(e){var t,s=[];for(t in e)s.push(e[t]);return s}function d(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s}function u(e){return e-parseFloat(e)>=0}function m(e){return"string"==typeof e}function h(e,t,s){return Math.max(t,Math.min(e,s))}function f(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function p(e,t){var s,a;return t=t||100,function(){var n=this,i=+new Date,o=arguments;s&&i<s+t?(clearTimeout(a),a=setTimeout(function(){s=i,e.apply(n,o)},t)):(s=i,e.apply(n,o))}}function b(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function v(e,t,s){return 100*(e-t)/(s-t)}function g(e,t,s){var a=s.attr(e);return void 0===a||""===a?t:"true"===a}function y(){We++,setTimeout(function(){We--},500)}function _(e,t){if(!t.mbscClick){var s=(e.originalEvent||e).changedTouches[0],a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),a.isMbscTap=!0,a.isIonicTap=!0,Fe=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(a),Fe=!1,y(),setTimeout(function(){delete t.mbscClick})}}function x(e,t,s){var a=e.originalEvent||e,n=(s?"page":"client")+t;return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0][n]:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0][n]:e[n]}function w(e){var t=e[0],s=e.attr("data-role"),a=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|rating|segmented|stepper)/.test(s)&&(a=s),a}function C(e,t,s){e.focus(),/(button|submit|checkbox|switch|radio)/.test(t)&&s.preventDefault(),/select/.test(t)||_(s,e)}function T(e,t,s,a,n,i){function o(e){m||(a&&e.preventDefault(),m=this,d=x(e,"X"),u=x(e,"Y"),h=!1,f=new Date)}function r(e){m&&!h&&(Math.abs(x(e,"X")-d)>n||Math.abs(x(e,"Y")-u)>n)&&(h=!0)}function l(t){m&&((i&&new Date-f<100||!h)&&(t.preventDefault(),s.call(m,t,e)),m=!1,y())}function c(){m=!1}var d,u,m,h,f,p=fe.$,b=p(t);n=n||9,e.settings.tap&&b.on("touchstart.mbsc",o).on("touchcancel.mbsc",c).on("touchmove.mbsc",r).on("touchend.mbsc",l),b.on("click.mbsc",function(t){a&&t.preventDefault(),s.call(this,t,e)})}function k(e){if(We&&!Fe&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function M(e,t,s){Oe&&Re(function(){Re(e).each(function(){new t(this)}),Re(document).on("mbsc-enhance",function(s,a){Re(s.target).is(e)?new t(s.target,a):Re(e,s.target).each(function(){new t(this,a)})}),s&&Re(document).on("mbsc-refresh",function(t){var s;Re(t.target).is(e)?(s=Xe[t.target.id],s&&s.refresh()):Re(e,t.target).each(function(){s=Xe[this.id],s&&s.refresh()})})})}function D(e,t){var s=document.createElement("script"),a="mbscjsonp"+ ++Je;window[a]=function(e){s.parentNode.removeChild(s),delete window[a],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(s)}function S(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}function A(e,t,s){"jsonp"==s?D(e,t):S(e,t)}function E(e){var t;for(t in e)if(void 0!==Ke[e[t]])return!0;return!1}function V(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(E([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function $(e,t){if("touchstart"==e.type)Re(t).attr("data-touch","1");else if(Re(t).attr("data-touch"))return Re(t).removeAttr("data-touch"),!1;return!0}function L(e,t){var s,a,n=getComputedStyle(e[0]);return Re.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return s=n[t+"ransform"],!1}),s=s.split(")")[0].split(", "),a=t?s[13]||s[5]:s[12]||s[4]}function O(e){if(e){if(at[e])return at[e];var t=Re('<div style="background-color:'+e+';"></div>').appendTo("body"),s=getComputedStyle(t[0]),a=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*a[0]+.587*a[1]+.114*a[2],i=n<130?"#fff":"#000";return t.remove(),at[e]=i,i}}function P(e,t,s,a,n,i){function o(e){var t;f=Re(this),w=+f.attr("data-step"),b=+f.attr("data-index"),p=!0,n&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(y=x(e,"X"),_=x(e,"Y"),t=$(e,this)):t=32===e.keyCode,v||!t||f.hasClass("mbsc-disabled")||(u(b,w,e)&&(f.addClass("mbsc-active"),i&&i.addRipple(f.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Re(document).on("mousemove",r).on("mouseup",c))}function r(e){(Math.abs(y-x(e,"X"))>7||Math.abs(_-x(e,"Y"))>7)&&(p=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&Re(document).off("mousemove",r).off("mouseup",c)}function d(){v=!1,clearInterval(C),f&&(f.removeClass("mbsc-active"),i&&setTimeout(function(){i.removeRipple()},100))}function u(e,t,s){return v||T(e)||(b=e,w=t,g=s,v=!0,p=!1,setTimeout(m,100)),v}function m(){return f&&f.hasClass("mbsc-disabled")?void d():(!v&&p||(p=!0,t(b,w,g,m)),void(v&&s&&(clearInterval(C),C=setInterval(function(){t(b,w,g)},s))))}function h(){e.off("touchstart mousedown keydown",o).off("touchmove",r).off("touchend touchcancel keyup",c)}var f,p,b,v,g,y,_,w,C,T=a||l;return e.on("touchstart mousedown keydown",o).on("touchmove",r).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:h}}function Y(e,t){function s(){r.style.width="100000px",r.style.height="100000px",o.scrollLeft=1e5,o.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function a(){var e=new Date;l=0,u||(e-m>200&&!o.scrollTop&&!o.scrollLeft&&(m=e,s()),l||(l=Ie(a)))}function n(){c||(c=Ie(i))}function i(){c=0,s(),t()}var o=void 0,r=void 0,l=void 0,c=void 0,d=void 0,u=void 0,m=0,h=document.createElement("div");return h.innerHTML=lt,h.dir="ltr",d=h.childNodes[1],o=h.childNodes[0],r=o.childNodes[0],e.appendChild(h),o.addEventListener("scroll",n),d.addEventListener("scroll",n),Ie(a),{detach:function(){e.removeChild(h),u=!0}}}function H(e){return(e+"").replace('"',"___")}function I(e,t,s,a,n,i,o){var r=new Date(e,t,s,a||0,n||0,i||0,o||0);return 23==r.getHours()&&0===(a||0)&&r.setHours(r.getHours()+2),r}function N(e,t,s){if(!t)return null;var a,n,i=Ue({},Vt,s),o=function(t){for(var s=0;a+1<e.length&&e.charAt(a+1)==t;)s++,a++;return s},r=function(e,t,s){var a=""+t;if(o(e))for(;a.length<s;)a="0"+a;return a},l=function(e,t,s,a){return o(e)?a[t]:s[t]},c="",d=!1;for(a=0;a<e.length;a++)if(d)"'"!=e.charAt(a)||o("'")?c+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":c+=r("d",i.getDay(t),2);break;case"D":c+=l("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=r("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=r("m",i.getMonth(t)+1,2);break;case"M":c+=l("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=o("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=r("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=r("H",t.getHours(),2);break;case"i":c+=r("i",t.getMinutes(),2);break;case"s":c+=r("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":o("'")?c+="'":d=!0;break;default:c+=e.charAt(a)}return c}function W(e,t,s){var a=Ue({},Vt,s),n=z(a.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":ve(t))?t.toString():t+"";var i,o=a.shortYearCutoff,r=a.getYear(n),l=a.getMonth(n)+1,c=a.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),h=0,f=-1,p=!1,b=function(t){var s=i+1<e.length&&e.charAt(i+1)==t;return s&&i++,s},v=function(e){b(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,a=new RegExp("^\\d{1,"+s+"}"),n=t.substr(_).match(a);return n?(_+=n[0].length,parseInt(n[0],10)):0},g=function(e,s,a){var n,i=b(e)?a:s;for(n=0;n<i.length;n++)if(t.substr(_,i[n].length).toLowerCase()==i[n].toLowerCase())return _+=i[n].length,n+1;return 0},y=function(){_++},_=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",a.dayNamesShort,a.dayNames);break;case"o":d=v("o");break;case"m":l=v("m");break;case"M":l=g("M",a.monthNamesShort,a.monthNames);break;case"y":r=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"A":f=g("A",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(r<100&&(r+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),d>-1){l=1,c=d;do{var x=32-new Date(r,l-1,32,12).getDate();c>x&&(l++,c-=x)}while(c>x)}u=f==-1?u:f&&u<12?u+12:f||12!=u?u:0;var w=a.getDate(r,l-1,c,u,m,h);return a.getYear(w)!=r||a.getMonth(w)+1!=l||a.getDay(w)!=c?n:w}function F(e,t){return Math.round((t-e)/864e5)}function q(e){return I(e.getFullYear(),e.getMonth(),e.getDate())}function R(e,t){var s="",a="";return e&&(t.h&&(a+=f(e.getHours())+":"+f(e.getMinutes()),t.s&&(a+=":"+f(e.getSeconds())),t.u&&(a+="."+f(e.getMilliseconds(),3)),t.tz&&(a+=t.tz)),t.y?(s+=e.getFullYear(),t.m&&(s+="-"+f(e.getMonth()+1),t.d&&(s+="-"+f(e.getDate())),t.h&&(s+="T"+a))):t.h&&(s=a)),s}function j(e,t,s){var a,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(s)for(a in i)n=e[i[a]-t],n&&(s[a]="tz"==a?n:1)}function X(e,t,s){var a=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&a)return a(e);if("locale"==n)return N(s,e,t);if("iso8601"==n)return R(e,t.isoParts)}return e}function z(e,t,s,a){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=St.exec(e))?(j(n,2,a),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=Dt.exec(e)),n?(j(n,0,a),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):W(t,e,s))):null}function B(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function U(e){return e[0].innerWidth||e.innerWidth()}function G(e,t){var s={},a=e.parent(),n=a.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",o=e.attr("data-icon");a.hasClass(qt)?a=a.parent():Re('<span class="'+qt+'"></span>').insertAfter(e).append(e),n&&a.find("."+qt).append(n),o&&(o.indexOf("{")!==-1?s=JSON.parse(o):s[i]=o),(o||t)&&(Ue(s,t),a.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find("."+qt).append('<span class="mbsc-input-fill"></span>').append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))}function J(e,t,s){var a={},n=s[0],i=s.attr("data-password-toggle"),o=s.attr("data-icon-show")||"eye",r=s.attr("data-icon-hide")||"eye-blocked";i&&(a.right="password"==n.type?o:r),G(s,a),i&&T(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==n.type?(n.type="password",Re(this).addClass("mbsc-ic-"+o).removeClass("mbsc-ic-"+r)):(n.type="text",Re(this).removeClass("mbsc-ic-"+o).addClass("mbsc-ic-"+r))})}function Z(e,t,s,a,n){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").addClass("box"==s?"mbsc-input-box":"").addClass("outline"==s?"mbsc-input-outline":"").addClass("inline"==a?"mbsc-label-inline":"").addClass("stacked"==a?"mbsc-label-stacked":"").addClass("floating"==a?"mbsc-label-floating":"").addClass("floating"==a&&n.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(e,t){Re(t).attr("title",Re(t).text())}),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Re('<span class="mbsc-label" title="'+this.textContent.trim()+'"></span>').insertAfter(this).append(this)}))}function K(e){var t=fe.themes.form[e];return t&&t.addRipple?t:null}function Q(e,t,s){var a=e.attr(t);return void 0===a||""===a?s:a}function ee(){clearTimeout(es),es=setTimeout(function(){Re("textarea.mbsc-control").each(function(){te(this)})},100)}function te(e){var t=void 0,s=void 0,a=void 0,n=Re(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",a=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(a>0?a:0),s=Math.round(t/24),s>n?(t=24*n+(t-24*s),Re(e).addClass("mbsc-textarea-scroll")):Re(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function se(e){var t=Re(e);if(!t.hasClass("mbsc-textarea-scroll")){var s=e.scrollHeight-e.offsetHeight,a=e.offsetHeight+s,n=Math.round(a/24),i=t.attr("rows")||6;n<=i&&(e.scrollTop=0,e.style.height=a+"px")}}function ae(e,t,s,a){Re("input,select,textarea,progress,button",e).each(function(){var e=this,a=Re(e),n=w(a);if("false"!=a.attr("data-enhance"))if(a.hasClass("mbsc-control"))e.mbscInst&&e.mbscInst.option({theme:s.theme,lang:s.lang,rtl:s.rtl,onText:s.onText,offText:s.offText,stopProp:s.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++ms),n){case"button":case"submit":t[e.id]=new Gt(e,{theme:s.theme,tap:s.tap});break;case"switch":t[e.id]=new os(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,tap:s.tap,onText:s.onText,offText:s.offText,stopProp:s.stopProp});break;case"checkbox":t[e.id]=new Jt(e,{tap:s.tap});break;case"range":Re(e).parent().hasClass("mbsc-slider")||(t[e.id]=new ls(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp,labelStyle:s.labelStyle}));break;case"rating":t[e.id]=new cs(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp});break;case"progress":t[e.id]=new rs(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,labelStyle:s.labelStyle});break;case"radio":t[e.id]=new Zt(e,{tap:s.tap});break;case"select":case"select-one":case"select-multiple":t[e.id]=new Kt(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle});break;case"textarea":t[e.id]=new ts(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle});break;case"segmented":t[e.id]=new ss(e,{theme:s.theme,tap:s.tap});break;case"stepper":t[e.id]=new as(e,{theme:s.theme});break;case"hidden":return;default:t[e.id]=new Ut(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle})}}),Re("[data-collapsible]:not(.mbsc-collapsible)",e).each(function(){var e=this,s=Re(e),a=s.attr("data-open");e.id||(e.id="mbsc-form-control-"+ ++ms),t[e.id]=new us(e,{isOpen:void 0!==a&&"false"!=a}),Xe[e.id]=t[e.id]}),a||ee()}function ne(e){bs.length||e.show(),bs.push(e)}function ie(e){var t=vs.length;vs.push(e),bs.length||(t?vs[0].hide():e.show(!1,!0))}function oe(e,t,s,a){return Ue({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onHide:function(e,a){s&&s(a._resolve),t.callback&&t.callback(a._resolve),a&&a.destroy(),bs.length?bs[0].show():vs.length&&vs[0].show(!1,!0)}},a)}function re(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function le(e,t,s){var a=new hs(e,oe(bs,t,s));ne(a)}function ce(e,t,s){var a=new hs(e,oe(bs,t,s,{buttons:["cancel","ok"],onSet:function(){a._resolve=!0}}));a._resolve=!1,ne(a)}function de(e,t,s){var a=void 0,n=new hs(e,oe(bs,t,s,{buttons:["cancel","ok"],onMarkupReady:function(e,t){a=t._markup.find("input")[0],setTimeout(function(){a.focus(),a.setSelectionRange(0,a.value.length)},300)},onSet:function(){n._resolve=a.value}}));n._resolve=null,ne(n)}function ue(e,t,s,a,n){var i=void 0,o=new hs(e,oe(vs,t,s,{display:t.display||"bottom",animate:n,cssClass:(a||"mbsc-snackbar")+(t.color?" mbsc-"+t.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,s){t.duration!==!1&&(i=setTimeout(function(){s&&s.hide()},t.duration||3e3)),t.button&&s.tap(Re(".mbsc-snackbar-btn",e.target),function(){s.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));ie(o)}function me(e,t,s){ue(e,t,s,"mbsc-toast","fade")}function he(e,t,s){var a=void 0;return ps?a=new Promise(function(a){e(t,s,a)}):e(t,s),a}var fe=fe||{},pe={},be={},ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ye=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),_e=function e(t,s,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,s);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,s,a)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(a)},xe=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},we=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ce={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Te={readonly:"readOnly"},ke=[],Me=Array.prototype.slice,De=function(){var n=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,r(this)},r=function t(s,a){var i=[],o=0;if(s&&!a&&s instanceof n)return s;if(e(s))return t(document).ready(s);if(s)if("string"==typeof s){var r,l,c;if(s=c=s.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),l=document.createElement(d),l.innerHTML=c,o=0;o<l.childNodes.length;o++)i.push(l.childNodes[o])}else for(a||"#"!==s[0]||s.match(/[ .<>:~]/)?(a instanceof n&&(a=a[0]),r=(a||document).querySelectorAll(s)):r=[document.getElementById(s.split("#")[1])],o=0;o<r.length;o++)r[o]&&i.push(r[o])}else if(s.nodeType||s===window||s===document)i.push(s);else if(s.length>0&&s[0].nodeType)for(o=0;o<s.length;o++)i.push(s[o]);else t.isArray(s)&&(i=s);return new n(i)};return n.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(r):document.addEventListener("DOMContentLoaded",function(){e(r)},!1),this},concat:ke.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return r(r.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return r(Me.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&""!==t[s]&&this[a].classList.add(t[s]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&""!==t[s]&&this[a].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&this[a].classList.toggle(t[s]);return this},closest:function(e,s){var a=this[0],n=!1;for(t(e)&&(n=r(e));a&&!(n?n.indexOf(a)>=0:r.matches(a,e));)a=a!==s&&a.nodeType!==a.DOCUMENT_NODE&&a.parentNode;return r(a)},attr:function e(t,s){var e;if(1!==arguments.length||"string"!=typeof t){for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(t,s);else for(var n in t)this[a][n]=t[n],this[a].setAttribute(n,t[n]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=Te[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?r.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)r.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,s,a,n){function i(e){var t,n,i=e.target;if(r(i).is(s))a.call(i,e);else for(n=r(i).parents(),t=0;t<n.length;t++)r(n[t]).is(s)&&a.call(n[t],e)}function o(e,t,s,a){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:s,capture:a}),e.addEventListener(n[0],s,a)}var l,c,d=t.split(" ");for(l=0;l<this.length;l++)if(e(s)||s===!1)for(e(s)&&(n=a||!1,a=s),c=0;c<d.length;c++)d[c].indexOf(".")!=-1?o(this[l],d[c],a,n):this[l].addEventListener(d[c],a,n);else for(c=0;c<d.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:a,liveListener:i}),d[c].indexOf(".")!=-1?o(this[l],d[c],i,n):this[l].addEventListener(d[c],i,n);return this},off:function(t,s,a,n){function i(e){var t,s,a,n=e.split("."),i=n[0],o=n[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(s=0;s<d[t].DomNameSpaces.length;++s)a=d[t].DomNameSpaces[s],a.namespace!=o||a.event!=i&&i||(d[t].removeEventListener(a.event,a.listener,a.capture),a.removed=!0);for(s=d[t].DomNameSpaces.length-1;s>=0;--s)d[t].DomNameSpaces[s].removed&&d[t].DomNameSpaces.splice(s,1)}}var o,r,l,c,d=this;for(o=t.split(" "),r=0;r<o.length;r++)for(l=0;l<this.length;l++)if(e(s)||s===!1)e(s)&&(n=a||!1,a=s),0===o[r].indexOf(".")?i(o[r].substr(1),a,n):this[l].removeEventListener(o[r],a,n);else{if(this[l].DomLiveListeners)for(c=0;c<this[l].DomLiveListeners.length;c++)this[l].DomLiveListeners[c].listener===a&&this[l].removeEventListener(o[r],this[l].DomLiveListeners[c].liveListener,n);this[l].DomNameSpaces&&this[l].DomNameSpaces.length&&o[r]&&i(o[r])}return this},trigger:function(e,t){for(var s=e.split(" "),a=0;a<s.length;a++)for(var n=0;n<this.length;n++){var i;try{i=new CustomEvent(s[a],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(s[a],!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,s=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,s=["left","right"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,s=["top","bottom"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),s=document.documentElement;return{top:t.top+window.pageYOffset-s.clientTop,left:t.left+window.pageXOffset-s.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,s){var a,n,r=this[0],e="";if(arguments.length<2){if(!r)return;if("string"==typeof t)return r.style[t]||getComputedStyle(r,"").getPropertyValue(t)}if("string"==typeof t)s||0===s?e=i(t)+":"+o(t,s):this.each(function(){this.style.removeProperty(i(t))});else for(n in t)if(t[n]||0===t[n])e+=i(n)+":"+o(n,t[n])+";";else for(a=0;a<this.length;a++)this[a].style.removeProperty(i(n));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(t){for(var s=[],a=0;a<this.length;a++)e(t)?t.call(this[a],a,this[a])&&s.push(this[a]):r.matches(this[a],t)&&s.push(this[a]);return new n(s)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&r.matches(this[0],e)},not:function(a){var n=[];if(e(a)&&void 0!==a.call)this.each(function(e){a.call(this,e)||n.push(this)});else{var i="string"==typeof a?this.filter(a):s(a)&&e(a.item)?Me.call(a):r(a);t(i)&&(i=r.map(i,function(e){return e})),this.each(function(e,t){i.indexOf(t)<0&&n.push(t)})}return r(n)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(r(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?Me.call(this):this[e>=0?e:e+this.length]},eq:function(e){if("undefined"==typeof e)return this;var t,s=this.length;return e>s-1?new n([]):e<0?(t=s+e,new n(t<0?[]:[this[t]])):new n([this[e]])},append:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var a=document.createElement("div");for(a.innerHTML=e;a.firstChild;)this[t].appendChild(a.firstChild)}else if(e instanceof n)for(s=0;s<e.length;s++)this[t].appendChild(e[s]);else this[t].appendChild(e);return this},appendTo:function(e){return r(e).append(this),this},prepend:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var a=document.createElement("div");for(a.innerHTML=e,s=a.childNodes.length-1;s>=0;s--)this[t].insertBefore(a.childNodes[s],this[t].childNodes[0])}else if(e instanceof n)for(s=0;s<e.length;s++)this[t].insertBefore(e[s],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return r(e).prepend(this),this},insertBefore:function(e){for(var t=r(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a]);return this},insertAfter:function(e){for(var t=r(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a].nextSibling);return this},next:function(e){return new n(this.length>0?e?this[0].nextElementSibling&&r(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],s=this[0];if(!s)return new n([]);for(;s.nextElementSibling;){var a=s.nextElementSibling;e?r(a).is(e)&&t.push(a):t.push(a),s=a}return new n(t)},prev:function(e){return new n(this.length>0?e?this[0].previousElementSibling&&r(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],s=this[0];if(!s)return new n([]);for(;s.previousElementSibling;){var a=s.previousElementSibling;e?r(a).is(e)&&t.push(a):t.push(a),s=a}return new n(t)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?r(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return r(r.unique(t))},parents:function e(t){for(var e=[],s=0;s<this.length;s++)for(var a=this[s].parentNode;a;)t?r(a).is(t)&&e.push(a):e.push(a),a=a.parentNode;return r(r.unique(e))},find:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].querySelectorAll(e),i=0;i<a.length;i++)t.push(a[i]);return new n(t)},children:function e(t){for(var e=[],s=0;s<this.length;s++)for(var a=this[s].childNodes,i=0;i<a.length;i++)t?1===a[i].nodeType&&r(a[i]).is(t)&&e.push(a[i]):1===a[i].nodeType&&e.push(a[i]);return new n(r.unique(e))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var a=r(arguments[e]);for(t=0;t<a.length;t++)s[s.length]=a[t],s.length++}return s},before:function(e){return r(e).insertBefore(this),this},after:function(e){return r(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return Me.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return r(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!r(t).filter(e).length;)s.push(t[0]),t=t.prev();return r(s)},detach:function(){return this.remove()}},r.fn=n.prototype,r}(),Se=De;fe.$=De,Se.inArray=function(e,t,s){return ke.indexOf.call(t,e,s)},Se.extend=function(e){var t,s=Me.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){n(e,s,t)}),e},Se.isFunction=e,Se.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},Se.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},Se.each=function(e,s){var a,n;if(t(e)&&s){if(Se.isArray(e)||e instanceof De)for(a=0;a<e.length&&s.call(e[a],a,e[a])!==!1;a++);else for(n in e)if(e.hasOwnProperty(n)&&"length"!==n&&s.call(e[n],n,e[n])===!1)break;return this}},Se.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},Se.map=function(e,t){var a,n,i,o=[];if(s(e))for(n=0;n<e.length;n++)a=t(e[n],n),null!==a&&o.push(a);else for(i in e)a=t(e[i],i),null!==a&&o.push(a);return o.length>0?Se.fn.concat.apply([],o):o},Se.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return s.call(e,t)};var Ae,Ee,Ve,$e,Le=[],Oe="undefined"!=typeof window,Pe=Oe?navigator.userAgent:"",Ye=/Safari/.test(Pe),He=Pe.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Ie=Oe&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},Ne=Oe&&window.cancelAnimationFrame||function(e){clearTimeout(e);
};/Android/i.test(He)?(Ae="android",Ee=Pe.match(/Android\s+([\d\.]+)/i),Ee&&(Le=Ee[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(He)?(Ae="ios",Ee=Pe.match(/OS\s+([\d\_]+)/i),Ee&&(Le=Ee[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(He)?Ae="wp":/Windows|MSIE/i.test(He)&&(Ae="windows"),Ve=Le[0],$e=Le[1];var We=0,Fe=void 0;Oe&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,k,!0)}),"android"==Ae&&Ve<5&&document.addEventListener("change",function(e){We&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var qe,Re=fe.$,je=+new Date,Xe={},ze={},Be={xsmall:0,small:576,medium:768,large:992,xlarge:1200},Ue=Re.extend;Ue(pe,{getCoord:x,preventClick:y,vibrate:b}),qe=Ue(fe,{$:Re,version:"4.5.1",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:Ae,majorVersion:Ve,minorVersion:$e},i18n:{},instances:Xe,classes:ze,util:pe,settings:{},setDefaults:function(e){Ue(this.settings,e)},customTheme:function(e,t){var s,a=fe.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(s=0;s<n.length;s++)a[n[s]][e]=Ue({},a[n[s]][t],{baseTheme:t})}});var Ge=function(e,t){function s(e){var t,s;return c.responsive&&(s=e||n.offsetWidth,Re.each(c.responsive,function(e,a){s>=(a.breakpoint||Be[e])&&(t=a)})),t}function a(){Re(e).addClass("mbsc-comp"),e.id?Xe[e.id]&&Xe[e.id].destroy():e.id="mobiscroll"+ ++je,Xe[e.id]=f,f.__ready=!0}var n,i,o,r,c,d,u,m,h,f=this;f.settings={},f.element=e,f._init=l,f._destroy=l,f._processSettings=l,f._checkResp=function(e){if(f&&f._responsive){var t=s(e);if(r!==t)return r=t,f.init({}),!0}},f.init=function(a){var l,p;a&&f.getVal&&(p=f.getVal());for(l in f.settings)delete f.settings[l];c=f.settings,Ue(t,a),f._hasDef&&(h=qe.settings),Ue(c,f._defaults,h,t),f._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=qe.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=qe.themes[f._class]?qe.themes[f._class][u]:{}),f._hasLang&&(i=qe.i18n[c.lang]),Ue(c,d,i,h,t),n=Re(c.context)[0],f._responsive&&(r||(r=s()),Ue(c,r)),f._processSettings(r||{}),f._presets&&(o=f._presets[c.preset],o&&(o=o.call(e,f,t),Ue(c,o,t,r))),f._init(a),a&&f.setVal&&f.setVal(p,!0),m("onInit")},f.destroy=function(){f&&(f._destroy(),m("onDestroy"),delete Xe[e.id],f=null)},f.tap=function(e,t,s,a,n){T(f,e,t,s,a,n)},f.trigger=function(s,a){var n,i,r,l=[h,d,o,t];for(i=0;i<4;i++)r=l[i],r&&r[s]&&(n=r[s].call(e,a||{},f));return n},f.option=function(e,s){var a={},n=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":ve(e))?a=e:a[e]=s,n.forEach(function(e){t[e]=c[e]}),f.init(a)},f.getInst=function(){return f},t=t||{},m=f.trigger,f.__ready||a()},Je=0;pe.getJson=A;var Ze,Ke,Qe,et,tt,st,at={};Oe&&(Ke=document.createElement("modernizr").style,Qe=V(),st=Qe.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),Ze=void 0!==Ke.animation?"animationend":"webkitAnimationEnd",tt=void 0!==Ke.transition,et=void 0===Ke.touchAction||"ios"==Ae&&!Ye);var nt,it,ot="position:absolute;left:0;top:0;",rt=ot+"right:0;bottom:0;overflow:hidden;z-index:-1;",lt='<div style="'+rt+'"><div style="'+ot+'"></div></div><div style="'+rt+'"><div style="'+ot+'width:200%;height:200%;"></div></div>',ct=fe.themes,dt=/(iphone|ipod)/i.test(Pe)&&Ve>=7,ut="android"==Ae,mt="ios"==Ae,ht=mt&&8==Ve,ft=mt&&Ve>7,pt=function(e){e.preventDefault()},bt="input,select,textarea,button",vt='textarea,button,input[type="button"],input[type="submit"]',gt=bt+',[tabindex="0"]',yt=function(e,t,s){function a(e){E&&E.removeClass("mbsc-active"),E=Re(this),E.hasClass("mbsc-disabled")||E.hasClass("mbsc-fr-btn-nhl")||E.addClass("mbsc-active"),"mousedown"===e.type?Re(document).on("mouseup",n):"pointerdown"===e.type&&Re(document).on("pointerup",n)}function n(e){E&&(E.removeClass("mbsc-active"),E=null),"mouseup"===e.type?Re(document).off("mouseup",n):"pointerup"===e.type&&Re(document).off("pointerup",n)}function i(e){fe.activeInstance==se&&(13!=e.keyCode||Re(e.target).is(vt)&&!e.shiftKey?27==e.keyCode&&se.cancel():se.select())}function o(e){e||ut||!se._activeElm||se._activeElm.focus()}function r(e){var t=nt,s=U.focusOnClose;se._markupRemove(),C.remove(),O&&(V.mbscModals--,U.scrollLock&&V.mbscLock--,V.mbscLock||w.removeClass("mbsc-fr-lock"),V.mbscModals||(w.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),q&&(g.css({top:"",left:""}),D.scrollLeft(G),D.scrollTop(Z))),V.mbscModals&&!B||e||(t||(t=ae),setTimeout(function(){void 0===s||s===!0?(it=!0,t[0].focus()):s&&Re(s)[0].focus()},200))),B=void 0,P=!1,Q("onHide")}function c(){clearTimeout(z),z=setTimeout(function(){se.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function d(e){fe.activeInstance==se&&e.target.nodeType&&!j.contains(e.target)&&new Date-ie>100&&(se._activeElm.focus(),ie=new Date)}function u(e,t){function s(){C.off(Ze,s).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+$).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+$),o(t)}if(O)C.appendTo(g);else if(ae.is("div")&&!se._hasContent)ae.empty().append(C);else if(ae.hasClass("mbsc-control")){var i=ae.closest(".mbsc-control-w");C.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else C.insertAfter(ae);P=!0,se._markupInserted(C),Q("onMarkupInserted",{target:I}),C.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",pt).on("touchstart mousedown",function(e){U.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Re(e.target).is(bt)){if(9==e.keyCode&&O&&U.focusTrap){var t=C.find(gt).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(Re(":focus",C)),a=t.length-1,n=0;e.shiftKey&&(a=0,n=-1),s===a&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",a).on("touchend",".mbsc-fr-btn-e",n),I.addEventListener("touchstart",function(){K||(K=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Re.each(A,function(e,t){se.tap(Re(".mbsc-fr-btn"+e,C),function(e){t=m(t)?se.buttons[t]:t,(m(t.handler)?se.handlers[t.handler]:t.handler).call(this,e,se)},!0)}),se._attachEvents(C),se.position()!==!1&&(R=Y(I,c),O&&(C.removeClass("mbsc-fr-pos"),$&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+$).on(Ze,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+$):o(t)),Q("onShow",{target:I,valueText:se._tempValue}))}function f(e,t){e&&e(),se.show()!==!1&&(nt=t)}function p(){se._fillValue(),Q("onSet",{valueText:se._value})}function b(){Q("onCancel",{valueText:se._value})}function v(){se.setVal(null,!0)}var g,_,w,C,T,k,M,D,S,A,E,V,$,L,O,P,H,I,N,W,F,q,R,j,X,z,B,U,G,J,Z,K,Q,ee,te,se=this,ae=Re(e),ne=[],ie=new Date;Ge.call(this,e,t,!0),se.position=function(e){var t,s,a,n,i,o,r,l,c,d,u,m,f,p,b,v,y,_,x,w={},T=0,A=0,E=0,$=0;if(!P)return!1;if(v=ee,b=te,f=I.offsetHeight,p=I.offsetWidth,p&&f&&(ee!==p||te!==f||!e)){if(se._checkResp(p))return!1;if(ee=p,te=f,se._isFullScreen||/top|bottom/.test(U.display)?M.width(p):O&&S.width(""),se._position(C),!se._isFullScreen&&/center|bubble/.test(U.display)&&(Re(".mbsc-w-p",C).each(function(){y=this.getBoundingClientRect().width,$+=y,E=y>E?y:E}),m=$>p-16||U.tabs===!0,S.css({width:se._isLiquid?Math.min(U.maxPopupWidth,p-16):Math.ceil(m?E:$),"white-space":m?"":"nowrap"})),Q("onPosition",{target:I,popup:X,hasTabs:m,oldWidth:v,oldHeight:b,windowWidth:p,windowHeight:f})!==!1&&O)return F&&(T=D.scrollLeft(),A=D.scrollTop(),ee&&k.css({width:"",height:""})),N=X.offsetWidth,W=X.offsetHeight,J=W<=f&&N<=p,"center"==U.display?(x=Math.max(0,T+(p-N)/2),_=Math.max(0,A+(f-W)/2)):"bubble"==U.display?(t=void 0===U.anchor?ae:Re(U.anchor),r=Re(".mbsc-fr-arr-i",C)[0],n=t.offset(),i=n.top+(L?A-g.offset().top:0),o=n.left+(L?T-g.offset().left:0),s=t[0].offsetWidth,a=t[0].offsetHeight,l=r.offsetWidth,c=r.offsetHeight,x=h(o-(N-s)/2,T+3,T+p-N-3),_=i+a+c/2,_+W+8>A+f&&i-W-c/2>A?(M.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),_=i-W-c/2):M.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Re(".mbsc-fr-arr",C).css({left:h(o+s/2-(x+(N-l)/2),0,l)}),J=_>A&&x>T&&_+W<=A+f&&x+N<=T+p):(x=T,_="top"==U.display?A:Math.max(0,A+f-W)),F&&(d=Math.max(_+W,L?V.scrollHeight:Re(document).height()),u=Math.max(x+N,L?V.scrollWidth:Re(document).width()),k.css({width:u,height:d}),U.scroll&&"bubble"==U.display&&(_+W+8>A+f||i>A+f||i+a<A)&&D.scrollTop(Math.min(i,_+W-f+8,d-f))),w.top=Math.floor(_),w.left=Math.floor(x),M.css(w),!0}},se.attachShow=function(e,t){var s,a=Re(e).off(".mbsc"),n=a.prop("readonly");"inline"!==U.display&&((U.showOnFocus||U.showOnTap)&&a.is("input,select")&&(a.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){se._isVisible&&this.blur()}),s=Re('label[for="'+a.attr("id")+'"]'),s.length||(s=a.closest("label"))),a.is("select")||(U.showOnFocus&&a.on("focus.mbsc",function(){it?it=!1:f(t,a)}),U.showOnTap&&(a.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),f(t,a))}),se.tap(a,function(e){e.isMbscTap&&(K=!0),f(t,a)}),s&&s.length&&se.tap(s,function(e){e.target!==a[0]&&f(t,a)}))),ne.push({readOnly:n,el:a,lbl:s}))},se.select=function(){O?se.hide(!1,"set",!1,p):p()},se.cancel=function(){O?se.hide(!1,"cancel",!1,b):b()},se.clear=function(){se._clearValue(),Q("onClear"),O&&se._isVisible&&!se.live?se.hide(!1,"clear",!1,v):v()},se.enable=function(){U.disabled=!1,Re.each(ne,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},se.disable=function(){U.disabled=!0,Re.each(ne,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},se.show=function(e,t){var s,a;if(!U.disabled&&!se._isVisible){if(se._readValue(),Q("onBeforeShow")===!1)return!1;if(nt=null,$=U.animate,A=U.buttons||[],F=L||"bubble"==U.display,q=dt&&!F&&U.scrollLock,s=A.length>0,$!==!1&&("top"==U.display?$=$||"slidedown":"bottom"==U.display?$=$||"slideup":"center"!=U.display&&"bubble"!=U.display||($=$||"pop")),O&&(Z=Math.max(0,D.scrollTop()),G=Math.max(0,D.scrollLeft()),ee=0,te=0,q&&!w.hasClass("mbsc-fr-lock-ios")&&g.css({top:-Z+"px",left:-G+"px"}),w.addClass((U.scrollLock?"mbsc-fr-lock":"")+(q?" mbsc-fr-lock-ios":"")+(L?" mbsc-fr-lock-ctx":"")),Re(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=fe.activeInstance,fe.activeInstance=se,V.mbscModals=V.mbscModals||0,V.mbscLock=V.mbscLock||0,V.mbscModals++,U.scrollLock&&V.mbscLock++),a='<div lang="'+U.lang+'" class="mbsc-fr mbsc-'+U.theme+(U.baseTheme?" mbsc-"+U.baseTheme:"")+" mbsc-fr-"+U.display+" "+(U.cssClass||"")+" "+(U.compClass||"")+(se._isLiquid?" mbsc-fr-liq":"")+(O?" mbsc-fr-pos":"")+(H?" mbsc-fr-pointer":"")+(ft?" mbsc-fr-hb":"")+(K?"":" mbsc-no-touch")+(q?" mbsc-platform-ios":"")+(s?A.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(O?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(U.rtl?" mbsc-rtl":" mbsc-ltr")+(U.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===U.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(O?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(U.headerText?'<div class="mbsc-fr-hdr">'+(m(U.headerText)?U.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',a+=se._generateContent(),a+="</div>",s){var n,o,r,l=A.length;for(a+='<div class="mbsc-fr-btn-cont">',o=0;o<A.length;o++)r=U.btnReverse?l-o-1:o,n=A[r],n=m(n)?se.buttons[n]:n,"set"===n.handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),a+="<div"+(U.btnWidth?' style="width:'+100/A.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+r+" mbsc-fr-btn-e "+(void 0===n.cssClass?U.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";a+="</div>"}if(a+="</div></div></div></div>"+(O?"</div></div>":""),C=Re(a),k=Re(".mbsc-fr-persp",C),T=Re(".mbsc-fr-scroll",C),S=Re(".mbsc-fr-w",C),M=Re(".mbsc-fr-popup",C),_=Re(".mbsc-fr-hdr",C),I=C[0],j=T[0],X=M[0],se._activeElm=Re(".mbsc-fr-focus",C)[0],se._markup=C,se._isVisible=!0,se.markup=I,se._markupReady(C),Q("onMarkupReady",{target:I}),O&&(Re(window).on("keydown",i),U.scrollLock&&C.on("touchmove mousewheel wheel",function(e){J&&e.preventDefault()}),U.focusTrap&&D.on("focusin",d),U.closeOnOverlayTap)){var c,h,f,p;T.on("touchstart mousedown",function(e){h||e.target!=j||(h=!0,c=!1,f=x(e,"X"),p=x(e,"Y"))}).on("touchmove mousemove",function(e){h&&!c&&(Math.abs(x(e,"X")-f)>9||Math.abs(x(e,"Y")-p)>9)&&(c=!0)}).on("touchcancel",function(){h=!1}).on("touchend click",function(e){h&&!c&&(se.cancel(),"touchend"==e.type&&y()),h=!1})}O&&q?setTimeout(function(){u(e,t)},100):u(e,t)}},se.hide=function(e,t,s,a){function n(){C.off(Ze,n),r(e)}return!(!se._isVisible||!s&&!se._isValid&&"set"==t||!s&&Q("onBeforeClose",{valueText:se._tempValue,button:t})===!1)&&(se._isVisible=!1,R&&(R.detach(),R=null),O&&(Re(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),fe.activeInstance==se&&(fe.activeInstance=B),Re(window).off("keydown",i)),C&&(O&&$&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+$).on(Ze,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+$):r(e),se._detachEvents(C),D.off("focusin",d)),a&&a(),ae.trigger("blur"),void Q("onClose",{valueText:se._value}))},se.isVisible=function(){return se._isVisible},se.setVal=l,se.getVal=l,se._generateContent=l,se._attachEvents=l,se._detachEvents=l,se._readValue=l,se._clearValue=l,se._fillValue=l,se._markupReady=l,se._markupInserted=l,se._markupRemove=l,se._position=l,se.__processSettings=l,se.__init=l,se.__destroy=l,se._destroy=function(){se.hide(!0,!1,!0),ae.off(".mbsc"),Re.each(ne,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),se.__destroy()},se._updateHeader=function(){var t=U.headerText,s=t?"function"==typeof t?t.call(e,se._tempValue):t.replace(/\{value\}/i,se._tempValue):"";_.html(s||"&nbsp;")},se._processSettings=function(e){var s,a;for(se.__processSettings(e),H=!U.touchUi,H&&(U.display=e.display||t.display||"bubble",U.buttons=e.buttons||t.buttons||[]),U.buttons=U.buttons||("inline"!==U.display?["cancel","set"]:[]),U.headerText=void 0===U.headerText?"inline"!==U.display&&"{value}":U.headerText,A=U.buttons||[],O="inline"!==U.display,L="body"!=U.context,g=Re(U.context),w=L?g:Re("body,html"),V=g[0],se._$window=D=Re(L?U.context:window),se.live=!0,a=0;a<A.length;a++)s=A[a],"ok"!=s&&"set"!=s&&"set"!=s.handler||(se.live=!1);se.buttons.set={text:U.setText,icon:U.setIcon,handler:"set"},se.buttons.cancel={text:U.cancelText,icon:U.cancelIcon,handler:"cancel"},se.buttons.close={text:U.closeText,icon:U.closeIcon,handler:"cancel"},se.buttons.clear={text:U.clearText,icon:U.clearIcon,handler:"clear"},se._isInput=ae.is("input")},se._init=function(e){var t=se._isVisible,s=t&&!C.hasClass("mbsc-fr-pos");t&&se.hide(!0,!1,!0),ae.off(".mbsc"),se.__init(e),se._isLiquid="liquid"==U.layout,O?(se._readValue(),se._hasContent||U.skipShow||se.attachShow(ae),t&&se.show(s)):se.show(),ae.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){se._preventChange||se.setVal(ae.val(),!0,!1),se._preventChange=!1})},se.buttons={},se.handlers={set:se.select,cancel:se.cancel,clear:se.clear},se._value=null,se._isValid=!0,se._isVisible=!1,U=se.settings,Q=se.trigger,s||se.init()};yt.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:ut||mt,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!ht},ze.Frame=yt,ct.frame.mobiscroll={headerText:!1,btnWidth:!1},ct.scroller.mobiscroll=Ue({},ct.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Oe&&Re(window).on("focus",function(){nt&&(it=!0)});/* eslint-disable no-unused-vars */
var _t="ios"==Ae,xt=function(e,t,s){function a(e){ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),pe.prevDef&&e.preventDefault(),pe.readonly||pe.lock&&F||$(e,this)&&!W&&(g&&g.removeClass("mbsc-active"),P=!1,F||(g=Re(e.target).closest(".mbsc-btn-e",this),g.length&&!g.hasClass("mbsc-disabled")&&(P=!0,w=setTimeout(function(){g.addClass("mbsc-active")},100))),W=!0,G=!1,q=!1,me.scrolled=F,ae=x(e,"X"),ne=x(e,"Y"),E=ae,T=0,k=0,M=0,se=new Date,te=+L(oe,de)||0,F&&v(te,_t?0:1),"mousedown"===e.type&&Re(document).on("mousemove",n).on("mouseup",o))}function n(e){W&&(pe.stopProp&&e.stopPropagation(),E=x(e,"X"),V=x(e,"Y"),T=E-ae,k=V-ne,M=de?k:T,P&&(Math.abs(k)>pe.thresholdY||Math.abs(T)>pe.thresholdX)&&(clearTimeout(w),g.removeClass("mbsc-active"),P=!1),(me.scrolled||!q&&Math.abs(M)>le)&&(G||ce("onGestureStart",O),me.scrolled=G=!0,j||(j=!0,R=Ie(i))),de||pe.scrollLock?e.preventDefault():me.scrolled?e.preventDefault():Math.abs(k)>7&&(q=!0,me.scrolled=!0,o()))}function i(){I&&(M=h(M,-Q*I,Q*I)),v(h(te+M,N-A,H+A)),j=!1}function o(e){if(W){var t,s=new Date-se;pe.stopProp&&e&&e.stopPropagation(),Ne(R),j=!1,!q&&me.scrolled&&(pe.momentum&&s<300&&(t=M/s,M=Math.max(Math.abs(M),t*t/pe.speedUnit)*(M<0?-1:1)),b(M)),P&&(clearTimeout(w),g.addClass("mbsc-active"),setTimeout(function(){g.removeClass("mbsc-active")},100),q||me.scrolled||ce("onBtnTap",{target:g[0],domEvent:e})),e&&"mouseup"==e.type&&Re(document).off("mousemove",n).off("mouseup",o),W=!1}}function r(e){if(e=e.originalEvent||e,M=de?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),M){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(M*=15),M=h(-M,-Z,Z),te=ue,pe.readonly)return;if(G||p(),te+M<N&&(te=N,M=0),te+M>H&&(te=H,M=0),j||(j=!0,R=Ie(i)),!M&&G)return;G=!0,clearTimeout(J),J=setTimeout(function(){Ne(R),j=!1,G=!1,b(M)},200)}}function l(e){ce("onStart",{domEvent:e}),pe.readonly||(e.stopPropagation(),te=ue,G=!1,e.target==X?(ne=x(e,"Y",!0),Re(document).on("mousemove",c).on("mouseup",d)):(ne=y.offset().top,c(e),d()))}function c(e){var t=(x(e,"Y",!0)-ne)/C;Y?(M=-(I*Q*2+C)*t,M=h(M,-Q*I,Q*I)):M=(N-H-C)*t,G||p(),G=!0,v(h(te+M,N-A,H+A))}function d(){te=ue,b(0),Re(document).off("mousemove",c).off("mouseup",d)}function f(e){e.stopPropagation()}function p(){O={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:M>0?de?270:360:de?90:180},ce("onGestureStart",O)}function b(e){var t,s,a;if(I&&(e=h(e,-Q*I,Q*I)),a=h(Math.round((te+e)/Q)*Q,N,H),ee){if(e<0){for(t=ee.length-1;t>=0;t--)if(Math.abs(a)+C>=ee[t].breakpoint){he=t,fe=2,a=ee[t].snap2;break}}else if(e>=0)for(t=0;t<ee.length;t++)if(Math.abs(a)<=ee[t].breakpoint){he=t,fe=1,a=ee[t].snap1;break}a=h(a,N,H)}s=pe.time||(ue<N||ue>H?1e3:Math.max(1e3,Math.abs(a-ue)*pe.timeUnit)),O.destinationX=de?0:a,O.destinationY=de?a:0,O.duration=s,O.transitionTiming=S,ce("onGestureEnd",O),me.scroll(a,s)}function v(e,t,s,a){var n,i=e!=ue,o=t>1,r=t?Qe+"transform "+Math.round(t)+"ms "+S:"",l=function(){clearInterval(K),clearTimeout(re),F=!1,ue=e,O.posX=de?0:e,O.posY=de?e:0,i&&ce("onMove",O),o&&ce("onAnimationEnd",O),a&&a()};O={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:e-ue>0?de?270:360:de?90:180},ue=e,o&&(O.destinationX=de?0:e,O.destinationY=de?e:0,O.duration=t,O.transitionTiming=S,ce("onAnimationStart",O)),ie[st+"Transition"]=r,ie[st+"Transform"]="translate3d("+(de?"0,"+e+"px,":e+"px,0,")+"0)",X&&z&&(n=Y?(B-e)/(I*Q*2):(e-H)/(N-H),X.style[st+"Transition"]=r,X.style[st+"Transform"]="translate3d(0,"+Math.max(0,Math.min((C-z)*n,C-z))+"px,0)"),!i&&!F||!t||t<=1?l():t&&(F=!s,clearInterval(K),K=setInterval(function(){var t=+L(oe,de)||0;O.posX=de?0:t,O.posY=de?t:0,ce("onMove",O),Math.abs(t-e)<2&&l()},100),clearTimeout(re),re=setTimeout(function(){l()},t)),pe.sync&&pe.sync(e,t,S)}var g,y,_,w,C,T,k,M,D,S,A,E,V,O,P,Y,H,I,N,W,F,q,R,j,X,z,B,U,G,J,Z,K,Q,ee,te,se,ae,ne,ie,oe,re,le,ce,de,ue,me=this,he=0,fe=1,pe=t,be=Re(e);Ge.call(this,e,t,!0),me.scrolled=!1,me.scroll=function(t,s,a,n){t=u(t)?Math.round(t/Q)*Q:Math.ceil((Re(t,e).length?Math.round(oe.offset()[D]-Re(t,e).offset()[D]):ue)/Q)*Q,t=h(t,N,H),he=Math.round(t/Q),te=ue,B=I*Q+t,v(t,s,a,n)},me.refresh=function(e){var t;for(C=void 0===pe.contSize?de?be.height():be.width():pe.contSize,H=void 0===pe.maxScroll?0:pe.maxScroll,N=Math.min(H,void 0===pe.minScroll?Math.min(0,de?C-oe.height():C-oe.width()):pe.minScroll),ee=null,!de&&pe.rtl&&(t=H,H=-N,N=-t),m(pe.snap)&&(ee=[],oe.find(pe.snap).each(function(){var e=de?this.offsetTop:this.offsetLeft,t=de?this.offsetHeight:this.offsetWidth;ee.push({breakpoint:e+t/2,snap1:-e,snap2:C-e-t})})),Q=u(pe.snap)?pe.snap:1,I=pe.snap?pe.maxSnapScroll:0,S=pe.easing,A=pe.elastic?u(pe.snap)?Q:u(pe.elastic)?pe.elastic:0:0,Z=Q;Z>44;)Z/=2;Z=Math.round(44/Z)*Z,X&&(Y=N==-(1/0)||H==1/0,z=N<H?Math.max(20,C*C/(H-N+C)):0,X.style.height=z+"px",U.style.height=z?"":0),void 0===ue&&(ue=pe.initialPos,he=Math.round(ue/Q)),e||me.scroll(pe.snap?ee?ee[he]["snap"+fe]:he*Q:ue)},me._processSettings=function(){de="Y"==pe.axis,D=de?"top":"left",oe=pe.moveElement||be.children().eq(0),ie=oe[0].style,le=de?pe.thresholdY:pe.thresholdX,pe.scrollbar&&(_=pe.scrollbar,y=_.find(".mbsc-sc-bar"),X=y[0],U=_[0])},me._init=function(){me.refresh(),be.on("touchstart mousedown",a).on("touchmove",n).on("touchend touchcancel",o),pe.mousewheel&&be.on("wheel mousewheel",r),X&&_.on("mousedown",l).on("click",f),e.addEventListener&&e.addEventListener("click",function(e){me.scrolled&&(me.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},me._destroy=function(){clearInterval(K),be.off("touchstart mousedown",a).off("touchmove",n).off("touchend touchcancel",o).off("wheel mousewheel",r),X&&_.off("mousedown",l).off("click",f)},pe=me.settings,ce=me.trigger,s||me.init()};xt.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var wt={},Ct=Oe?window.CSS:null,Tt=Ct&&Ct.supports&&Ct.supports("(transform-style: preserve-3d)"),kt=function(e,t,s){function a(e){var t,s,a=+Re(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,i(a,Re(e.target))),t&&(e.stopPropagation(),e.preventDefault(),s&&V.start(a,s,e))}function n(){V.stop()}function i(e,t){var s=q[e],a=+t.attr("data-index"),n=p(s,a),i=z._tempSelected[e],o=u(s.multiple)?s.multiple:1/0;W("onItemTap",{target:t[0],index:e,value:n,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[n]&&(void 0!==i[n]?(t.removeClass(A).removeAttr("aria-selected"),delete i[n]):(1==o&&(z._tempSelected[e]=i={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected")),c(i).length<o&&(t.addClass(A).attr("aria-selected","true"),i[n]=n))),C(s,e,a,X,s._index<a?1:2,!0,s.multiple),z.live&&(!s.multiple||1===s.multiple&&N.tapSelect)&&(N.setOnTap===!0||N.setOnTap[e])&&setTimeout(function(){z.select()},N.tapSelect?0:200))}function o(e,t){var s=q[e];return s&&(!s.multiple||1!==s.multiple&&t&&(N.setOnTap===!0||N.setOnTap[e]))}function r(e){return-(e.max-e._offset-(e.multiple&&!S?Math.floor(N.rows/2):0))*L}function l(e){return-(e.min-e._offset+(e.multiple&&!S?Math.floor(N.rows/2):0))*L}function d(e,t){return(e._array?e._map[t]:+e.getIndex(t,z))||0}function m(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Re(s).get(t%e._length):s[t]:Re.isFunction(s)?s(t,z):""}function h(e){return Re.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function f(e){var t=Re.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return h(m(e,t))}function b(e,t,s){var a=q[e];C(a,e,a._index+t,N.delay+100,1==t?1:2,!1,!1,"keydown"==s.type)}function v(e){return Re.isArray(N.readonly)?N.readonly[e]:N.readonly}function g(e,t,s){var a=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Re.isArray(e.data),e._array&&(e._length=e.data.length,Re.each(e.data,function(t,s){e._map[h(s)]=t})),e.circular=void 0===N.circular?void 0===e.circular?e._array&&e._length>N.rows:e.circular:Re.isArray(N.circular)?N.circular[t]:N.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=d(e,$[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-j,e._last=e._index+j,e._offset=e._first,s?(e._offset-=e._margin/L+(e._index-a),e._margin+=(e._index-a)*L):e._margin=0,e._refresh=function(t){Ue(e._scroller.settings,{minScroll:r(e),maxScroll:l(e)}),e._scroller.refresh(t)},R[e.key]=e,e}function y(e,t,s,a,n){var i,o,r,l,c,d,u,p,b="",v=z._tempSelected[t],g=e._disabled||{};for(i=s;i<=a;i++)r=m(e,i),c=f(r),l=h(r),o=r&&void 0!==r.cssClass?r.cssClass:"",d=r&&void 0!==r.label?r.label:"",u=r&&r.invalid,p=void 0!==l&&l==$[t]&&!e.multiple,b+='<div role="option" tabindex="-1" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+o+" "+(p?"mbsc-sc-itm-sel ":"")+(v[l]?A:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+H(l)+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+L+"px;line-height:"+L+"px;"+(n?Qe+"transform:rotateX("+(e._offset-i)*D%360+"deg) translateZ("+L*N.rows/2+"px);":"")+'">'+(F>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(L/F)+"px;font-size:"+Math.round(L/F*.8)+'px;">':"")+c+(F>1?"</div>":"")+"</div>";return b}function _(e,t,s){var a=Math.round(-s/L)+e._offset,n=a-e._current,i=e._first,o=e._last,r=i+j-M+1,l=o-j+M;n&&(e._first+=n,e._last+=n,e._current=a,n>0?(e._$scroller.append(y(e,t,Math.max(o+1,i+n),o+n)),Re(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,o-i+1)).remove(),S&&(e._$3d.append(y(e,t,Math.max(l+1,r+n),l+n,!0)),Re(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,l-r+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,o+n))),Re(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-o-1)).remove(),S&&(e._$3d.prepend(y(e,t,r+n,Math.min(r-1,l+n),!0)),Re(".mbsc-sc-itm",e._$3d).slice(Math.max(n,r-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*L,e._$scroller.css("margin-top",e._margin+"px"))}function x(e,t,s,a){var n,i=q[e],o=a||i._disabled,r=d(i,t),l=p(i,r),c=l,u=l,m=0,h=0;if(o[l]===!0){for(n=0;r-m>=i.min&&o[c]&&n<100;)n++,m++,c=p(i,r-m);for(n=0;r+h<i.max&&o[u]&&n<100;)n++,h++,u=p(i,r+h);l=(h<m&&h&&2!==s||!m||r-m<0||1==s)&&!o[u]?u:c}return l}function w(t,s,a,n,i,r,l){var c,u,m,h,f=z._isVisible;I=!0,h=N.validate.call(e,{values:$.slice(0),index:s,direction:a},z)||{},I=!1,h.valid&&(z._tempWheelArray=$=h.valid.slice(0)),r||Re.each(q,function(e,n){if(f&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},h.disabled&&h.disabled[e]&&Re.each(h.disabled[e],function(e,t){n._disabled[t]=!0,f&&n._$markup.find('.mbsc-sc-itm[data-val="'+H(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),$[e]=n.multiple?$[e]:x(e,$[e],a),f){if(n.multiple&&void 0!==s||n._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected"),u=d(n,$[e]),c=u-n._index+n._batch,Math.abs(c)>2*j+1&&(m=c+(2*j+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*L,n._refresh()),n._index=u+n._batch,n.multiple){if(void 0===s)for(var o in z._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+H(o)+'"]').addClass(A).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+H($[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(S&&n.multiple?1:0).attr("tabindex",0),l&&s===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(u-n._offset+n._batch)*L,s===e||void 0===s?t:X,i)}}),W("onValidated",{index:s,time:t}),z._tempValue=N.formatValue.call(e,$,z),f&&z._updateHeader(),z.live&&o(s,r)&&(z._hasValue=n||z._hasValue,T(n,n,0,!0),n&&W("onSet",{valueText:z._value})),n&&W("onChange",{index:s,valueText:z._tempValue})}function C(e,t,s,a,n,i,o,r){var l=p(e,s);void 0!==l&&($[t]=l,e._batch=e._array?Math.floor(s/e._length)*e._length:0,e._index=s,setTimeout(function(){w(a,t,n,!0,i,o,r)},10))}function T(t,s,a,n,i){if(n?z._tempValue=N.formatValue.call(e,z._tempWheelArray,z):w(a),!i){z._wheelArray=[];for(var o=0;o<$.length;o++)z._wheelArray[o]=q[o]&&q[o].multiple?Object.keys(z._tempSelected[o]||{})[0]:$[o];z._value=z._hasValue?z._tempValue:null,z._selected=Ue(!0,{},z._tempSelected)}t&&(z._isInput&&B.val(z._hasValue?z._tempValue:""),W("onFill",{valueText:z._hasValue?z._tempValue:"",change:s}),s&&(z._preventChange=!0,B.trigger("change")))}var k,M,D,S,A,E,V,$,L,O,Y,I,N,W,F,q,R,j=40,X=1e3,z=this,B=Re(e);yt.call(this,e,t,!0),z.setVal=z._setVal=function(t,s,a,n,i){z._hasValue=null!==t&&void 0!==t,z._tempWheelArray=$=Re.isArray(t)?t.slice(0):N.parseValue.call(e,t,z)||[],T(s,void 0===a?s:a,i,!1,n)},z.getVal=z._getVal=function(e){var t=z._hasValue||e?z[e?"_tempValue":"_value"]:null;return u(t)?+t:t},z.setArrayVal=z.setVal,z.getArrayVal=function(e){return e?z._tempWheelArray:z._wheelArray},z.changeWheel=function(e,t,s){var a,n;Re.each(e,function(e,t){n=R[e],n&&(a=n._nr,Ue(n,t),g(n,a,!0),z._isVisible&&(S&&n._$3d.html(y(n,a,n._first+j-M+1,n._last-j+M,!0)),n._$scroller.html(y(n,a,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(I)))}),!z._isVisible||z._isLiquid||I||z.position(),I||w(t,void 0,void 0,s)},z.getValidValue=x,z._generateContent=function(){var e,t=0,s="",a=S?Qe+"transform: translateZ("+(L*N.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+a+"height:"+L+"px;margin-top:-"+(L/2+(N.selectedLineBorder||0))+'px;"></div>',i=0;return Re.each(N.wheels,function(o,r){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(S?" mbsc-sc-whl-gr-3d-c":"")+(N.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(S?" mbsc-sc-whl-gr-3d":"")+(E?" mbsc-sc-cp":"")+(N.width||N.maxWidth?'"':'" style="max-width:'+N.maxPopupWidth+'px;"')+">",Re.each(r,function(o,r){z._tempSelected[i]=Ue({},z._selected[i]),q[i]=g(r,i),t+=N.maxWidth?N.maxWidth[i]||N.maxWidth:N.width?N.width[i]||N.width:0,e=void 0!==r.label?r.label:o,s+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(N.width?"width:"+(N.width[i]||N.width)+"px;":(N.minWidth?"min-width:"+(N.minWidth[i]||N.minWidth)+"px;":"")+(N.maxWidth?"max-width:"+(N.maxWidth[i]||N.maxWidth)+"px;":""))+'">'+(Y?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+a+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+N.rows*L*(S?1.1:1)+'px;">'+(E?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(N.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(N.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+O+"px;margin-top:-"+(O/2+1)+"px;"+a+'"><div class="mbsc-sc-whl-sc" style="top:'+(O-L)/2+'px;">',s+=y(r,i,r._first,r._last)+"</div></div>",S&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+L+"px;margin-top:-"+L/2+'px;">',s+=y(r,i,r._first+j-M+1,r._last-j+M,!0),s+="</div>"),s+="</div></div>",i++}),s+="</div></div>"}),t&&(N.maxPopupWidth=t),s},z._attachEvents=function(e){V=P(Re(".mbsc-sc-btn",e),b,N.delay,v,!0),Re(".mbsc-sc-whl",e).on("keydown",a).on("keyup",n)},z._detachEvents=function(){V.stop();for(var e=0;e<q.length;e++)q[e]._scroller.destroy()},z._markupReady=function(e){k=e,Re(".mbsc-sc-whl-w",k).each(function(e){var t,s=Re(this),a=q[e];a._$markup=s,a._$scroller=Re(".mbsc-sc-whl-sc",this),a._$3d=Re(".mbsc-sc-whl-3d",this),a._scroller=new xt(this,{mousewheel:N.mousewheel,moveElement:a._$scroller,scrollbar:Re(".mbsc-sc-bar-c",this),initialPos:(a._first-a._index)*L,contSize:N.rows*L,snap:L,minScroll:r(a),maxScroll:l(a),maxSnapScroll:j,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){var n=t?Qe+"transform "+Math.round(t)+"ms "+s:"";S&&(a._$3d[0].style[st+"Transition"]=n,a._$3d[0].style[st+"Transform"]="rotateX("+-e/L*D+"deg)")},onStart:function(t,s){s.settings.readonly=v(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var n=90==s.direction?1:2,i=s.duration,o=s.destinationY;t=Math.round(-o/L)+a._offset,C(a,e,t,i,n)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelAnimationEnd",{index:e}),a._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(a,e,t.posY)},onBtnTap:function(t){i(e,Re(t.target))}})}),w()},z._fillValue=function(){z._hasValue=!0,T(!0,!0,0,!0)},z._clearValue=function(){Re(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(A).removeAttr("aria-selected")},z._readValue=function(){var t=B.val()||"",s=0;""!==t&&(z._hasValue=!0),z._tempWheelArray=$=z._hasValue&&z._wheelArray?z._wheelArray.slice(0):N.parseValue.call(e,t,z)||[],z._tempSelected=Ue(!0,{},z._selected),Re.each(N.wheels,function(e,t){Re.each(t,function(e,t){q[s]=g(t,s),s++})}),T(!1,!1,0,!0),W("onRead")},z.__processSettings=function(e){N=z.settings,W=z.trigger,F=N.multiline,A="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+N.checkIcon,Y=!N.touchUi,Y&&(N.tapSelect=!0,N.circular=!1,N.rows=e.rows||t.rows||7)},z.__init=function(e){e&&(z._wheelArray=null),q=[],R={},E=N.showScrollArrows,S=N.scroll3d&&Tt&&!E&&!Y&&("ios"==N.theme||"ios"==N.baseTheme),L=N.height,O=S?2*Math.round((L-.03*(L*N.rows/2+3))/2):L,M=Math.round(1.8*N.rows),D=360/(2*M),E&&(N.rows=Math.max(3,N.rows))},z._getItemValue=h,z._tempSelected={},z._selected={},s||z.init()};kt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:wt,_defaults:Ue({},yt.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,a,n=[],i=[],o=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),Re.each(t.settings.wheels,function(e,r){Re.each(r,function(e,r){a=r.data,s=t._getItemValue(a[0]),Re.each(a,function(e,a){if(n[o]==t._getItemValue(a))return s=t._getItemValue(a),!1}),i.push(s),o++})}),i}})},ze.Scroller=kt;var Mt={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};wt.select=function(e,t){function s(e){var t,s,a,n,i,o,r=0,l=0,c={};if(B={},E={},O=[],D=[],le.length=0,se)Re.each(C,function(r,d){i=d[j.dataText]+"",s=d[j.dataHtml],o=d[j.dataValue],a=d[j.dataGroup],n={value:o,html:s,text:i,index:r,cssClass:oe?"mbsc-sel-gr-itm":""},B[o]=n,e&&!v(i,e)||(O.push(n),ae&&(void 0===c[a]?(t={text:a,value:l,options:[],index:l},E[l]=t,c[a]=l,D.push(t),l++):t=E[c[a]],ie&&(n.index=t.options.length),n.group=c[a],t.options.push(n)),d[j.dataDisabled]&&le.push(o))});else if(ae){var d=!0;Re("optgroup",q).each(function(t){E[t]={text:this.label,value:t,options:[],index:t},d=!0,Re("option",this).each(function(s){n={value:this.value,text:this.text,index:ie?s:r++,group:t,cssClass:oe?"mbsc-sel-gr-itm":""},B[this.value]=n,e&&!v(this.text,e)||(d&&(D.push(E[t]),d=!1),O.push(n),E[t].options.push(n),this.disabled&&le.push(this.value))})})}else Re("option",q).each(function(t){n={value:this.value,text:this.text,index:t},B[this.value]=n,e&&!v(this.text,e)||(O.push(n),this.disabled&&le.push(this.value))});I=j.defaultValue?j.defaultValue:O.length?O[0].value:"",oe&&(O=[],r=0,Re.each(E,function(e,t){t.options.length&&(o="__group"+e,n={text:t.text,value:o,group:e,index:r++,cssClass:"mbsc-sel-gr"},B[o]=n,O.push(n),le.push(n.value),Re.each(t.options,function(e,t){t.index=r++,O.push(t)}))})),X&&(O.length?X.removeClass("mbsc-sel-empty-v"):X.addClass("mbsc-sel-empty-v"))}function a(e,t,s,a,n){var i,o=[];for(i=0;i<e.length;i++)o.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!a?1:a,cssClass:(t&&!a?"mbsc-sel-one":"")+" "+n,data:o,label:s}}function n(){return a(D,Z,j.groupLabel,!1,"mbsc-sel-gr-whl")}function i(){return a(ie&&E[M]?E[M].options:O,Z,ee,J,"")}function o(){var e=[[]];return ne&&(S=n(),G?e[0][V]=S:e[V]=[S]),P=i(),G?e[0][Y]=P:e[Y]=[P],e}function r(e){J&&(e&&m(e)&&(e=e.split(",")),Re.isArray(e)&&(e=e[0])),L=void 0===e||null===e||""===e?I:e,!B[L]&&O&&O.length&&(L=O[0].value),ne&&(M=B[L]?B[L].group:null)}function h(e){return N[e]||(B[e]?B[e].text:"")}function f(e,t,s){var a,n,i=[],o=s?t._selected:t._tempSelected;if(Z){for(a in o[Y])i.push(h(a));return i.join(", ")}return n=e[Y],h(n)}function p(){var t,s="",a=e.getVal(),n=j.formatValue.call(F,e.getArrayVal(),e,!0);if(j.filter&&"inline"==j.display||w.val(n),q.is("select")&&se){if(J)for(t=0;t<a.length;t++)s+='<option value="'+a[t]+'">'+h(a[t])+"</option>";else s='<option value="'+(null===a?"":a)+'">'+n+"</option>";q.html(s)}F!==w[0]&&q.val(a)}function b(){var t={};t[Y]=i(),H=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return j.data.dataField?e[j.data.dataField]:j.data.processResponse?j.data.processResponse(e):e}function y(t){var a={};s(t),r(L),j.wheels=o(),a[Y]=P,e._tempWheelArray[Y]=L,ne&&(a[V]=S,e._tempWheelArray[V]=M),e.changeWheel(a,0,!0),p()}function _(t){return e.trigger("onFilter",{filterText:t})}function x(t){t[V]!=M&&(M=t[V],L=E[M].options[0].value,t[Y]=L,ie?b():e.setArrayVal(t,!1,!1,!0,W))}var w,C,T,k,M,D,S,E,V,$,L,O,P,Y,H,I="",N={},W=1e3,F=this,q=Re(F),R=Ue({},e.settings),j=Ue(e.settings,Mt,R),X=Re('<div class="mbsc-sel-empty">'+j.filterEmptyText+"</div>"),z=j.readonly,B={},U=j.layout||(/top|bottom|inline/.test(j.display)||j.filter?"liquid":""),G="liquid"==U||!j.touchUi,J=u(j.select)?j.select:"multiple"==j.select||q.prop("multiple"),Z=J||!(!j.filter&&!j.tapSelect)&&1,K=this.id+"_dummy",Q=Re('label[for="'+this.id+'"]').attr("for",K),ee=void 0!==j.label?j.label:Q.length?Q.text():q.attr("name"),te=j.group,se=!!j.data,ae=se?!!j.group:Re("optgroup",q).length,ne=ae&&te&&te.groupWheel!==!1,ie=ae&&te&&ne&&te.clustered===!0,oe=ae&&(!te||te.header!==!1&&!ie),re=q.val()||(J?[]:[""]),le=[];return e.setVal=function(t,s,a,n,i){if(Z&&(null===t||void 0===t||J||(t=[t]),t&&m(t)&&(t=t.split(",")),e._tempSelected[Y]=d(t),n||(e._selected[Y]=d(t)),t=t?t[0]:null,ne)){var o=B[t],r=o&&o.group;e._tempSelected[V]=d([r]),n||(e._selected[V]=d([r]))}e._setVal(t,s,a,n,i)},e.getVal=function(t,s){var a;return Z?(a=c(t?e._tempSelected[Y]:e._selected[Y]),a=J?a:a.length?a[0]:null):(a=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,a=a?a[Y]:null),J?a:void 0!==a?ae&&s?[B[a]?B[a].group:null,a]:a:null},e.refresh=function(e,t,s){s=s||l,e?(C=e,$||(j.data=e)):Re.isArray(j.data)&&(C=j.data),!e&&$&&void 0===t?A(j.data.url,function(e){C=g(e),y(),s()},j.data.dataType):(y(t),s())},t.invalid||(j.invalid=le),ne?(V=0,Y=1):(V=-1,Y=0),Z&&(J&&q.prop("multiple",!0),re&&m(re)&&(re=re.split(",")),e._selected[Y]=d(re)),e._$input&&e._$input.remove(),q.next().is("input.mbsc-control")?w=q.next().removeAttr("tabindex"):j.input?w=Re(j.input):(j.filter&&"inline"==j.display?e._$input=Re('<div class="mbsc-sel-input-wrap"><input type="text" id="'+K+'" class="mbsc-control '+j.inputClass+'" readonly /></div>'):(w=Re('<input type="text" id="'+K+'" class="mbsc-control '+j.inputClass+'" readonly />'),e._$input=w),j.showInput&&(e._$input.insertAfter(q),w||(w=e._$input.find("#"+K)))),e.attachShow(w.attr("placeholder",j.placeholder||"")),w[0]!==F&&q.addClass("mbsc-sel-hdn").attr("tabindex",-1),!Z||j.rows%2||(j.rows=j.rows-1),j.filter&&(T=j.filter.minLength||0),$=j.data&&j.data.url,$?e.refresh():(se&&(C=j.data),s(),r(q.val())),{layout:U,headerText:!1,anchor:w,compClass:"mbsc-sc mbsc-sel"+(Z?" mbsc-sel-multi":""),setOnTap:!ne||[!1,!0],formatValue:f,tapSelect:Z,parseValue:function(e){return r(void 0===e?q.val():e),ne?[M,L]:[L]},validate:function(e){var t=e.index,s=[];return s[Y]=j.invalid,ie&&!H&&void 0===t&&b(),H=!1,{disabled:s}},onRead:p,onFill:p,onMarkupReady:function(e,t){if(j.filter){var s,a,n,i=Re(".mbsc-fr-w",e.target),o=Re('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+j.filterClearIcon+'"></span>');"inline"==j.display?(s=w,w.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),s=i.find(".mbsc-sel-filter-input")),k=null,n=s[0],s.prop("readonly",!1).attr("placeholder",j.filterPlaceholderText).parent().append(o),i.find(".mbsc-fr-c").prepend(X),t._activeElm=n,t.tap(o,function(){k=null,n.value="",t.refresh(),o.removeClass("mbsc-sel-filter-show-clear"),_("")}),s.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(a),n.value.length?o.addClass("mbsc-sel-filter-show-clear"):o.removeClass("mbsc-sel-filter-show-clear"),a=setTimeout(function(){k!==n.value&&_(n.value)!==!1&&(k=n.value,(k.length>=T||!k.length)&&($&&j.data.remoteFilter?A(j.data.url+encodeURIComponent(k),function(e){t.refresh(g(e))},j.data.dataType):t.refresh(void 0,k)))},500)})}},onBeforeShow:function(){J&&j.counter&&(j.headerText=function(){var t=0;return Re.each(e._tempSelected[Y],function(){t++}),(t>1?j.selectedPluralText||j.selectedText:j.selectedText).replace(/{count}/,t)}),r(q.val()),Z&&ne&&(e._selected[V]=d([M])),j.filter&&s(void 0),e.settings.wheels=o(),H=!0},onWheelGestureStart:function(e){e.index==V&&(j.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var s=e.getArrayVal(!0);t.index==V?(j.readonly=z,Z||x(s)):t.index==Y&&s[Y]!=L&&(L=s[Y],ne&&B[L]&&B[L].group!=M&&(M=B[L].group,s[V]=M,e._tempSelected[V]=d([M]),e.setArrayVal(s,!1,!1,!0,W)))},onItemTap:function(t){var s;if(t.index==Y&&(N[t.value]=B[t.value].text,Z&&!J&&t.selected))return!1;if(t.index==V&&Z){if(t.selected)return!1;s=e.getArrayVal(!0),s[V]=t.value,x(s)}},onClose:function(){$&&j.data.remoteFilter&&k&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),q.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},r("select",kt);var Dt=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,St=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,At=/^\d{1,2}(\/\d{1,2})?$/,Et=/^w\d$/i,Vt={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:I,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};pe.datetime={formatDate:N,parseDate:W};var $t={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Lt=function(e){function t(e){var t,s,a,n,i=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.end&&!St.test(s.start))for(a=new Date(z(s.start,U,R)),n=new Date(z(s.end,U,R));a<=n;)i.push(I(a.getFullYear(),a.getMonth(),a.getDate())),a.setDate(a.getDate()+1);else i.push(s);return i}return e}function s(e,t,s,a){return Math.min(a,Math.floor(e/t)*t+s)}function a(e,t,s){return Math.floor((s-t)/e)*e+t}function n(e){return R.getYear(e)}function i(e){return R.getMonth(e)}function o(e){return R.getDay(e)}function r(e){var t=e.getHours();return t=ie&&t>=12?t-12:t,s(t,le,me,pe)}function l(e){return s(e.getMinutes(),ce,he,ve)}function c(e){return s(e.getSeconds(),de,fe,ge)}function d(e){return e.getMilliseconds()}function u(e){return e.getHours()>11?1:0}function m(e){return e.getFullYear()+"-"+f(e.getMonth()+1)+"-"+f(e.getDate())}function h(e){return s(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),E,0,86400)}function p(e,t,s,a){var n;return void 0===L[t]||(n=+e[L[t]],isNaN(n))?s?Ce[t](s):void 0!==O[t]?O[t]:Ce[t](a):n}function b(e){var t,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==L.dd&&(t=e[L.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==L.tt&&(t=t||s,t=new Date(t.getTime()+e[L.tt]%86400*1e3));var a=p(e,"y",t,s),n=p(e,"m",t,s),i=Math.min(p(e,"d",t,s),R.getMaxDayOfMonth(a,n)),o=p(e,"h",t,s);return R.getDate(a,n,i,ie&&p(e,"a",t,s)?o+12:o,p(e,"i",t,s),p(e,"s",t,s),p(e,"u",t,s))}function v(e,t){var s,a,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(s=0;s<n.length;s++)a=n[s],void 0!==L[a]&&(i[L[a]]=Ce[a](e)),t&&(O[a]=Ce[a](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function y(e){return{value:e,display:(/yy/i.test(Z)?e:(e+"").substr(2,2))+(R.yearSuffix||"")}}function _(e){return e}function x(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:se?g(m(se),t):void 0,max:ae?g(m(ae),t):void 0,data:function(s){var a=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*s):new Date(1970,s,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!M(n,!0),value:m(n),display:a.getTime()==n.getTime()?R.todayText:N(e,n,R)}},getIndex:function(e){return g(e,t)}}}function w(e){var t,s,a,n=[];for(/s/i.test(e)?s=de:/i/i.test(e)?s=60*ce:/h/i.test(e)&&(s=3600*le),E=xe.tt=s,t=0;t<86400;t+=s)a=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:N(e,a,R)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function C(){var e,t,s,a,n,i,o,r,l=0,c=[],d=[],u=[];if(/date/i.test(j)){for(e=G.split(/\|/.test(G)?"|":""),a=0;a<e.length;a++)if(s=e[a],i=0,s.length)if(/y/i.test(s)&&(P.y=1,i++),/m/i.test(s)&&(P.y=1,P.m=1,i++),/d/i.test(s)&&(P.y=1,P.m=1,P.d=1,i++),i>1&&void 0===L.dd)L.dd=l,l++,d.push(x(s)),u=d,V=!0;else if(/y/i.test(s)&&void 0===L.y)L.y=l,l++,d.push({cssClass:"mbsc-dt-whl-y",label:R.yearText,min:se?R.getYear(se):void 0,max:ae?R.getYear(ae):void 0,data:y,getIndex:_});else if(/m/i.test(s)&&void 0===L.m){for(L.m=l,o=[],l++,n=0;n<12;n++)r=Z.replace(/[dy|]/gi,"").replace(/mm/,f(n+1)+(R.monthSuffix||"")).replace(/m/,n+1+(R.monthSuffix||"")),o.push({value:n,display:/MM/.test(r)?r.replace(/MM/,'<span class="mbsc-dt-month">'+R.monthNames[n]+"</span>"):r.replace(/M/,'<span class="mbsc-dt-month">'+R.monthNamesShort[n]+"</span>")});d.push({cssClass:"mbsc-dt-whl-m",label:R.monthText,data:o})}else if(/d/i.test(s)&&void 0===L.d){for(L.d=l,o=[],l++,n=1;n<32;n++)o.push({value:n,display:(/dd/i.test(Z)?f(n):n)+(R.daySuffix||"")});d.push({cssClass:"mbsc-dt-whl-d",label:R.dayText,data:o})}c.push(d)}if(/time/i.test(j)){for(t=J.split(/\|/.test(J)?"|":""),a=0;a<t.length;a++)if(s=t[a],i=0,s.length&&(/h/i.test(s)&&(P.h=1,i++),/i/i.test(s)&&(P.i=1,i++),/s/i.test(s)&&(P.s=1,i++),/a/i.test(s)&&i++),i>1&&void 0===L.tt)L.tt=l,l++,u.push(w(s));else if(/h/i.test(s)&&void 0===L.h){for(o=[],L.h=l,P.h=1,l++,n=me;n<(ie?12:24);n+=le)o.push({value:n,display:ie&&0===n?12:/hh/i.test(K)?f(n):n});u.push({cssClass:"mbsc-dt-whl-h",label:R.hourText,data:o})}else if(/i/i.test(s)&&void 0===L.i){for(o=[],L.i=l,P.i=1,l++,n=he;n<60;n+=ce)o.push({value:n,display:/ii/i.test(K)?f(n):n});u.push({cssClass:"mbsc-dt-whl-i",label:R.minuteText,data:o})}else if(/s/i.test(s)&&void 0===L.s){for(o=[],L.s=l,P.s=1,l++,n=fe;n<60;n+=de)o.push({value:n,display:/ss/i.test(K)?f(n):n});u.push({cssClass:"mbsc-dt-whl-s",label:R.secText,data:o})}else/a/i.test(s)&&void 0===L.a&&(L.a=l,l++,u.push({cssClass:"mbsc-dt-whl-a",label:R.ampmText,data:/A/.test(s)?[{value:0,display:R.amText.toUpperCase()},{value:1,display:R.pmText.toUpperCase()}]:[{value:0,display:R.amText},{value:1,display:R.pmText}]}));u!=d&&c.push(u)}return c}function T(e){var t,s,a,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,s=e.attr("min"),a=e.attr("max"),s&&"undefined"!=s&&(n.min=W(t,s)),a&&"undefined"!=a&&(n.max=W(t,a))}return n}function k(e,t){var s,a,n=!1,i=!1,o=0,r=0,l=se?b(v(se)):-(1/0),c=ae?b(v(ae)):1/0;if(M(e))return e;if(e<l&&(e=l),e>c&&(e=c),s=e,a=e,2!==t)for(n=M(s,!0);!n&&s<c;)s=new Date(s.getTime()+864e5),n=M(s,!0),o++;if(1!==t)for(i=M(a,!0);!i&&a>l;)a=new Date(a.getTime()-864e5),i=M(a,!0),r++;return 1===t&&n?s:2===t&&i?a:r<=o&&i?a:s}function M(e,t){return!(!t&&e<se)&&(!(!t&&e>ae)&&(!!D(e,te)||!D(e,ee)))}function D(e,t){var s,a,n;if(t)for(a=0;a<t.length;a++)if(s=t[a],n=s+"",!s.start)if(Et.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(At.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(s=z(s,U,R),e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0;return!1}function S(e,t,s,a,n,i,o){var r,l,c,d;if(e)for(l=0;l<e.length;l++)if(r=e[l],d=r+"",!r.start)if(Et.test(d))for(d=+d.replace("w",""),c=d-a;c<n;c+=7)c>=0&&(i[c+1]=o);else At.test(d)?(d=d.split("/"),d[1]?d[0]-1==s&&(i[d[1]]=o):i[d[0]]=o):(r=z(r,U,R),R.getYear(r)==t&&R.getMonth(r)==s&&(i[R.getDay(r)]=o))}function A(e,t,a,n,i,o,r,l){var c,d,u,m,h,f,p,b,v,g,y,_,x,w,C,T,k,M,D,S,A={},V=R.getDate(n,i,o),$=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,k=u+"",M=k.split("/"),u&&(u.getTime&&n==R.getYear(u)&&i==R.getMonth(u)&&o==R.getDay(u)||!Et.test(k)&&(M[1]&&o==M[1]&&i==M[0]-1||!M[1]&&o==M[0])||Et.test(k)&&V.getDay()==+k.replace("w",""))&&(y.apply=!0,A[V]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=ye[a],v=_e[a],w=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!A[V])){for(_=y.start.split(":"),x=y.end.split(":"),g=0;g<3;g++)void 0===_[g]&&(_[g]=0),void 0===x[g]&&(x[g]=59),_[g]=+_[g],x[g]=+x[g];if("tt"==a)b=s(Math.round((new Date(V).setHours(_[0],_[1],_[2])-new Date(V).setHours(0,0,0,0))/1e3),E,0,86400),v=s(Math.round((new Date(V).setHours(x[0],x[1],x[2])-new Date(V).setHours(0,0,0,0))/1e3),E,0,86400);else{for(_.unshift(_[0]>11?1:0),x.unshift(x[0]>11?1:0),ie&&(_[1]>=12&&(_[1]=_[1]-12),x[1]>=12&&(x[1]=x[1]-12)),g=0;g<t;g++)void 0!==Y[g]&&(D=s(_[g],xe[$[g]],ye[$[g]],_e[$[g]]),S=s(x[g],xe[$[g]],ye[$[g]],_e[$[g]]),m=0,h=0,f=0,ie&&1==g&&(m=_[0]?12:0,h=x[0]?12:0,f=Y[0]?12:0),w||(D=0),C||(S=_e[$[g]]),(w||C)&&D+m<Y[g]+f&&Y[g]+f<S+h&&(d=!0),Y[g]!=D&&(w=!1),Y[g]!=S&&(C=!1));if(!l)for(g=t+1;g<4;g++)_[g]>0&&(c=xe[a]),x[g]<_e[$[g]]&&(T=xe[a]);d||(D=s(_[t],xe[a],ye[a],_e[a])+c,S=s(x[t],xe[a],ye[a],_e[a])-T,w&&(b=D),C&&(v=S))}if(w||C||d)for(g=b;g<=v;g+=xe[a])r[g]=!l}}}var E,V,$,L={},O={},P={},Y=[],H=T(Re(this)),F=Ue({},e.settings),q=be[F.calendarSystem],R=Ue(e.settings,Vt,q,$t,H,F),j=R.preset,B="datetime"==j?R.dateFormat+R.separator+R.timeFormat:"time"==j?R.timeFormat:R.dateFormat,U=H.format||B,G=R.dateWheels||R.dateFormat,J=R.timeWheels||R.timeFormat,Z=R.dateWheels||R.dateDisplay,K=J,Q=R.baseTheme||R.theme,ee=t(R.invalid),te=t(R.valid),se=z(R.min,U,R),ae=z(R.max,U,R),ne=/time/i.test(j),ie=/h/.test(K),oe=/D/.test(Z),re=R.steps||{},le=re.hour||R.stepHour||1,ce=re.minute||R.stepMinute||1,de=re.second||R.stepSecond||1,ue=re.zeroBased,me=ue||!se?0:se.getHours()%le,he=ue||!se?0:se.getMinutes()%ce,fe=ue||!se?0:se.getSeconds()%de,pe=a(le,me,ie?11:23),ve=a(ce,he,59),ge=a(ce,he,59),ye={y:se?se.getFullYear():-(1/0),m:0,d:1,h:me,i:he,s:fe,a:0,tt:0},_e={y:ae?ae.getFullYear():1/0,m:11,d:31,h:pe,i:ve,s:ge,a:1,tt:86400},xe={y:1,m:1,d:1,h:le,i:ce,s:de,a:1,tt:1},we={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Ce={y:n,m:i,d:o,h:r,i:l,s:c,u:d,a:u,dd:m,tt:h};return e.getVal=function(t){return e._hasValue||t?X(b(e.getArrayVal(t)),R,U):null},e.getDate=function(t){return e._hasValue||t?b(e.getArrayVal(t)):null},e.setDate=function(t,s,a,n,i){e.setArrayVal(v(t,!0),s,i,n,a)},$=C(),R.isoParts=P,e._format=B,e._order=L,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:R.nowText,icon:R.nowIcon,handler:"now"},{minWidth:V&&ne?we[Q]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:$,headerText:!!R.headerText&&function(){return N(B,b(e.getArrayVal(!0)),R)},formatValue:function(e){return N(U,b(e),R)},parseValue:function(e){return e||(O={}),v(z(e||R.defaultValue||new Date,U,R,P),!!e)},validate:function(t){var s,a,n,i,o=t.values,r=t.index,l=t.direction,c=R.wheels[0][L.d],d=k(b(o),l),u=v(d),m=[],h={},f=Ce.y(d),p=Ce.m(d),g=R.getMaxDayOfMonth(f,p),y=!0,_=!0;if(Re.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==L[t]){var s=ye[t],n=_e[t],i=Ce[t](d);if(m[L[t]]=[],y&&se&&(s=Ce[t](se)),_&&ae&&(n=Ce[t](ae)),"y"!=t&&"dd"!=t)for(a=ye[t];a<=_e[t];a+=xe[t])(a<s||a>n)&&m[L[t]].push(a);if(i<s&&(i=s),i>n&&(i=n),y&&(y=i==s),_&&(_=i==n),"d"==t){var o=R.getDate(f,p,1).getDay(),r={};S(ee,f,p,o,g,r,1),S(te,f,p,o,g,r,0),Re.each(r,function(e,s){s&&m[L[t]].push(e)})}}}),ne&&Re.each(["a","h","i","s","tt"],function(t,s){var a=Ce[s](d),n=Ce.d(d),i={};void 0!==L[s]&&(A(ee,t,s,f,p,n,i,0),A(te,t,s,f,p,n,i,1),Re.each(i,function(e,t){
t&&m[L[s]].push(e)}),Y[t]=e.getValidValue(L[s],a,l,i))}),c&&(c._length!==g||oe&&(void 0===r||r===L.y||r===L.m))){for(h[L.d]=c,c.data=[],s=1;s<=g;s++)i=R.getDate(f,p,s).getDay(),n=Z.replace(/[my|]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(R.daySuffix||"")).replace(/d/,s+(R.daySuffix||"")),c.data.push({value:s,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+R.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+R.dayNamesShort[i]+"</span>")});e._tempWheelArray[L.d]=u[L.d],e.changeWheel(h)}return{disabled:m,valid:u}}}},Ot={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Pt=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function s(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function a(e){e.hasClass("mbsc-cal-h")?t(e):s(e)}function n(){var t,s,a;me={},he=[],ge={},it=e.trigger,Z=Re(ft),a=Ue({},e.settings),at=Ue(e.settings,Ot,a),t=at.controls.join(","),we=at.firstDay,$e=at.rtl,Ke=at.pageBuffer,lt=at.weekCounter,le=at.weeks,Ve=6==le,Le="vertical"==at.calendarScroll,ue="inline"==at.display?Z.is("div")?Z:Z.parent():e._$window,ct="full"==at.weekDays?"":"min"==at.weekDays?"Min":"Short",s=at.layout||("inline"==at.display||/top|bottom/.test(at.display)&&at.touchUi?"liquid":""),Ee="liquid"==s,de=Ee?null:at.calendarWidth,st=$e&&!Le?-1:1,fe="mbsc-disabled "+(at.disabledClass||""),be="mbsc-selected "+(at.selectedTabClass||""),pe="mbsc-selected "+(at.selectedClass||""),Ie=Math.max(1,Math.floor(((at.calendarHeight||0)/le-45)/18)),t.match(/calendar/)&&(me.calendar=1,Ce=!0),t.match(/date/)&&!Ce&&(me.date=1),t.match(/time/)&&(me.time=1),at.controls.forEach(function(e){me[e]&&he.push(e)}),De=at.quickNav&&Ce&&Ve,dt=at.yearChange&&Ve,Ee&&Ce&&"center"==at.display&&(e._isFullScreen=!0),at.layout=s,at.preset=(me.date||Ce?"date":"")+(me.time?"time":"")}function i(){Be=dt?at.monthNamesShort:at.monthNames,ht=at.yearSuffix||"",ze=(at.dateWheels||at.dateFormat).search(/m/i),ut=(at.dateWheels||at.dateFormat).search(/y/i),xe=e._format,at.min&&(Fe=q(z(at.min,xe,at)),Xe=at.getYear(Fe),je=at.getMonth(Fe),qe=at.getDate(12*Math.floor(Xe/12),0,1)),at.max&&(Ye=q(z(at.max,xe,at)),We=at.getYear(Ye),Ne=at.getMonth(Ye),He=at.getDate(12*Math.floor(We/12),0,1))}function o(e,t,s){e[t]=e[t]||[],e[t].push(s)}function r(e,t,s){var a,n,i,r,l=at.getYear(t),c=at.getMonth(t),d={};return e&&Re.each(e,function(e,u){if(a=u.d||u.start||u,n=a+"",u.start&&u.end)for(r=q(z(u.start,xe,at)),i=q(z(u.end,xe,at));r<=i;)o(d,r,u),r=at.getDate(at.getYear(r),at.getMonth(r),at.getDay(r)+1);else if(Et.test(n))for(r=Y(t,!1,+n.replace("w",""));r<=s;)o(d,r,u),r=at.getDate(at.getYear(r),at.getMonth(r),at.getDay(r)+7);else if(At.test(n))if(n=n.split("/"),n[1])for(r=at.getDate(l,n[0]-1,n[1]);r<=s;)o(d,r,u),r=at.getDate(at.getYear(r)+1,at.getMonth(r),n[1]);else for(r=at.getDate(l,c,n[0]);r<=s;)o(d,r,u),r=at.getDate(at.getYear(r),at.getMonth(r)+1,n[0]);else o(d,q(z(a,xe,at)),u)}),d}function c(e){return!(e<Fe)&&(!(e>Ye)&&(void 0===Se[e]||void 0!==ot[e]))}function d(t){var s,a,n,i,o=!!Pe[t]&&Pe[t],r=o&&o[0].background,l="";if(o){for(n='<div class="mbsc-cal-marks">',s=0;s<o.length;s++)a=o[s],l+=(a.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(a.color?' style="background:'+a.color+';"':"")+"></div>";n+="</div>"}return i={marked:o,background:r,cssClass:l,markup:ge[t]?ge[t].join(""):ke?n:""},Ue(i,e._getDayProps(t,i))}function u(e){return' style="'+(Le?"transform: translateY("+100*e+"%)":"left:"+100*e*st+"%")+'"'}function m(){Qe="auto"==at.months?Math.max(1,Math.min(3,Math.floor((de||U(ue))/280))):+at.months,tt=Qe+2*Ke,et=0,Le=Le&&Qe<2,nt=void 0===at.showOuterDays?Qe<2&&!Le:at.showOuterDays,ce=de||280*Qe}function h(e){return H(e,Qe-1)>Ye&&(e=H(Ye,1-Qe)),e<Fe&&(e=Fe),e}function f(e,t,s){var a=e.color,n=e.text;return'<div data-id="'+e._idx+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+Re("<div>"+n+"</div>").text()+'"'+(a?' style="background:'+a+(s?";color:"+O(a):"")+';"':"")+">"+(s?n:"")+"</div>"}function p(t){var s=Y(H(t,-et-Ke),!1),a=Y(H(t,-et+Qe+Ke-1),!1);a=at.getDate(at.getYear(a),at.getMonth(a),at.getDay(a)+7*le),e._onGenMonth(s,a),Se=r(at.invalid,s,a),ot=r(at.valid,s,a),Pe=r(at.labels||at.events||at.marked||at.colors,s,a),Oe=e._labels||Pe,Te=at.labels||e._labels,Te&&!function(){ge={};for(var e={},t=s,n=1,i=function(){t.getDay()==we&&(e={});for(var s=Ie,a=Oe[t]||[],i=a.length,o=[],r=void 0,l=void 0,c=0,d=0,u=0,m=void 0;c<s;)if(r=null,a.forEach(function(t,s){e[c]==t&&(r=t,l=s)}),c==s-1&&(d<i-1||i&&u==i&&!r)){var h=i-d,p=(h>1?at.moreEventsPluralText||at.moreEventsText:at.moreEventsText).replace(/{count}/,h);h&&o.push('<div class="mbsc-cal-txt-more">'+p+"</div>"),r&&(e[c]=null,r._days.forEach(function(e){ge[e][c]='<div class="mbsc-cal-txt-more">'+at.moreEventsText.replace(/{count}/,1)+"</div>"})),d++,c++}else if(r)l==u&&u++,B(t,z(r.end))&&(e[c]=null),o.push(f(r,l)),c++,d++,r._days.push(t);else if(u<i){var b=a[u],v=b.start&&z(b.start),g=b.end&&z(b.end),y=t.getDay(),_=we-y>0?7:0,x=g&&!B(v,g);v&&!B(t,v)&&y!=we||(n++,x?(e[c]=b,b._idx=b._idx||n):b._idx=n,b._days=[t],m=x?100*Math.min(F(t,q(g))+1,7+we-y-_):100,o.push(x?'<div class="mbsc-cal-txt-w" style="width:'+m+'%">'+f(b,u,!0)+"</div>"+f(b,u):f(b,u,!0)),c++,d++),u++}else o.push('<div class="mbsc-cal-txt-ph"></div>'),c++;ge[t]=o,t=at.getDate(at.getYear(t),at.getMonth(t),at.getDay(t)+1)};t<a;)i()}()}function b(e){var t=at.getYear(e),s=at.getMonth(e);ve=e,oe=e,A(e),it("onMonthChange",{year:t,month:s}),it("onMonthLoading",{year:t,month:s}),it("onPageChange",{firstDay:e}),it("onPageLoading",{firstDay:e}),p(e)}function v(e){var t=at.getYear(e),s=at.getMonth(e);void 0!==Ze&&T(e,Ze,!0),void 0===Ze&&g(e,t,s),k(oe,_e.focus),_e.focus=!1}function g(e,t,s){var a=_e.$scroller;Re(".mbsc-cal-slide",a).removeClass("mbsc-cal-slide-a"),Re(".mbsc-cal-slide",a).slice(Ke,Ke+Qe).addClass("mbsc-cal-slide-a"),Te&&Re(".mbsc-cal-slide-a .mbsc-cal-txt",a).on("mouseenter",function(){var e=Re(this).attr("data-id");Re('.mbsc-cal-txt[data-id="'+e+'"]',a).addClass("mbsc-hover")}).on("mouseleave",function(){Re(".mbsc-cal-txt.mbsc-hover",a).removeClass("mbsc-hover")}),it("onMonthLoaded",{year:t,month:s}),it("onPageLoaded",{firstDay:e})}function _(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',he.forEach(function(s,a){t=at[("calendar"==s?"date":s)+"Text"],e+='<div role="tab" aria-controls="'+(ft.id+"-mbsc-pnl-"+a)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(a?"":be)+'" data-control="'+s+'"'+(at.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function x(){var e,t,s,a,n,i="",o=$e?at.btnCalNextClass:at.btnCalPrevClass,r=$e?at.btnCalPrevClass:at.btnCalNextClass;for(a='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+at.prevMonthText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(le?Qe:1);t++)a+='<div role="button" class="mbsc-cal-month"></div>';if(a+='<div data-step="1" role="button" tabindex="0" aria-label="'+at.nextMonthText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',dt&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+at.prevYearText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+at.nextYearText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),le&&(n=T(ve)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(Ve?"":" mbsc-cal-week-view")+(Qe>1?" mbsc-cal-multi ":"")+(lt?" mbsc-cal-weeks ":"")+(Le?" mbsc-cal-vertical":"")+(ke?" mbsc-cal-has-marks":"")+(Te?" mbsc-cal-has-labels":"")+(nt?"":" mbsc-cal-hide-diff ")+(at.calendarClass||"")+'"'+(Ee?"":' style="width:'+(de||280*Qe)+'px;"')+'><div class="mbsc-cal-hdr">'+(ut<ze||Qe>1?i+a:a+i)+"</div>",le){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',s=0;s<Qe;s++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+at.dayNames[(t+we)%7]+'">'+at["dayNames"+ct][(t+we)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(at.calendarClass||"")+'"'+(at.calendarHeight?' style="height:'+at.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/Qe+'%">'+n+"</div></div>"}if(e+="</div>",De){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(at.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+u(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',s=0;s<12;s++)s&&s%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+at.monthNames[s]+'" data-val="'+s+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?at.monthNamesShort[s]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(at.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=w(N(ve,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function w(e,t){var s,a=at.getYear(e),n='<div class="mbsc-cal-slide"'+u(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(s=0;s<12;s++)s&&s%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+a+'" data-val="'+a+'" class="mbsc-cal-cell mbsc-btn-e '+(a<Xe||a>We?" mbsc-disabled ":"")+(a==at.getYear(ve)?pe:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+a+ht+"</div></div>",a++;return n+="</div></div></div>"}function C(t,s){var a,n,i,o,r,l,m,h,f,p,b,v,g,y,_,x,w=1,C=at.getYear(t),T=at.getMonth(t),k=at.getDay(t),M=null!==at.defaultValue||e._hasValue?e.getDate(!0):null,D=at.getDate(C,T,k).getDay(),S=we-D>0?7:0,A='<div class="mbsc-cal-slide"'+u(s)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(x=0;x<7*le;x++)_=x+we-S,a=at.getDate(C,T,_-D+k),i=a.getFullYear(),o=a.getMonth(),r=a.getDate(),l=at.getMonth(a),m=at.getDay(a),y=at.getMaxDayOfMonth(i,o),h=i+"-"+(o+1)+"-"+r,f=Ue({valid:c(a),selected:M&&B(M,a)},d(a)),p=f.valid,b=f.selected,n=f.cssClass,v=new Date(a).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=l!==T,ye[h]=f,x&&x%7===0&&(A+='</div><div class="mbsc-cal-row">'),lt&&x%7===0&&("month"==lt&&g&&w>1?w=1==r?1:2:"year"==lt&&(w=at.getWeekNumber(at.getDate(i,o,r+(7-we+1)%7))),A+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+w+"</div>",w++),A+='<div role="gridcell" aria-label="'+(v?at.todayText+", ":"")+at.dayNames[a.getDay()]+", "+at.monthNames[l]+" "+m+" "+(f.ariaLabel?", "+f.ariaLabel:"")+'"'+(g&&!nt?' aria-hidden="true"':' data-full="'+h+'"')+(b?' aria-selected="true"':"")+(p?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+_%7+" "+(at.dayClass||"")+" "+(b?pe:"")+(v?" "+at.todayClass:"")+(n?" "+n:"")+(1==m?" mbsc-cal-day-first":"")+(m==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(p?" mbsc-btn-e":" mbsc-disabled")+(f.marked?" mbsc-cal-day-marked":"")+(f.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(f.background?' style="background:'+f.background+";color:"+O(f.background)+'"':"")+">"+m+"</div>"+(f.markup||"")+"</div></div>";return A+="</div></div></div>"}function T(e,t,s){var a,n=at.getYear(e),i=at.getMonth(e),o=_e?_e.pos:0,r="";if(ye={},le)for(t||(it("onMonthLoading",{year:n,month:i}),it("onPageLoading",{firstDay:e})),p(e),a=0;a<tt;a++)r+=C(H(e,a-et-Ke),o*st+a-Ke);return Ze=void 0,s&&_e&&(_e.$scroller.html(r),g(e,n,i)),r}function k(e,t){var s=_e.$active;s&&(s.hasClass("mbsc-disabled")?s.removeAttr("tabindex"):s.attr("tabindex","-1")),_e.$active=Re('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+'"]',_e.$scroller).attr("tabindex","0"),t&&_e.$active.length&&_e.$active[0].focus()}function M(t){var s=_e&&_e.$scroller;at.highlight&&_e&&(Re(".mbsc-selected",s).removeClass(pe).removeAttr("aria-selected"),(null!==at.defaultValue||e._hasValue)&&Re('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+'"]',s).addClass(pe).attr("aria-selected","true"))}function D(e,t){Re(".mbsc-selected",t).removeClass(pe).removeAttr("aria-selected"),Re('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(pe).attr("aria-selected","true")}function S(t,s,a,n){var i,o;rt&&(t<Fe&&(t=Fe),t>Ye&&(t=Ye),"calendar"!==rt&&Me&&!s||(e._isSetDate=!0,Ce&&le&&(o=Y(h(t),Ve),Je&&(t<H(ve,-et)||t>=H(ve,Qe-et))&&(i=Ve?at.getMonth(o)-at.getMonth(ve)+12*(at.getYear(o)-at.getYear(ve)):Math.floor(F(ve,o)/(7*le)),i&&(_e.queue=[],_e.focus=n&&a,W(_e,i,a))),i&&a||k(t,n),s||M(t),Ve||A(t,!0),oe=t,Je=!0),e._onSetDate(t,i),e._isSetDate=!1))}function A(e,t){var s,a,n,i=at.getYear(e),o=at.getMonth(e),r=i+ht;if(De){if(D(o,Ge.$scroller),D(i,mt.$scroller),W(mt,Math.floor(i/12)-Math.floor(at.getYear(mt.first)/12),!0),Re(".mbsc-cal-cell",Ge.$scroller).removeClass("mbsc-disabled"),i===Xe)for(s=0;s<je;s++)Re('.mbsc-cal-cell[data-val="'+s+'"]',Ge.$scroller).addClass("mbsc-disabled");if(i===We)for(s=Ne+1;s<=12;s++)Re('.mbsc-cal-cell[data-val="'+s+'"]',Ge.$scroller).addClass("mbsc-disabled")}for(t||(E(Re(".mbsc-cal-prev-m",Q),H(e,-et)<=Fe),E(Re(".mbsc-cal-next-m",Q),H(e,Qe-et)>Ye),E(Re(".mbsc-cal-prev-y",Q),at.getDate(i-1,o+1,1)<=Fe),E(Re(".mbsc-cal-next-y",Q),at.getDate(i+1,o,1)>Ye)),ne.attr("aria-label",i).html(r),s=0;s<Qe;s++)e=at.getDate(i,o-et+s,1),a=at.getYear(e),n=at.getMonth(e),r=a+ht,ee.eq(s).attr("aria-label",at.monthNames[n]+(dt?"":" "+i)).html((!dt&&ut<ze?r+" ":"")+Be[n]+(!dt&&ut>ze?" "+r:""))}function E(e,t){t?e.addClass(fe).attr("aria-disabled","true"):e.removeClass(fe).removeAttr("aria-disabled")}function V(t,s){var a=e.getDate(!0),n=t[0],i=t.attr("data-full"),o=i?i.split("-"):[],r=I(o[0],o[1]-1,o[2]),l=I(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),c=t.hasClass("mbsc-selected"),d=Re(s.target),u=d[0];if(nt||!t.hasClass("mbsc-cal-day-diff")){if(Te&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),h=Oe[r];if(it("onLabelTap",{date:l,domEvent:s,target:d[0],labels:h,label:h[m]})===!1)return;break}d=d.parent(),u=d[0]}it("onDayChange",Ue(ye[i],{date:l,target:n,selected:c}))===!1||at.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,r,l,c)}}function $(e){s(te),S(at.getDate(at.getYear(_e.first),e.attr("data-val"),1),!0,!0)}function L(e){s(ie),S(at.getDate(e.attr("data-val"),at.getMonth(_e.first),1),!0,!0)}function Y(e,t,s){var a=at.getYear(e),n=at.getMonth(e),i=e.getDay(),o=we-i>0?7:0;return t?at.getDate(a,n,1):at.getDate(a,n,(s||we)-o-i+at.getDay(e))}function H(e,t){var s=at.getYear(e),a=at.getMonth(e),n=at.getDay(e);return Ve?at.getDate(s,a+t,1):at.getDate(s,a,n+t*le*7)}function N(e,t){var s=12*Math.floor(at.getYear(e)/12);return at.getDate(s+12*t,0,1)}function W(t,s,a,n){s&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&R(t,s,a,n))}function R(e,t,s,a){var n,i,o="",r=e.$scroller,l=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,h=e.genPage,f=e.getFirst,p=t>0?Math.min(t,l):Math.max(t,-l),b=e.pos*st+p-t+c,v=Math.abs(t)>l;e.callback&&(e.load(),e.callback()),e.first=f(m,t),e.pos+=p*st,e.changing=!0,e.load=function(){if(v){for(n=0;n<d;n++)i=t+n-c,o+=h(f(m,i),b+i);t>0?(Re(".mbsc-cal-slide",r).slice(-d).remove(),r.append(o)):t<0&&(Re(".mbsc-cal-slide",r).slice(0,d).remove(),r.prepend(o))}},e.callback=function(){var s=Math.abs(p),o="";for(n=0;n<s;n++)i=t+n-c-l+(t>0?u-s:0),o+=h(f(m,i),b+i);if(t>0?(r.append(o),Re(".mbsc-cal-slide",r).slice(0,p).remove()):t<0&&(r.prepend(o),Re(".mbsc-cal-slide",r).slice(p).remove()),v){for(o="",n=0;n<s;n++)i=t+n-c-l+(t>0?0:u-s),o+=h(f(m,i),b+i);t>0?(Re(".mbsc-cal-slide",r).slice(0,p).remove(),r.prepend(o)):t<0&&(Re(".mbsc-cal-slide",r).slice(p).remove(),r.append(o))}X(e),a&&a(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?R.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,s?200:0,!1,e.callback)}function j(t,s,a,n,i,o,r,l,c,d,u,m,h){var f=Le?"Y":"X",p={$scroller:Re(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:o,first:l,total:r,pos:0,min:s,max:a,genPage:m,getFirst:h,onBeforeChange:d,onAfterChange:u};return p.scroller=new xt(t,{axis:f,easing:"",contSize:0,maxSnapScroll:n,mousewheel:at.mousewheel,time:200,lock:!0,rtl:$e,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&y(),c(Re(e.target),e.domEvent)},onAnimationStart:function(){p.changing=!0},onAnimationEnd:function(e){m&&W(p,Math.round((-p.pos*p.size-e["pos"+f])/p.size)*st)}}),e._scrollers.push(p.scroller),p}function X(e,t){var s,a=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(a=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;a&&e.getFirst(i,1-a-e.offset)<=e.min;)a--}s=Math.round(ce/e.pages),Ee&&s&&e.size!=s&&e.$scroller[Le?"height":"width"](s),Ue(e.scroller.settings,{snap:s,minScroll:(-e.pos*st-n)*s,maxScroll:(-e.pos*st+a)*s}),e.size=s,e.scroller.refresh()}}function G(t){e._isVisible&&Ce&&le&&(_e&&_e.changing?Ze=t:T(ve,t,!0)),e._onRefresh(t)}function J(){if(Ce&&le){var t=Re(".mbsc-cal-scroll-c",Q);_e=j(t[0],Fe,Ye,Ke,et,Qe,tt,ve,V,b,v,C,H),De&&(Ge=j(t[1],null,null,1,0,1,3,ve,$),mt=j(t[2],qe,He,1,0,1,3,ve,L,l,l,w,N),e.tap(ee,function(){a(te),s(ie)}),e.tap(ne,function(){a(ie),s(te)})),P(Re(".mbsc-cal-btn",Q),function(e,t,s,a){W(_e,t,!0,a)}),v(ve),null===at.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=_e.$active[0]),K.on("keydown",function(e){var t,s=at.getYear(oe),a=at.getMonth(oe),n=at.getDay(oe);switch(e.keyCode){case 32:V(_e.$active,e);break;case 37:t=at.getDate(s,a,n-1);break;case 39:t=at.getDate(s,a,n+1);break;case 38:t=at.getDate(s,a,n-7);break;case 40:t=at.getDate(s,a,n+7);break;case 36:t=at.getDate(s,a,1);break;case 35:t=at.getDate(s,a+1,0);break;case 33:t=e.altKey?at.getDate(s-1,a,n):Ve?at.getDate(s,a-1,n):at.getDate(s,a,n-7*le);break;case 34:t=e.altKey?at.getDate(s+1,a,n):Ve?at.getDate(s,a+1,n):at.getDate(s,a,n+7*le)}t&&(e.preventDefault(),S(t,!0,!1,!0))})}e.tap(Re(".mbsc-cal-tab",Q),function(){e.changeTab(Re(this).attr("data-control"))})}var Z,K,Q,ee,te,se,ae,ne,ie,oe,re,le,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,_e,xe,we,Ce,Te,ke,Me,De,Se,Ae,Ee,Ve,$e,Le,Oe,Pe,Ye,He,Ie,Ne,We,Fe,qe,je,Xe,ze,Be,Ge,Je,Ze,Ke,Qe,et,tt,st,at,nt,it,ot,rt,lt,ct,dt,ut,mt,ht,ft=this;return n(),re=Lt.call(this,e),i(),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){S(e,!0,t)},e.changeTab=function(t){e._isVisible&&me[t]&&rt!=t&&(rt=t,Re(".mbsc-cal-tab",Q).removeClass(be).removeAttr("aria-selected"),Re('.mbsc-cal-tab[data-control="'+t+'"]',Q).addClass(be).attr("aria-selected","true"),Me&&(ae.addClass("mbsc-cal-h"),me[rt].removeClass("mbsc-cal-h")),"calendar"==rt&&S(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:rt}))},e._onGenMonth=l,e._onSelectShow=l,e._onSetDate=l,e._onRefresh=l,e._getDayProps=l,e._prepareObj=r,e._showDayPicker=function(){De&&(s(ie,!0),s(te,!0))},e._selectDay=e.__selectDay=function(t,s,a){var n=e.live;Je=at.outerMonthChange,Ae=!0,e.setDate(a,n,1e3,!n,!0),n&&it("onSet",{valueText:e._value})},Ue(re,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var s=0;Q=Re(t.target),se=Re(".mbsc-fr-c",Q),oe=e.getDate(!0),Ce&&(ke=!(!at.marked&&!at.data||at.labels||at.multiLabel||at.showEventCount),Je=!0,rt="calendar",m(),ve=Y(h(oe),Ve),se.append(x()),ee=Re(".mbsc-cal-month",Q),ne=Re(".mbsc-cal-year",Q),K=Re(".mbsc-cal-day-scroll-c",Q)),De&&(ie=Re(".mbsc-cal-year-picker",Q),te=Re(".mbsc-cal-month-picker",Q)),ae=Re(".mbsc-w-p",Q),he.length>1&&se.before(_()),["date","time","calendar"].forEach(function(e){me[e]?(me[e]=ae.eq(s),s++):"date"==e&&!me.date&&Ce&&(ae.eq(s).remove(),s++)}),he.forEach(function(e){se.append(me[e])}),!Ce&&me.date&&me.date.css("position","relative"),e._scrollers=[],J()},onShow:function(){Ce&&le&&A(Ve?ve:oe)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),ye=null,_e=null,Ge=null,mt=null,rt=null},onValidated:function(t){var s,a,n=t.index,i=e._order;a=e.getDate(!0),Ae?s="calendar":void 0!==n&&(s=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),it("onSetDate",{date:a,control:s}),"time"!==s&&S(a,!1,!!t.time,Ae&&!e._multiple),Ae=!1},onPosition:function(t){var s,a,n,i,o,r,l,c=t.oldHeight,d=t.oldWidth,u=t.windowHeight,m=t.windowWidth;if(Me=(t.hasTabs||at.tabs===!0||at.tabs!==!1&&Ee)&&he.length>1,Ee&&(t.windowWidth>=at.breakPointMd?Re(t.target).addClass("mbsc-fr-md"):Re(t.target).removeClass("mbsc-fr-md")),Me?(Q.addClass("mbsc-cal-tabbed"),rt=Re(".mbsc-cal-tab.mbsc-selected",Q).attr("data-control"),ae.addClass("mbsc-cal-h"),me[rt].removeClass("mbsc-cal-h")):(Q.removeClass("mbsc-cal-tabbed"),ae.removeClass("mbsc-cal-h")),e._isFullScreen&&(K.height(""),o=t.popup.offsetHeight,l=u-o+K[0].offsetHeight,u>=o&&K.height(l)),Te&&le&&u!=c){var h=l||K[0].offsetHeight,f=Re(".mbsc-cal-txt-ph")[0],p=f.offsetTop,b=f.offsetHeight,v=Math.max(1,Math.floor((h/le-p)/(b+2)));Ie!=v&&(Ie=v,e.redraw())}if(Ce&&le){if((Ee||Le||Me)&&(r=K[0][Le?"offsetHeight":"offsetWidth"],i=r!=ce,ce=r),Ee&&m!=d&&dt)for(Be=at.maxMonthWidth>ee[0].offsetWidth?at.monthNamesShort:at.monthNames,a=at.getYear(ve),n=at.getMonth(ve),s=0;s<Qe;s++)ee.eq(s).text(Be[at.getMonth(at.getDate(a,n-et+s,1))]);i&&X(_e,!0)}De&&i&&(X(Ge,!0),X(mt,!0))}})},Yt={};wt.calendar=function(e){function t(e){return I(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){var s,a,n=null;if(v={},e&&e.length)for(a=0;a<e.length;a++)s=z(e[a],o,m,m.isoParts),n=n||s,v[t(s)]=s;return n}function a(){e.redraw()}var n,i,o,r,l,d=Ue({},e.settings),m=Ue(e.settings,Yt,d),h="mbsc-selected "+(m.selectedClass||""),f=m.defaultValue,p="multiple"==m.select||m.select>1||"week"==m.selectType,b=u(m.select)?m.select:1/0,v={};return n=Pt.call(this,e),r=void 0===m.firstSelectDay?m.firstDay:m.firstSelectDay,o=e._format,p&&s(f),e._multiple=p,e._getDayProps=function(e){return{selected:p?void 0!==v[e]:void 0}},e._selectDay=function(t,s,n,o){if(m.setOnDayTap&&"multiple"!=m.select&&"inline"!=m.display)return e.setDate(n),void e.select();if(p)if("week"==m.selectType){var l,d,u=s.getDay()-r;for(u=u<0?7+u:u,"multiple"!=m.select&&(v={}),l=0;l<7;l++)d=I(s.getFullYear(),s.getMonth(),s.getDate()-u+l),o?delete v[d]:c(v).length/7<b&&(v[d]=d);a()}else{var f=Re('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',i);o?(f.removeClass(h).removeAttr("aria-selected"),delete v[s]):c(v).length<b&&(f.addClass(h).attr("aria-selected","true"),v[s]=s)}e.__selectDay(t,s,n)},e.setVal=function(t,n,i,o,r){p&&(t=s(t)),e._setVal(t,n,i,o,r),p&&a()},e.getVal=function(t){var s,a=[];if(p){for(s in v)a.push(X(v[s],m,o));return a}return X(e.getDate(t),m,o)},Ue({},n,{highlight:!p,outerMonthChange:!p,parseValue:function(e){return p&&e&&"string"==typeof e&&(e=s(e.split(","))),p&&f&&f.length&&(m.defaultValue=f[0]),n.parseValue.call(this,e)},formatValue:function(t){var s,a=[];if(p){for(s in v)a.push(N(o,v[s],m));return a.join(", ")}return n.formatValue.call(this,t,e)},onClear:function(){p&&(v={},a())},onBeforeShow:function(){void 0!==m.setOnDayTap||m.buttons&&m.buttons.length||1!=m.controls.length||(m.setOnDayTap=!0),m.setOnDayTap&&"inline"!=m.display&&(m.outerMonthChange=!1),m.counter&&p&&(m.headerText=function(){var e=0,t="week"==m.selectType?7:1;return Re.each(v,function(){e++}),e=Math.round(e/t),(e>1?m.selectedPluralText||m.selectedText:m.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){n.onMarkupReady.call(this,e),i=Re(e.target),p&&(Re(".mbsc-fr-hdr",i).attr("aria-live","off"),l=Ue({},v))},onCancel:function(){!e.live&&p&&(v=Ue({},l))}})},r("calendar",kt);var Ht,It="ios"==Ae&&Ve>7,Nt=1,Wt="transparent",Ft=function(e,t){function s(){Mt=!1,gt=!1,se=0,Pt=0,Yt=new Date,et=le.width(),ue=W(le),nt=ue.index(tt),at=tt[0].offsetHeight,cs=tt[0].offsetTop,Jt=Zt[tt.attr("data-type")||"defaults"],Ot=Jt.stages}function a(e){var t;"touchstart"===e.type&&(yt=!0,clearTimeout(_t)),!$(e,this)||Q||rs||Ht||hs||(Q=!0,ae=!0,Ft=x(e,"X"),qt=x(e,"Y"),ge=0,ye=0,tt=Re(this),t=tt,s(),Bt=At.onItemTap||Jt.tap||tt.hasClass("mbsc-lv-parent")||tt.hasClass("mbsc-lv-back"),rt=tt.offset().top,Bt&&(te=setTimeout(function(){t.addClass("mbsc-lv-item-active"),De("onItemActivate",{target:t[0],domEvent:e})},120)),ns.sortable&&!tt.hasClass("mbsc-lv-back")&&(ns.sortable.group||(bt=tt.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),xt=tt.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),ut=(ns.sortable.group?le.children(ot).eq(0):xt.length?xt.eq(-1):tt)[0].offsetTop-cs,dt=(ns.sortable.group?le.children(ot).eq(-1):bt.length?bt.eq(-1):tt)[0].offsetTop-cs,ns.sortable.handle?Re(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(te),"Moz"===st?(e.preventDefault(),d()):Gt=setTimeout(function(){d()},100)):Gt=setTimeout(function(){Se.appendTo(tt),Se[0].style[st+"Animation"]="mbsc-lv-fill "+(At.sortDelay-100)+"ms linear",clearTimeout(Te),clearTimeout(te),ae=!1,Gt=setTimeout(function(){Se[0].style[st+"Animation"]="",d()},At.sortDelay-80)},80)),"mousedown"==e.type&&Re(document).on("mousemove",n).on("mouseup",i))}function n(e){var t=!1,s=!0,a=se;if(Q)if(ke=x(e,"X"),Me=x(e,"Y"),ge=ke-Ft,ye=Me-qt,clearTimeout(Te),we||jt||Et||tt.hasClass("mbsc-lv-back")||(Math.abs(ye)>10?(Et=!0,i(Ue({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(te)):Math.abs(ge)>7&&o()),jt)e.preventDefault(),se=ge/et*100,r(a);else if(we){e.preventDefault();var n,l=es.scrollTop(),c=Math.max(ut,Math.min(ye+ss,dt)),d=Le?rt-as+l-ss:rt;ts+l<d+c+at?(es.scrollTop(d+c-ts+at),n=!0):d+c<l&&(es.scrollTop(d+c),n=!0),n&&(ss+=es.scrollTop()-l),ft&&(ns.sortable.multiLevel&&ht.hasClass("mbsc-lv-parent")?cs+at/4+c>ft?t=!0:cs+at-at/4+c>ft&&(_e=ht.addClass("mbsc-lv-item-hl"),s=!1):cs+at/2+c>ft&&(ht.hasClass("mbsc-lv-back")?ns.sortable.multiLevel&&(xe=ht.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(wt.insertAfter(ht),Ct=ht,ht=R(ht,"next"),Tt=ft,ft=ht.length&&ht[0].offsetTop,re++)),!t&&Tt&&(ns.sortable.multiLevel&&Ct.hasClass("mbsc-lv-parent")?cs+at-at/4+c<Tt?t=!0:cs+at/4+c<Tt&&(_e=Ct.addClass("mbsc-lv-item-hl"),s=!1):cs+at/2+c<Tt&&(Ct.hasClass("mbsc-lv-back")?ns.sortable.multiLevel&&(xe=Ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(wt.insertBefore(Ct),ht=Ct,Ct=R(Ct,"prev"),ft=Tt,Tt=Ct.length&&Ct[0].offsetTop+Ct[0].offsetHeight,re--)),s&&(_e&&(_e.removeClass("mbsc-lv-item-hl"),_e=!1),xe&&(xe.removeClass("mbsc-lv-item-hl"),xe=!1)),t&&De("onSortChange",{target:tt[0],index:re}),A(tt,c),De("onSort",{target:tt[0],index:re})}else(Math.abs(ge)>5||Math.abs(ye)>5)&&E()}function i(e){var t,s,a,o,r=tt;Q&&(Q=!1,E(),"mouseup"==e.type&&Re(document).off("mousemove",n).off("mouseup",i),Et||(_t=setTimeout(function(){yt=!1},300)),(jt||Et||we)&&(gt=!0),jt?c():we?(a=le,_e?(Y(tt.detach()),s=ms[_e.attr("data-ref")],re=W(s.child).length,_e.removeClass("mbsc-lv-item-hl"),At.navigateOnDrop?G(_e,function(){ns.add(null,tt,null,null,_e,!0),B(tt),m(tt,nt,a,!0)}):(ns.add(null,tt,null,null,_e,!0),m(tt,nt,a,!0))):xe?(Y(tt.detach()),s=ms[xe.attr("data-back")],re=W(s.parent).index(s.item)+1,xe.removeClass("mbsc-lv-item-hl"),At.navigateOnDrop?G(xe,function(){ns.add(null,tt,re,null,le,!0),B(tt),m(tt,nt,a,!0)}):(ns.add(null,tt,re,null,s.parent,!0),m(tt,nt,a,!0))):(t=wt[0].offsetTop-cs,A(tt,t,6*Math.abs(t-Math.max(ut,Math.min(ye+ss,dt))),function(){Y(tt),tt.insertBefore(wt),m(tt,nt,a,re!==nt)})),we=!1):!Et&&Math.abs(ge)<5&&Math.abs(ye)<5&&(Jt.tap&&(o=Jt.tap.call(is,{target:tt,index:nt,domEvent:e},ns)),Bt&&(tt.addClass("mbsc-lv-item-active"),De("onItemActivate",{target:tt[0],domEvent:e})),"touchend"===e.type&&At.tap&&C(e.target,w(Re(e.target)),e),o=De("onItemTap",{target:tt[0],index:nt,domEvent:e}),o!==!1&&G(tt)),clearTimeout(te),setTimeout(function(){r.removeClass("mbsc-lv-item-active"),De("onItemDeactivate",{target:r[0]})},100),Et=!1,me=null)}function o(){jt=H(Jt.swipe,{target:tt[0],index:nt,direction:ge>0?"right":"left"}),jt&&(E(),clearTimeout(te),Jt.actions?(ee=z(Jt,ge),mt.html(Jt.icons).show().children().css("width",ee+"%"),Je.hide(),Re(".mbsc-lv-ic-m",Ke).removeClass("mbsc-lv-ic-disabled"),Re(Jt.leftMenu).each(_),Re(Jt.rightMenu).each(_)):(Je.show(),mt.hide(),he=Jt.start,me=Ot[he],kt=Ot[he-1],pt=Ot[he+1]),tt.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),Ut.css("line-height",at+"px"),Ke.css({top:cs,height:at,backgroundColor:j(ge)}).addClass("mbsc-lv-stage-c-v").appendTo(le.parent()),At.iconSlide&&tt.append(Je),De("onSlideStart",{target:tt[0],index:nt}))}function r(e){var t=!1;St||(Jt.actions?Ke.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(se<0?"right":"left")):(kt&&(se<0?se<=kt.percent:se<me.percent)?(he--,pt=me,me=kt,kt=Ot[he-1],t=!0):pt&&(se<0?se>me.percent:se>=pt.percent)&&(he++,kt=me,me=pt,pt=Ot[he+1],t=!0),me&&((t||se>0==e<=0)&&V(me,At.iconSlide),t&&De("onStageChange",{target:tt[0],index:nt,stage:me}))),Vt||(St=!0,Dt=Ie(M)))}function c(e){var t,s,a,n=!1,i=!0;Ne(Dt),St=!1,Vt||M(),Jt.actions?Math.abs(se)>10&&ee&&(S(tt,se<0?-ee:ee,200),n=!0,Ht=!0,ne=tt,ie=nt,Re(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),D(tt,!0,e)})):se&&(At.quickSwipe&&!Vt&&(a=new Date-Yt,t=a<300&&ge<-50,s=a<300&&ge>50,t?(Mt=!0,me=Jt.left,V(me,At.iconSlide)):s&&(Mt=!0,me=Jt.right,V(me,At.iconSlide))),me&&me.action&&(be=H(me.disabled,{target:tt[0],index:nt}),be||(n=!0,Ht=Vt||H(me.confirm,{target:tt[0],index:nt}),Ht?(S(tt,(se<0?-1:1)*Je[0].offsetWidth*100/et,200,!0),k(me,tt,nt,!1,e)):T(me,tt,nt,e)))),n||D(tt,i,e),jt=!1}function d(){we=!0,_e=!1,xe=!1,ss=0,re=nt,At.vibrate&&b(),ht=R(tt,"next"),ft=ht.length&&ht[0].offsetTop,Ct=R(tt,"prev"),Tt=Ct.length&&Ct[0].offsetTop+Ct[0].offsetHeight,wt.height(at).insertAfter(tt),tt.css({top:cs}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(Ce),De("onSortStart",{target:tt[0],index:re})}function m(e,t,s,a){e.removeClass("mbsc-lv-item-dragging"),wt.remove(),De("onSortEnd",{target:e[0],index:re}),At.vibrate&&b(),a&&(ns.addUndoAction(function(a){ns.move(e,t,null,a,s,!0)},!0),De("onSortUpdate",{target:e[0],index:re}))}function h(){yt||(clearTimeout(qe),Ht&&Re(document).trigger("touchstart"),He&&(ns.close(Ye,We),He=!1,Ye=null))}function f(){clearTimeout(fe),fe=setTimeout(function(){ts=es[0].innerHeight||es.innerHeight(),as=Le?es.offset().top:0,Q&&(cs=tt[0].offsetTop,at=tt[0].offsetHeight,Ke.css({top:cs,height:at}))},200)}function v(e){gt&&(e.stopPropagation(),e.preventDefault(),gt=!1)}function g(){if(we||!Q){var e,t=es.scrollTop(),s=os.offset().top,a=os[0].offsetHeight,n=Le?es.offset().top:t;Re(".mbsc-lv-gr-title",os).each(function(t,s){Re(s).offset().top<n&&(e=s)}),s<n&&s+a>n?Ee.show().empty().append(Re(e).clone()):Ee.hide()}}function _(e,t){H(t.disabled,{target:tt[0],index:nt})&&Re(".mbsc-ic-"+t.icon,Ke).addClass("mbsc-lv-ic-disabled")}function T(e,t,s,a){var n,i={icon:"undo2",text:At.undoText,action:function(){ns.undo()}};e.undo&&(ns.startActionTrack(),Re.isFunction(e.undo)&&ns.addUndoAction(function(){e.undo.call(is,{target:t[0],index:s},ns)}),Kt=t.attr("data-ref")),n=e.action.call(is,{target:t[0],index:s},ns),e.undo?(ns.endActionTrack(),n!==!1&&S(t,+t.attr("data-pos")<0?-100:100,200),wt.height(at).insertAfter(t),
t.css("top",cs).addClass("mbsc-lv-item-undo"),mt.hide(),Je.show(),Ke.append(Je),V(i),k(i,t,s,!0,a)):D(t,n,a)}function k(e,t,s,a,n){var i,o;Ht=!0,Re(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),a&&P(t),D(t,!0,n)}),pe||Je.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=x(e,"X"),o=x(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(r){r.preventDefault(),"touchend"===r.type&&y(),Math.abs(x(r,"X")-i)<10&&Math.abs(x(r,"Y")-o)<10&&(T(e,t,s,n),a&&(Qt=null,P(t)))})}function M(){S(tt,Pt+100*ge/et),St=!1}function D(e,t,s){Re(document).off(".mbsc-lv-conf"),Je.off(".mbsc-lv-conf"),t!==!1?S(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){O(e,s),Y(e)}):O(e,s),Ht=!1}function S(e,t,s,a,n){t=Math.max("right"==jt?0:-100,Math.min(t,"left"==jt?0:100)),Rt=e[0].style,e.attr("data-pos",t),Rt[st+"Transform"]="translate3d("+(a?et*t/100+"px":t+"%")+",0,0)",Rt[st+"Transition"]=Qe+"transform "+(s||0)+"ms",n&&(rs++,setTimeout(function(){n(),rs--},s)),se=t}function A(e,t,s,a){t=Math.max(ut,Math.min(t,dt)),Rt=e[0].style,Rt[st+"Transform"]="translate3d(0,"+t+"px,0)",Rt[st+"Transition"]=Qe+"transform "+(s||0)+"ms ease-out",a&&(rs++,setTimeout(function(){a(),rs--},s))}function E(){clearTimeout(Gt),!ae&&ns.sortable&&(ae=!0,Se.remove())}function V(e,t){var s=H(e.text,{target:tt[0],index:nt})||"";H(e.disabled,{target:tt[0],index:nt})?Ke.addClass("mbsc-lv-ic-disabled"):Ke.removeClass("mbsc-lv-ic-disabled"),Ke.css("background-color",e.color||(0===e.percent?j(se):Wt)),Je.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(se<0?"right":"left")),Be.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),Ut.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),At.animateIcons&&(Mt?Be.addClass("mbsc-lv-ic-v"):setTimeout(function(){Be.addClass("mbsc-lv-ic-a")},10))}function O(e,t){Q||(Be.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Ke.attr("style","").removeClass("mbsc-lv-stage-c-v"),Ut.html("")),Ke.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(De("onSlideEnd",{target:e[0],index:nt}),t&&t())}function P(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Qt?ns.animate(wt,"collapse",function(){wt.remove()}):wt.remove(),O(),Kt=null,Qt=null}function Y(e){Rt=e[0].style,Rt[st+"Transform"]="",Rt[st+"Transition"]="",Rt.top="",e.removeClass("mbsc-lv-item-swiping")}function H(e,t){return Re.isFunction(e)?e.call(this,t,ns):e}function I(e){var t=e.attr("data-ref"),s=e.attr("data-role");if(t||(t=Nt++,e.attr("data-ref",t)),ms[t]={item:e,child:e.children(ct),parent:e.parent(),ref:e.parent()[0]===is?null:e.parent().parent().attr("data-ref")},e.addClass("list-divider"==s?"mbsc-lv-gr-title":"mbsc-lv-item"),ns.sortable.handle&&"list-divider"!=s&&!e.children(".mbsc-lv-handle-c").length&&e.append(Oe),At.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var a=e.attr("data-icon"),n=e.find("img").eq(0).addClass("mbsc-lv-img");n.is(":first-child")?e.addClass("mbsc-lv-img-"+(At.rtl?"right":"left")):n.length&&e.addClass("mbsc-lv-img-"+(At.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=Re(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),a&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(At.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+a+'"></div>')}}function N(e){Re(ot,e).not(".mbsc-lv-back").each(function(){I(Re(this))}),Re(ct,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(je).parent().addClass("mbsc-lv-parent").prepend(ze),Re(".mbsc-lv-back",e).each(function(){Re(this).attr("data-back",Re(this).parent().parent().attr("data-ref"))})}function W(e){return e.children(ot).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function F(e){return"object"!==("undefined"==typeof e?"undefined":ve(e))&&(e=Re(ot,oe).filter('[data-id="'+e+'"]')),Re(e)}function q(e){for(var t=0,s=ms[e.attr("data-ref")];s&&s.ref;)t++,s=ms[s.ref];return t}function R(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!ns.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function j(e){return(e>0?Jt.right:Jt.left).color||Wt}function X(e){return u(e)?e+"":0}function z(e,t){return+(t<0?X((e.actionsWidth||0).right)||X(e.actionsWidth)||X(At.actionsWidth.right)||X(At.actionsWidth):X((e.actionsWidth||0).left)||X(e.actionsWidth)||X(At.actionsWidth.left)||X(At.actionsWidth))}function B(e,t){if(e){var s=es.scrollTop(),a=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+(Le?s-as:0);t?(n<s||n+a>s+ts)&&es.scrollTop(n):n<s?es.scrollTop(n):n+a>s+ts&&es.scrollTop(Math.min(n,n+a-ts/2))}}function U(e,t,s,a,n){var i=t.parent(),o=t.prev();a=a||l,o[0]===Je[0]&&(o=Je.prev()),le[0]!==t[0]?(De("onNavStart",{level:ls,direction:e,list:t[0]}),$t.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),B(oe),J($t,"mbsc-lv-sl-"+e,function(){le.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),ce&&ce.length?le.removeClass("mbsc-lv-v").insertAfter(ce):de.append(le.removeClass("mbsc-lv-v")),ce=o,de=i,le=t,B(s,n),a.call(is,s),De("onNavEnd",{level:ls,direction:e,list:t[0]})})):(B(s,n),a.call(is,s))}function G(e,t){rs||(e.hasClass("mbsc-lv-parent")?(ls++,U("r",ms[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(ls--,U("l",ms[e.attr("data-back")].parent,ms[e.attr("data-back")].item,t)))}function J(e,t,s){function a(){clearTimeout(n),rs--,e.off(Ze,a).removeClass(t),s.call(is,e)}var n;s=s||l,At.animation&&"mbsc-lv-item-none"!==t?(rs++,e.on(Ze,a).addClass(t),n=setTimeout(a,250)):s.call(is,e)}function Z(e,t){var s,a=e.attr("data-ref");s=us[a]=us[a]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),t&&(e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?Z(e):delete us[a]})))}function K(e,t,s){var a,n;e&&e.length&&(a=100/(e.length+2),Re.each(e,function(i,o){void 0===o.key&&(o.key=Lt++),void 0===o.percent&&(o.percent=t*a*(i+1),s&&(n=Ue({},o),n.key=Lt++,n.percent=-a*(i+1),e.push(n),ds[n.key]=n)),ds[o.key]=o}))}var Q,ee,te,se,ae,ne,ie,oe,re,le,ce,de,ue,me,he,fe,pe,be,ge,ye,_e,xe,we,Ce,Te,ke,Me,De,Se,Ae,Ee,Ve,$e,Le,Oe,Pe,Ye,He,We,Fe,qe,je,ze,Be,Je,Ke,et,tt,at,nt,it,ot,rt,lt,ct,dt,ut,mt,ht,ft,pt,bt,vt,gt,yt,_t,xt,wt,Ct,Tt,kt,Mt,Dt,St,At,Et,Vt,$t,Lt,Ot,Pt,Yt,Ft,qt,Rt,jt,Xt,zt,Bt,Ut,Gt,Jt,Zt,Kt,Qt,es,ts,ss,as,ns=this,is=e,os=Re(is),rs=0,ls=0,cs=0,ds={},us={},ms={};Ge.call(this,e,t,!0),ns.animate=function(e,t,s){J(e,"mbsc-lv-item-"+t,s)},ns.add=function(e,t,s,a,n,i){var o,r,c,d,u,m,h="",f=void 0===n?os:F(n),p=f,b=Re("object"!==("undefined"==typeof t?"undefined":ve(t))?"<"+it+' data-ref="'+Nt++ +'" data-id="'+e+'">'+t+"</"+it+">":t),v=b[0],g=v.style,y=b.attr("data-pos")<0?"left":"right",_=b.attr("data-ref");a=a||l,_||(_=Nt++,b.attr("data-ref",_)),I(b),i||ns.addUndoAction(function(e){d?ns.navigate(f,function(){p.remove(),f.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),u.child=f.children(ct),ns.remove(b,null,e,!0)}):ns.remove(b,null,e,!0)},!0),Z(b,function(e){Y(b.css("top","").removeClass("mbsc-lv-item-undo")),f.is(ot)?(m=f.attr("data-ref"),f.children(ct).length||(d=!0,f.append("<"+lt+"></"+lt+">"))):m=f.children(".mbsc-lv-back").attr("data-back"),u=ms[m],u&&(u.child.length?p=u.child:(f.addClass("mbsc-lv-parent").prepend(ze),p=f.children(ct).prepend(je).addClass("mbsc-lv"),u.child=p,Re(".mbsc-lv-back",f).attr("data-back",m))),ms[_]={item:b,child:b.children(ct),parent:p,ref:m},c=W(p),r=c.length,void 0!==s&&null!==s||(s=r),i&&(h="mbsc-lv-item-new-"+(i?y:"")),N(b.addClass(h)),s!==!1&&(r?s<r?b.insertBefore(c.eq(s)):b.insertAfter(c.eq(r-1)):(o=Re(".mbsc-lv-back",p),o.length?b.insertAfter(o):p.append(b))),oe.trigger("mbsc-refresh"),p.hasClass("mbsc-lv-v")?(g.height=v.offsetHeight+"px",ns.animate(b,i&&Kt===_?"none":"expand",function(t){ns.animate(t,i?"add-"+y:"pop-in",function(t){g.height="",a.call(is,t.removeClass(h)),e()})})):(a.call(is,b.removeClass(h)),e()),De("onItemAdd",{target:v})})},ns.swipe=function(e,t,a,n,i){var l;e=F(e),tt=e,pe=n,Vt=!0,Q=!0,a=void 0===a?300:a,ge=t>0?1:-1,s(),o(),S(e,t,a),clearTimeout(zt),clearInterval(Xt),Xt=setInterval(function(){l=se,se=L(e)/et*100,r(l)},10),zt=setTimeout(function(){clearInterval(Xt),l=se,se=t,r(l),c(i),pe=!1,Vt=!1,Q=!1},a)},ns.openStage=function(e,t,s,a){ds[t]&&ns.swipe(e,ds[t].percent,s,a)},ns.openActions=function(e,t,s,a){e=F(e);var n=z(Zt[e.attr("data-type")||"defaults"],"left"==t?-1:1);ns.swipe(e,"left"==t?-n:n,s,a)},ns.close=function(e,t){ns.swipe(e,0,t)},ns.remove=function(e,t,s,a){function n(e){e&&(d=d||e.hasClass("mbsc-lv-v"),e.children("[data-ref]").each(function(){var e=Re(this).attr("data-ref");n(ms[e].child),delete ms[e]}))}var i,o,r,c,d,u;s=s||l,i=F(e),i.length&&(o=i.parent(),r=W(o).index(i),u=i[0].style,c=i.attr("data-ref"),n(ms[c].child),d&&ns.navigate(i),delete ms[c],a||(i.attr("data-ref")===Kt&&(Qt=!0),ns.addUndoAction(function(e){ns.add(null,i,r,e,o,!0)},!0)),Z(i,function(e){t=t||(i.attr("data-pos")<0?"left":"right"),o.hasClass("mbsc-lv-v")?ns.animate(i.addClass("mbsc-lv-removed"),a?"pop-out":"remove-"+t,function(t){u.height=t[0].offsetHeight+"px",ns.animate(t,"collapse",function(t){u.height="",Y(t.removeClass("mbsc-lv-removed")),s.call(is,t)!==!1&&t.remove(),e()})}):(s.call(is,i)!==!1&&i.remove(),e()),De("onItemRemove",{target:i[0]})}))},ns.move=function(e,t,s,a,n,i){e=F(e),i||ns.startActionTrack(),Ke.append(Je),ns.remove(e,s,null,i),ns.add(null,e,t,a,n,i),i||ns.endActionTrack()},ns.navigate=function(e,t){var s,a;e=F(e),s=ms[e.attr("data-ref")],a=q(e),s&&(U(a>=ls?"r":"l",s.parent,e,t,!0),ls=a)},ns._processSettings=function(){os.is("[mbsc-enhance]")&&(Ve=!0,os.removeAttr("mbsc-enhance"))},ns._init=function(){var e,t,s,o=os.find(ct).length?"left":"right",r=0,l="",c="",d="";lt=At.listNode,ct=At.listSelector,it=At.itemNode,ot=At.itemSelector,s=At.sort||At.sortable||!1,"group"===s&&(s={group:!1,multiLevel:!0}),s===!0&&(s={group:!0,multiLevel:!0,handle:At.sortHandle}),s&&void 0===s.handle&&(s.handle=At.sortHandle),s.handle&&($e=s.handle===!0?o:s.handle,Oe='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+$e+' mbsc-lv-handle"><div class="'+At.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+At.handleMarkup+"</div></div>"),je="<"+it+' class="mbsc-lv-item mbsc-lv-back">'+At.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+At.leftArrowClass+'"></div></'+it+">",ze='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+At.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+At.theme+(It?" mbsc-lv-hb":"")+(At.rtl?" mbsc-lv-rtl":"")+(At.baseTheme?" mbsc-lv-"+At.baseTheme:"")+(At.animateIcons?" mbsc-lv-ic-anim":"")+(At.striped?" mbsc-lv-alt-row":"")+(At.fixedHeader?" mbsc-lv-has-fixed-header":"")+(s.handle?" mbsc-lv-handle-"+$e:""),ns.sortable=s||!1,oe?(oe.attr("class",e),Re(".mbsc-lv-handle-c",oe).remove(),Re(ot,oe).not(".mbsc-lv-back").removeClass("mbsc-lv-item")):(l+='<div class="mbsc-lv-multi-c"></div>',l+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',os.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").removeClass("mbsc-cloak").show(),Ke=Re('<div class="mbsc-lv-stage-c">'+l+"</div>"),Je=Re(".mbsc-lv-ic-c",Ke),mt=Re(".mbsc-lv-multi-c",Ke),Be=Re(".mbsc-lv-ic-s",Ke),Ut=Re(".mbsc-lv-ic-text",Ke),wt=Re("<"+it+' class="mbsc-lv-item mbsc-lv-ph"></'+it+">"),Se=Re('<div class="mbsc-lv-fill-item"></div>'),oe=Re('<div class="'+e+'"><'+lt+' class="mbsc-lv mbsc-lv-dummy"></'+lt+'><div class="mbsc-lv-sl-c"></div></div>'),Le="body"!==At.context,es=Re(Le?At.context:window),Ce=Re(".mbsc-lv-dummy",oe),oe.insertAfter(os),es.on("orientationchange resize",f),f(),oe.on("touchstart mousedown",".mbsc-lv-item",a).on("touchmove",".mbsc-lv-item",n).on("touchend touchcancel",".mbsc-lv-item",i),is.addEventListener("click",v,!0),oe.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){pe||(e.stopPropagation(),e.preventDefault()),Ft=x(e,"X"),qt=x(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){pe||("touchend"===e.type&&y(),Ht&&!Re(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(x(e,"X")-Ft)<10&&Math.abs(x(e,"Y")-qt)<10&&T((se<0?Jt.rightMenu:Jt.leftMenu)[Re(this).index()],ne,ie))}),$t=Re(".mbsc-lv-sl-c",oe).append(os.addClass("mbsc-lv-sl-curr")).attr("data-ref",Nt++),le=os,de=oe),N(os),Lt=0,Zt=At.itemGroups||{},Zt.defaults={swipeleft:At.swipeleft,swiperight:At.swiperight,stages:At.stages,actions:At.actions,actionsWidth:At.actionsWidth},Re.each(Zt,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:At.swipe,t.stages=t.stages||[],K(t.stages,1,!0),K(t.stages.left,1),K(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),Ae=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),Re.each(t.stages,function(e,t){if(0===t.percent)return Ae=!0,!1}),Ae||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),Re.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),Ae?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,c="",d="",r=0;r<t.leftMenu.length;r++)c+="<div "+(t.leftMenu[r].color?'style="background-color: '+t.leftMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[r].icon+'">'+(t.leftMenu[r].text||"")+"</div>";for(r=0;r<t.rightMenu.length;++r)d+="<div "+(t.rightMenu[r].color?'style="background-color: '+t.rightMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[r].icon+'">'+(t.rightMenu[r].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+c+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+d+"</div>"}}),At.fixedHeader&&(t="mbsc-lv-fixed-header"+(Le?" mbsc-lv-fixed-header-ctx mbsc-lv-"+At.theme+(At.baseTheme?" mbsc-lv-"+At.baseTheme:""):""),Ee?Ee.attr("class",t):(Ee=Re('<div class="'+t+'"></div>'),Le?es.before(Ee):oe.prepend(Ee),vt=p(g,200),es.on("scroll touchmove",vt))),At.hover&&(We||oe.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Ye&&Ye[0]==this||(h(),Ye=Re(this),Zt[Ye.attr("data-type")||"defaults"].actions&&(qe=setTimeout(function(){yt?Ye=null:(He=!0,ns.openActions(Ye,Pe,We,!1))},Fe)))}).on("mouseleave.mbsc-lv",h),We=At.hover.time||200,Fe=At.hover.timeout||200,Pe=At.hover.direction||At.hover||"right"),Ve&&oe.attr("mbsc-enhance",""),oe.trigger("mbsc-enhance",[{theme:At.theme,lang:At.lang}])},ns._destroy=function(){var e;de.append(le),Le&&Ee&&Ee.remove(),Ve&&(os.attr("mbsc-enhance",""),e=Xe[oe[0].id],e&&e.destroy()),is.removeEventListener("click",v,!0),oe.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),oe.find(ct).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(ot).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),Re(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",oe).remove(),os.insertAfter(oe),oe.remove(),Ke.remove(),es.off("orientationchange resize",f),vt&&es.off("scroll touchmove",vt)};var hs,fs=[],ps=[],bs=[],vs=0;ns.startActionTrack=function(){vs||(bs=[]),vs++},ns.endActionTrack=function(){vs--,vs||ps.push(bs)},ns.addUndoAction=function(e,t){var s={action:e,async:t};vs?bs.push(s):(ps.push([s]),ps.length>At.undoLimit&&ps.shift())},ns.undo=function(){function e(){a<0?(hs=!1,t()):(s=n[a],a--,s.async?s.action(e):(s.action(),e()))}function t(){n=fs.shift(),n&&(hs=!0,a=n.length-1,e())}var s,a,n;ps.length&&fs.push(ps.pop()),hs||t()},At=ns.settings,De=ns.trigger,ns.init()};Ft.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,tap:et,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},ze.ListView=Ft,fe.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},r("listview",Ft,!1);var qt="mbsc-input-wrap",Rt=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],jt={tap:et},Xt=void 0,zt=function(){function e(t,s){var a=this;ge(this,e);var n=Ue({},jt,fe.settings,s),i=Re(t),o=i.parent(),r=o.hasClass("mbsc-input-wrap")?o.parent():o,l=i.next().hasClass("mbsc-fr")?i.next():null,c=w(i),d=Q(i,"data-input-style",n.inputStyle),u=Q(i,"data-label-style",n.labelStyle);l&&l.insertAfter(r),Z(r,c,d,u,t),i.addClass("mbsc-control"),Rt.forEach(function(e){t.addEventListener(e,a)}),this.settings=n,this._type=c,this._elm=t,this._$elm=i,this._$parent=r,this._$frame=l,this._ripple=K(n.theme),this._isFloating="floating"==u||r.hasClass("mbsc-label-floating"),t.mbscInst=this}return ye(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),Rt.forEach(function(t){e._elm.removeEventListener(t,e)}),delete this._elm.mbscInst}},{key:"option",value:function(e){Ue(this.settings,e),this._ripple=K(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;$(e,t)&&(this._startX=x(e,"X"),this._startY=x(e,"Y"),Xt&&Xt.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,Xt=this._$elm,Xt.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(x(e,"X")-this._startX)>9||Math.abs(x(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,s=this._elm,a=this._type;this._isActive&&this.settings.tap&&"touchend"==e.type&&!s.readOnly&&C(s,a,e),this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Xt=null}}]),e}(),Bt=["focus","change","blur","animationstart"],Ut=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return J(a,a._$parent,a._$elm),a._$parent.addClass("mbsc-input"),a.checkLabel=a.checkLabel.bind(a),Bt.forEach(function(e){a._$elm.on(e,a.checkLabel)}),a}return xe(t,e),ye(t,[{key:"checkLabel",value:function(e){this._isFloating&&(this._elm.value||e&&("focus"==e.type||"animationstart"==e.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active"))}},{key:"refresh",value:function(){this.checkLabel()}},{key:"destroy",value:function(){var e=this;_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove(),this._$parent.find(".mbsc-input-fill").remove(),Bt.forEach(function(t){e._$elm.off(t,e.checkLabel)})}}]),t}(zt),Gt=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),n=a._$elm,i=n.attr("data-icon");return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===n.text()&&n.addClass("mbsc-btn-icon-only")),a._$rippleElm=n,a}return xe(t,e),t}(zt),Jt=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return a._$parent.prepend(a._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),a._$elm.after('<span class="mbsc-checkbox-box"></span>'),a}return xe(t,e),t}(zt),Zt=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return a._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),a._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),a}return xe(t,e),t}(zt),Kt=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),n=a._$elm,i=a._$parent,o=i.find("input.mbsc-control"),r=o.length?o:Re('<input tabindex="-1" class="mbsc-control" readonly>');return a._$input=r,a._setText=a._setText.bind(a),i.addClass("mbsc-select"+(a._$frame?" mbsc-select-inline":"")),n.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),n.hasClass("mbsc-comp")||(n.on("change",a._setText),a._setText()),a}return xe(t,e),ye(t,[{key:"destroy",value:function(){_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.find(".mbsc-select-ic").remove(),this._$elm.off("change",this._setText)}},{key:"_setText",value:function(){var e=this._elm;this._$elm.hasClass("mbsc-comp")||this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(Ut),Qt=["keydown","input","scroll"],es=void 0;Oe&&Re(window).on("resize orientationchange",ee);var ts=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return a._$parent.addClass("mbsc-textarea"),Qt.forEach(function(e){a._elm.addEventListener(e,a)}),te(e),a}return xe(t,e),ye(t,[{key:"destroy",value:function(){var e=this;_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),Qt.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":se(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){te(e._elm)},100)}},{key:"refresh",value:function(){_e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),clearTimeout(this._debounce),te(this._elm)}}]),t}(Ut),ss=function(e){function t(e,s){ge(this,t);var a=we(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),n=void 0,i=void 0,o=a._$elm,r=a._$parent;return r.hasClass("mbsc-segmented-item-ready")||(n=Re('<div class="mbsc-segmented"></div>'),r.after(n),r.parent().find('input[name="'+o.attr("name")+'"]').each(function(){var e=Re(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Re('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),n.append(i)})),a._$rippleElm=o.next(),a}return xe(t,e),t}(zt),as=function(e,t){function s(){var t;e.disabled||(t=parseFloat(Re(this).val()),i(isNaN(t)?y:t))}function a(){return e.disabled}function n(e,t){i(y+t*p)}function i(e,t,s){T=y,void 0===t&&(t=!0),void 0===s&&(s=t),y=Math.min(u,Math.max(Math.round(e/p)*p,m)),c.removeClass("mbsc-disabled"),t&&C.val(y),y==m?l.addClass("mbsc-disabled"):y==u&&r.addClass("mbsc-disabled"),y!==T&&s&&C.trigger("change")}function o(e,t,s){var a=C.attr(e);return void 0===a||""===a?t:s?a:+a}var r,l,c,d,u,m,h,f,p,b,v,g,y,_,x,w=this,C=Re(e),T=y;Ge.call(this,e,t,!0),w.getVal=function(){var e=parseFloat(C.val());return e=isNaN(e)?y:e,Math.min(u,Math.max(Math.round(e/p)*p,m))},w.setVal=function(e,t,s){e=parseFloat(e),i(isNaN(e)?y:e,t,s)},w._init=function(){_=C.parent().hasClass("mbsc-stepper"),x=_?C.closest(".mbsc-stepper-cont"):C.parent(),v=w.settings,m=void 0===t.min?o("min",v.min):t.min,u=void 0===t.max?o("max",v.max):t.max,p=void 0===t.step?o("step",v.step):t.step,h=void 0===t.inputStyle?o("data-input-style",v.inputStyle,!0):t.inputStyle,d=C.attr("data-val")||v.val,y=Math.min(u,Math.max(Math.round(+e.value/p)*p||0,m)),g=fe.themes.form[v.theme],f=g&&g.addRipple?g:null,_||x.addClass("mbsc-stepper-cont mbsc-control-w").addClass("box"==h?"mbsc-input-box":"").addClass("outline"==h?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(y==m?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(y==u?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span></span></span>').prepend(C),l=Re(".mbsc-stepper-minus",x),r=Re(".mbsc-stepper-plus",x),c=Re(".mbsc-stepper-control",x),_||("left"==d?(x.addClass("mbsc-stepper-val-left"),C.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==d?(x.addClass("mbsc-stepper-val-right"),r.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):l.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),b||(C.on("change",s),b=P(c,n,150,a,!1,f)),C.val(y).attr("data-role","stepper").attr("min",m).attr("max",u).attr("step",p).addClass("mbsc-control"),e.mbscInst=w},w._destroy=function(){C.removeClass("mbsc-control").off("change",s),b.destroy(),delete e.mbscInst},w.init()};as.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_defaults:{min:0,max:100,step:1}},ze.Stepper=as;var ns=function(e,t,s){var a,n,i,o,r=this;Ge.call(this,e,t,!0),r.__init=l,r.__destroy=l,r._init=function(){var t;o=r.settings,a=Re(e),t=!!n,n=a.parent(),n=n.hasClass("mbsc-input-wrap")?n.parent():n,r._$parent=n,i&&n.removeClass(i),i=r._css+" mbsc-progress-w mbsc-control-w mbsc-"+o.theme+(o.baseTheme?" mbsc-"+o.baseTheme:"")+(o.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(i),a.addClass("mbsc-control"),r.__init(),t||r._attachChange(),r.refresh(),e.mbscInst=r},r._destroy=function(){r.__destroy(),n.removeClass(i),a.removeClass("mbsc-control"),delete e.mbscInst},s||r.init()},is=function(e,t,s){function a(t){"mousedown"===t.type&&t.preventDefault(),!$(t,this)||M&&!Y||e.disabled||e.readOnly||(z.stopProp&&t.stopPropagation(),M=!0,q=!1,S=!1,U=x(t,"X"),G=x(t,"Y"),L=U,k.removeClass("mbsc-progress-anim"),g=R?Re(".mbsc-slider-handle",this):w,_&&_.removeClass("mbsc-handle-curr"),_=g.parent().addClass("mbsc-active mbsc-handle-curr"),b.addClass("mbsc-active"),P=+g.attr("data-index"),K=k[0].offsetWidth,V=k[0].getBoundingClientRect().left,"mousedown"===t.type&&(H=!0,Re(document).on("mousemove",n).on("mouseup",i)),"mouseenter"===t.type&&(Y=!0,Re(document).on("mousemove",n)))}function n(e){M&&(L=x(e,"X"),O=x(e,"Y"),A=L-U,E=O-G,Math.abs(A)>5&&(q=!0),(q||H||Y)&&Math.abs(te-new Date)>50&&(te=new Date,f(L,z.round,N&&(!Y||H))),q?e.preventDefault():Math.abs(E)>7&&"touchmove"==e.type&&h(e))}function i(e){M&&(e.preventDefault(),R||k.addClass("mbsc-progress-anim"),Y&&!H?p(Q[P],P,!1,!1,!0):f(L,!0,!0),q||S||("touchend"==e.type&&y(),ee._onTap(Q[P])),"mouseup"==e.type&&(H=!1),"mouseleave"==e.type&&(Y=!1),Y||h())}function o(){M&&h()}function r(){var e=ee._readValue(Re(this)),t=+Re(this).attr("data-index");e!==Q[t]&&(Q[t]=e,j[t]=e,p(e,t))}function c(e){e.stopPropagation()}function d(e){e.preventDefault()}function u(t){var s;if(!e.disabled){switch(t.keyCode){case 38:case 39:s=1;break;case 40:case 37:s=-1}s&&(t.preventDefault(),Z||(P=+Re(this).attr("data-index"),p(Q[P]+X*s,P,!0),Z=setInterval(function(){p(Q[P]+X*s,P,!0)},200)))}}function m(e){e.preventDefault(),clearInterval(Z),Z=null}function h(){M=!1,_.removeClass("mbsc-active"),b.removeClass("mbsc-active"),Re(document).off("mousemove",n).off("mouseup",i)}function f(e,t,s){var a=t?Math.min(Math[ee._rounding||"round"](Math.max(100*(e-V)/K,0)/B/X)*X*100/(W-F+D),100):Math.max(0,Math.min(100*(e-V)/K,100));I&&(a=100-a),p(Math.round((F-D+a/B)*J)/J,P,s,a)}function p(e,t,s,a,n,i){var o=w.eq(t),r=o.parent();e=Math.min(W,Math.max(e,F)),void 0===i&&(i=s),ee._update?e=ee._update(e,Q,t,a,R,n,r):r.css({left:I?"auto":(a||v(e,F,W))+"%",right:I?(a||v(e,F,W))+"%":"auto"}),e>F?r.removeClass("mbsc-slider-start"):(Q[t]>F||n)&&r.addClass("mbsc-slider-start"),s&&(Q[t]=e),s&&j[t]!=e&&(S=!0,j[t]=e,ee._fillValue(e,t,i)),o.attr("aria-valuenow",e)}var b,g,_,w,C,T,k,M,D,S,A,E,V,L,O,P,Y,H,I,N,W,F,q,R,j,X,z,B,U,G,J,Z,K,Q,ee=this,te=new Date;ns.call(this,e,t,!0),ee._onTap=l,ee.___init=l,ee.___destroy=l,ee._attachChange=function(){b.on(z.changeEvent,r)},ee.__init=function(){var e;w&&(e=!0,w.parent().remove()),ee.___init(),T=ee._$parent,k=ee._$track,b=T.find("input"),z=ee.settings,F=ee._min,W=ee._max,D=ee._base||0,X=ee._step,N=ee._live,J=X%1!==0?100/(100*+(X%1).toFixed(2)):1,B=100/(W-F+D)||100,R=b.length>1,I=z.rtl,Q=[],j=[],b.each(function(e){Q[e]=ee._readValue(Re(this)),Re(this).attr("data-index",e)}),w=T.find(".mbsc-slider-handle"),C=T.find(R?".mbsc-slider-handle-cont":".mbsc-progress-cont"),w.on("keydown",u).on("keyup",m).on("blur",m),C.on("touchstart mousedown"+(z.hover?" mouseenter":""),a).on("touchmove",n).on("touchend touchcancel"+(z.hover?" mouseleave":""),i).on("pointercancel",o),e||(b.on("click",c),T.on("click",d))},ee.__destroy=function(){T.off("click",d),b.off(z.changeEvent,r).off("click",c),w.off("keydown",u).off("keyup",m).off("blur",m),C.off("touchstart mousedown mouseenter",a).off("touchmove",n).off("touchend touchcancel mouseleave",i).off("pointercancel",o),ee.___destroy()},ee.refresh=function(){b.each(function(e){p(ee._readValue(Re(this)),e,!0,!1,!0,!1)})},ee.getVal=function(){return R?Q.slice(0):Q[0]},ee.setVal=ee._setVal=function(e,t,s){Re.isArray(e)||(e=[e]),Re.each(e,function(e,t){Q[e]=t}),Re.each(e,function(e,t){p(t,e,!0,!1,!0,s)})},s||ee.init()},os=function(e,t){var s,a,n,i,o=this;t=t||{},Ue(t,{changeEvent:"click",round:!1}),is.call(this,e,t,!0),o._readValue=function(){return e.checked?1:0},o._fillValue=function(e,t,a){s.prop("checked",!!e),a&&s.trigger("change")},o._onTap=function(e){o._setVal(e?0:1)},o.___init=function(){n=o.settings,s=Re(e),a=s.parent(),a.find(".mbsc-switch-track").remove(),a.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i&&i.destroy(),i=new zt(e,n),o._$track=a.find(".mbsc-progress-track"),o._min=0,o._max=1,o._step=1},o.___destroy=function(){i.destroy()},o.getVal=function(){return e.checked},o.setVal=function(e,t,s){o._setVal(e?1:0,t,s)},o.init()};os.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},ze.Switch=os;/* eslint-disable no-unused-vars */
var rs=function(e,t,s){function a(){var e=n("value",m);e!==g&&i(e)}function n(e,t,s){var a=r.attr(e);return void 0===a||""===a?t:s?a:+a}function i(e,t,s,a){e=Math.min(h,Math.max(e,m)),c.css("width",100*(e-m)/(h-m)+"%"),void 0===s&&(s=!0),void 0===a&&(a=s),(e!==g||t)&&_._display(e),e!==g&&(g=e,s&&r.attr("value",g),a&&r.trigger("change"))}var o,r,l,c,d,u,m,h,f,p,b,v,g,y,_=this;ns.call(this,e,t,!0),_._display=function(e){y=v&&b.returnAffix?v.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(y),o&&o.html(y)},_._attachChange=function(){r.on("change",a)},_.__init=function(){var s,a,i,y;if(b=_.settings,r=Re(e),y=!!l,l=_._$parent,m=_._min=void 0===t.min?n("min",b.min):t.min,h=_._max=void 0===t.max?n("max",b.max):t.max,f=void 0===t.inputStyle?n("data-input-style",b.inputStyle,!0):t.inputStyle,p=void 0===t.labelStyle?n("data-label-style",b.labelStyle,!0):t.labelStyle,g=n("value",m),s=r.attr("data-val")||b.val,i=r.attr("data-step-labels"),i=i?JSON.parse(i):b.stepLabels,v=r.attr("data-template")||(100!=h||b.template?b.template:"{value}%"),y?(s&&(o.remove(),l.removeClass("mbsc-progress-value-"+("right"==s?"right":"left"))),i&&Re(".mbsc-progress-step-label",u).remove()):(Z(l,null,f,p,e),G(r),l.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=_._$progress=l.find(".mbsc-progress-bar"),u=_._$track=l.find(".mbsc-progress-track")),r.attr("min",m).attr("max",h),s&&(o=Re('<span class="mbsc-progress-value"></span>'),l.addClass("mbsc-progress-value-"+("right"==s?"right":"left")).find(".mbsc-input-wrap").append(o)),i)for(a=0;a<i.length;++a)u.append('<span class="mbsc-progress-step-label" style="'+(b.rtl?"right":"left")+": "+100*(i[a]-m)/(h-m)+'%" >'+i[a]+"</span>");d=Re(r.attr("data-target")||b.target)},_.__destroy=function(){l.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),l.find(".mbsc-input-ic").remove(),r.off("change",a)},_.refresh=function(){i(n("value",m),!0,!1)},_.getVal=function(){return g},_.setVal=function(e,t,s){i(e,!0,t,s)},s||_.init()};rs.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},ze.Progress=rs;var ls=function(e,t,s){var a,n,i,o,r,l,c,d,u,m,h,f,p,b=this;rs.call(this,e,t,!0);var y=b.__init,_=b.__destroy;is.call(this,e,t,!0);var x=b.__init,w=b.__destroy;b.__init=function(){y(),x()},b.__destroy=function(){_(),w()},b._update=function(e,t,s,a,n,r,f){return d?0===s?(e=Math.min(e,t[1]),i.css({width:v(t[1],h,m)-v(e,h,m)+"%",left:u?"auto":v(e,h,m)+"%",right:u?v(e,h,m)+"%":"auto"})):(e=Math.max(e,t[0]),i.css({width:v(e,h,m)-v(t[0],h,m)+"%"})):n||!l?f.css({left:u?"auto":(a||v(e,h,m))+"%",right:u?(a||v(e,h,m))+"%":"auto"}):i.css("width",(a||v(e,h,m))+"%"),c&&o.eq(s).html(e),n||t[s]==e&&!r||b._display(e),e},b._readValue=function(e){return+e.val()},b._fillValue=function(e,t,s){a.eq(t).val(e),s&&a.eq(t).trigger("change")},b._markupReady=function(){var e,t;if(c&&n.addClass("mbsc-slider-has-tooltip"),1!=f)for(t=(m-h)/f,e=0;e<=t;++e)r.append('<span class="mbsc-slider-step" style="'+(u?"right":"left")+":"+100/t*e+'%"></span>');a.each(function(e){"range"==this.type&&Re(this).attr("min",h).attr("max",m).attr("step",f),(l?i:r).append('<span class="mbsc-slider-handle-cont'+(d&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+h+'" aria-valuemax="'+m+'" data-index="'+e+'"></span>'+(c?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=n.find(".mbsc-slider-tooltip")},b.___init=function(){n&&(n.removeClass("mbsc-slider-has-tooltip"),1!=f&&Re(".mbsc-slider-step",r).remove()),n=b._$parent,r=b._$track,i=b._$progress,a=n.find("input"),p=b.settings,h=b._min,m=b._max,b._step=f=void 0===t.step?+a.attr("step")||p.step:t.step,b._live=g("data-live",p.live,a),c=g("data-tooltip",p.tooltip,a),l=g("data-highlight",p.highlight,a)&&a.length<3,d=l&&2==a.length,u=p.rtl,b._markupReady()},s||b.init()};ls.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},ze.Slider=ls;var cs=function(e,t,s){var a,n,i,o,r,l,c,d=this,u=Re(e);ls.call(this,e,t,!0),d._update=function(e,t,s,n,o,r){return a.css("width",v(e,0,i)+"%"),o||t[s]==e&&!r||d._display(e),e},d._markupReady=function(){var e,t="",s="";for(n=d._$track,a=d._$progress,c=d.settings,o=d._min,i=d._max,d._base=o,d._rounding=c.rtl?"floor":"ceil",r=u.attr("data-empty")||c.empty,l=u.attr("data-filled")||c.filled,e=0;e<i;++e)t+='<span class="mbsc-ic mbsc-ic-'+r+'"></span>',s+='<span class="mbsc-ic mbsc-ic-'+l+'"></span>';n.html(t),n.append(a),a.html(s),n.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+o+'" aria-valuemax="'+i+'" data-index="0"></span></span>')},s||d.init()};cs.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}},ze.Rating=cs;var ds=1,us=function(){function e(t,s){var a=this;ge(this,e);var n=void 0,i=void 0,o=void 0,r=Re(t);if(this.settings=s,this._isOpen=s.isOpen||!1,r.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),r.hasClass("mbsc-card")?(i=r.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):r.hasClass("mbsc-form-group")||r.hasClass("mbsc-form-group-inset")?(i=r.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(i=r.find(".mbsc-collapsible-header").eq(0),o=r.find(".mbsc-collapsible-content").eq(0)),n=o[0],n&&!n.id&&(n.id="mbsc-collapsible-"+ds++),i.length&&n){var l=Re('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"></span>');T(this,i,function(){a.collapse()}),i.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",n.id).attr("tabindex","0").on("mousedown",function(e){e.preventDefault()}).on("keydown",function(e){32!==e.which&&13!=e.keyCode||(e.preventDefault(),a.collapse())}).append(l)}t.mbscInst=this,this._$header=i,this._$content=o,this._$elm=r,this._$accordionParent=r.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this)}return ye(e,[{key:"collapse",value:function(e){var t=this._$elm,s=this._$content,a=function e(){s.off("transitionend",e).css("height","")};void 0===e&&(e=!this._isOpen),e&&this._isOpen||!e&&!this._isOpen||!s.length||(e?(tt&&s.on("transitionend",a).css("height",s[0].scrollHeight),t.addClass("mbsc-collapsible-open")):(tt&&s.css("height",getComputedStyle(s[0]).height),setTimeout(function(){s.css("height",0),t.removeClass("mbsc-collapsible-open")})),e&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==t[0]&&this.mbscInst.hide()}),this._isOpen=e,this._$header.attr("aria-expanded",this._isOpen))}},{key:"show",value:function(){this.collapse(!0)}},{key:"hide",value:function(){this.collapse(!1)}},{key:"toggle",value:function(){this.collapse()}},{key:"destroy",value:function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open"),this._$content.removeClass("mbsc-collapsible-content"),this._$header.removeClass("mbsc-collapsible-header").find("mbsc-collapsible-icon").remove()}}]),e}();ze.CollapsibleBase=us;var ms=0,hs=function(e,t,s){function a(e){Re(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(Re(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(o.show()),Re(".mbsc-w-p",e).length||Re(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,o=Re(e),r=this;yt.call(this,e,t,!0),r._generateContent=function(){return""},r._markupReady=function(e){"inline"!=n.display&&a(e)},r._markupInserted=function(e){"inline"==n.display&&a(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},r._markupRemove=function(){o.hide(),i&&i.parent().length&&i.after(o)},r.__processSettings=function(){n=r.settings,r.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),!i&&o.parent().length&&(i=Re(document.createComment("popup")),o.before(i)),o.hide()},s||r.init()};hs.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_class:"popup",_defaults:Ue({},yt.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})},ze.Popup=hs,ze.Widget=hs;var fs=hs;fe.themes.popup=fe.themes.frame;var ps=Oe&&!!window.Promise,bs=[],vs=[];fe.alert=function(e){var t=document.createElement("div");return t.innerHTML=re(e),he(le,t,e)},fe.confirm=function(e){var t=document.createElement("div");return t.innerHTML=re(e),he(ce,t,e)},fe.prompt=function(e){var t=document.createElement("div");return t.innerHTML=re(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',he(de,t,e)},fe.snackbar=function(e){var t=document.createElement("div"),s=e.button;return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(s?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(s.icon?'<span class="mbsc-ic '+(s.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+s.icon+'"></span>':"")+(s.text||"")+"</button>":"")+"</div>",he(ue,t,e)},fe.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",he(me,t,e)};var gs="ios"==Ae&&Ve>7,ys=function(e,t){function s(){i.removeClass("mbsc-no-touch")}var a,n="",i=Re(e),o={},r=this;Ge.call(this,e,t,!0),r.refresh=function(e){ae(i,o,a,e)},r._init=function(){fe.themes.form[a.theme]||(a.theme="mobiscroll"),i.hasClass("mbsc-form")||i.on("touchstart",s).show(),n&&i.removeClass(n),n="mbsc-form mbsc-no-touch mbsc-"+a.theme+(gs?" mbsc-form-hb":"")+(a.baseTheme?" mbsc-"+a.baseTheme:"")+(a.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==a.inputStyle?" mbsc-form-box":"")+("outline"==a.inputStyle?" mbsc-form-outline":""),i.addClass(n).removeClass("mbsc-cloak"),r.refresh()},r._destroy=function(){i.removeClass(n).off("touchstart",s);for(var e in o)o[e].destroy()},r.controls=o,a=r.settings,r.init()};ys.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:et,stopProp:!0,rtl:!1}},fe.themes.form.mobiscroll={},ze.Form=ys,M("[mbsc-enhance],[mbsc-form]",ys,!0);var _s=function(e,t){var s="",a=Re(e),n=this,i=n.settings;Ge.call(this,e,t,!0),n._init=function(){var e=i.context,t=Re(e),n=t.find(".mbsc-ms-top .mbsc-ms"),o=t.find(".mbsc-ms-bottom .mbsc-ms"),r={};"body"==e?Re("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),s&&a.removeClass(s),n.length&&(r.paddingTop=n[0].offsetHeight),o.length&&(r.paddingBottom=o[0].offsetHeight),s="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),a.addClass(s).removeClass("mbsc-cloak").css(r)},n._destroy=function(){a.removeClass(s)},i=n.settings,n.init()};_s.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},ze.Page=_s,fe.themes.page.mobiscroll={},M("[mbsc-page]",_s),r("page",_s,!1),r("form",ys,!1),r("progress",rs,!1),r("slider",ls,!1),r("stepper",as,!1),r("switch",os,!1),r("rating",cs,!1);/* eslint-disable no-unused-vars */
var xs=1,ws=function(e,t,s){function a(e){clearTimeout(v),v=setTimeout(function(){o(!e||"load"!==e.type)},200)}function n(t,s){if(t.length){if(s=S._onItemTap(t,s),r=t,t.parent()[0]==e){var a=t.offset().left,n=t[0].offsetLeft,i=t[0].offsetWidth,o=c.offset().left;g&&(n=C-n-i),"a"==w.variant?a<o?y.scroll(g?n+i-h:-n,D,!0):a+i>o+h&&y.scroll(g?n:h-n-i,D,!0):y.scroll((h/2-n-i/2)*(g?-1:1),D,!0)}s&&k("onItemTap",{target:t[0]})}}function i(){var e,t;S._initMarkup(c),A.find(".mbsc-ripple").remove(),S._$items=A.children(),S._$items.each(function(s){var a,n=Re(this),i=n.attr("data-ref");i||(i=xs++),0===s&&(e=n),r||(r=S._getActiveItem(n)),t=S._getItemProps(n)||{},a="mbsc-scv-item mbsc-btn-e "+(t.cssClass||""),n.attr("data-ref",i).removeClass(M[i]).addClass(a),M[i]=a}),r||(r=e),S._markupReady(c)}function o(t,s){var a=w.itemWidth,n=w.layout;return S.contWidth=h=c.width(),!S._checkResp()&&void(t&&b===h||!h||(b=h,u(n)&&(f=h?h/n:a,f<a&&(n="liquid")),a&&("liquid"==n?f=h?h/Math.min(Math.floor(h/a),S._$items.length):a:"fixed"==n&&(f=a)),S._size(h,f),f&&A.children().css("width",f+"px"),S.totalWidth=C=e.offsetWidth,Ue(y.settings,{contSize:h,maxSnapScroll:!!w.paging&&1,maxScroll:0,minScroll:C>h?h-C:0,snap:w.paging?h:!!x&&(f||".mbsc-scv-item"),elastic:C>h&&(f||h)}),y.refresh(s)))}var r,c,d,m,h,f,p,b,v,g,y,x,w,C,T,k,M={},D=1e3,S=this,A=Re(e);Ge.call(this,e,t,!0),S.navigate=function(e,t){n(S._getItem(e),t)},S.next=function(e){if(r){var t=r.next();t.length&&(r=t,n(r,e))}},S.prev=function(e){if(r){var t=r.prev();t.length&&(r=t,n(r,e))}},S.refresh=S.position=function(e){i(),o(!1,e)},S._init=function(){var e;d=Re(w.context),m=Re("body"==w.context?window:w.context),S.__init(),g=w.rtl,x=!(!w.itemWidth||"fixed"==w.layout||void 0!==w.snap)||w.snap,e="mbsc-scv-c mbsc-no-touch mbsc-"+w.theme+" "+(w.cssClass||"")+" "+(w.wrapperClass||"")+(w.baseTheme?" mbsc-"+w.baseTheme:"")+(g?" mbsc-rtl":" mbsc-ltr")+(w.itemWidth?" mbsc-scv-hasw":"")+("body"==w.context?"":" mbsc-scv-ctx")+" "+(S._getContClass()||""),c?(c.attr("class",e),A.off(".mbsc-ripple")):(c=Re('<div class="'+e+'"><div class="mbsc-scv-sc"></div></div>').insertAfter(A),c.find(".mbsc-scv-sc").append(A),c.find("img").on("load",a),m.on("orientationchange resize",a),p=Y(c[0],a),y=new xt(c[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:g,mousewheel:w.mousewheel,thresholdX:w.threshold,stopProp:w.stopProp,onStart:function(e){T||"touchstart"!=e.domEvent.type||(T=!0,d.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){"touchend"===e.domEvent.type&&_(e.domEvent,e.domEvent.target),n(Re(e.target),!0)},onGestureStart:function(e){k("onGestureStart",e)},onGestureEnd:function(e){k("onGestureEnd",e)},onMove:function(e){k("onMove",e)},onAnimationStart:function(e){k("onAnimationStart",e)},onAnimationEnd:function(e){k("onAnimationEnd",e)}})),A.css("display","").addClass("mbsc-scv").removeClass("mbsc-cloak"),i(),k("onMarkupReady",{target:c[0]}),o()},S._size=l,S._initMarkup=l,S._markupReady=l,S._getContClass=l,S._getItemProps=l,S._getActiveItem=l,S.__init=l,S.__destroy=l,S._destroy=function(){S.__destroy(),m.off("orientationchange resize",a),A.removeClass("mbsc-scv").insertAfter(c).find(".mbsc-scv-item").each(function(){var e=Re(this);e.width("").removeClass(M[e.attr("data-ref")])}),c.remove(),y.destroy(),p.detach()},S._getItem=function(e){return"object"!==("undefined"==typeof e?"undefined":ve(e))&&(e=S._$items.filter('[data-id="'+e+'"]')),Re(e)},S._onItemTap=function(e,t){return void 0===t||t},w=S.settings,k=S.trigger,s||S.init()};ws.prototype={_class:"scrollview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:{tap:!0,stopProp:!1,context:"body",layout:"liquid"}},ze.ScrollView=ws;var Cs=function(e,t,s){function a(){r&&"inline"!=r&&o.find(".mbsc-page").css("padding-"+r,"")}function n(e){e.addClass(u).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(u).removeAttr("data-selected").removeAttr("aria-selected")}var o,r,c,d,u,m,h=Re(e),f=this;ws.call(this,e,t,!0),f.select=function(e){c||i(f._$items.filter(".mbsc-ms-item-sel")),n(f._getItem(e))},f.deselect=function(e){i(f._getItem(e))},f.enable=function(e){f._getItem(e).removeClass("mbsc-disabled").removeAttr("data-disabled").removeAttr("aria-disabled")},f.disable=function(e){f._getItem(e).addClass("mbsc-disabled").attr("data-disabled","true").attr("aria-disabled","true")},f.setBadge=function(e,t){var s;e=f._getItem(e).attr("data-badge",t),s=Re(".mbsc-ms-badge",e),s.length?t?s.html(t):s.remove():t&&e.append('<span class="mbsc-ms-badge">'+t+"</span>")},f._markupReady=function(e){f._hasIcons?e.addClass("mbsc-ms-icons"):e.removeClass("mbsc-ms-icons"),f._hasText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"),f.__markupReady(e)},f._size=function(t,s){f.__size(t,s),"inline"!=r&&o.find(".mbsc-page").css("padding-"+r,e.offsetHeight+"px")},f._onItemTap=function(e,t){return f.__onItemTap(e,t)!==!1&&(void 0===t&&(t=!c),d&&t&&!e.hasClass("mbsc-disabled")&&(c?"true"==e.attr("data-selected")?i(e):n(e):(i(f._$items.filter(".mbsc-ms-item-sel")),n(e))),t)},f._getActiveItem=function(e){var t="true"==e.attr("data-selected");if(d&&!c&&t)return e},f._getItemProps=function(e){var t="true"==e.attr("data-selected"),s="true"==e.attr("data-disabled"),a=e.attr("data-icon"),n=e.attr("data-badge");return e.attr("data-role","button").attr("aria-selected",t?"true":"false").attr("aria-disabled",s?"true":"false").find(".mbsc-ms-badge").remove(),n&&e.append('<span class="mbsc-ms-badge">'+n+"</span>"),a&&(f._hasIcons=!0),e.text()&&(f._hasText=!0),{cssClass:"mbsc-ms-item "+(m.itemClass||"")+" "+(t?u:"")+(s?" mbsc-disabled "+(m.disabledClass||""):"")+(a?" mbsc-ms-ic mbsc-ic mbsc-ic-"+a:"")}},f._getContClass=function(){return" mbsc-ms-c mbsc-ms-"+m.variant+" mbsc-ms-"+r+(d?"":" mbsc-ms-nosel")+(f.__getContClass()||"")},f.__init=function(){f.___init(),o=Re(m.context),a(),r=m.display,c="multiple"==m.select,d="off"!=m.select,u=" mbsc-ms-item-sel "+(m.activeClass||""),h.addClass("mbsc-ms mbsc-ms-base "+(m.groupClass||""))},f.__destroy=function(){h.removeClass("mbsc-ms mbsc-ms-base "+(m.groupClass||"")),a(),f.___destroy()},f.__onItemTap=l,f.__getContClass=l,f.__markupReady=l,f.__size=l,f.___init=l,f.___destroy=l,m=f.settings,s||f.init()};Cs.prototype={_defaults:Ue({},ws.prototype._defaults)};var Ts=function(e,t){var s,a,n,i,o,r=Re(e),l=r.is("ul,ol"),c=this;Cs.call(this,e,t,!0),c._initMarkup=function(){s&&s.remove(),a&&r.append(a.children())},c.__size=function(e,t){var l,d=t||72,u=c._$items.length,m=0;o.hide(),"bottom"==i.type&&(r.removeClass("mbsc-scv-liq"),s.remove(),c._$items.remove().each(function(s){var n=Re(this);r.append(n),m+=t||this.offsetWidth||0,Math.round(m+(s<u-1?d:0))>e&&(l=!0,a.append(n.css("width","").addClass("mbsc-fr-btn-e")))}),s.attr("class",n+(i.moreIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+i.moreIcon:"")).html(c._hasIcons&&c._hasText?i.moreText:""),l&&r.append(s)),"liquid"==i.layout&&r.addClass("mbsc-scv-liq")},c.__onItemTap=function(e){if(e.hasClass("mbsc-menu-item")&&c.trigger("onMenuShow",{target:e[0],menu:o})!==!1)return o.show(!1,!0),!1},c.__getContClass=function(){return"hamburger"==i.type?" mbsc-ms-hamburger":""},c.__markupReady=function(e){"hamburger"==i.type&&(a.append(c._$items.addClass("mbsc-fr-btn-e")),s.attr("class",n+(i.menuIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+i.menuIcon:"")).html(i.menuText||""),r.append(s),i.menuText&&i.menuIcon||e.removeClass("mbsc-ms-icons"),i.menuText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"))},c.___init=function(){var e;"tab"==i.type?(i.display=i.display||"top",i.variant=i.variant||"b"):"bottom"==i.type?(i.display=i.display||"bottom",i.variant=i.variant||"a"):"hamburger"==i.type&&(i.display=i.display||"inline",i.variant=i.variant||"a"),n="mbsc-scv-item mbsc-ms-item mbsc-btn-e mbsc-menu-item "+(i.itemClass||""),s||(s=Re(l?"<li></li>":"<div></div>"),a=Re(l?"<ul></ul>":"<div></div>").addClass("mbsc-scv mbsc-ms")),o=new hs(a[0],{display:"bubble",theme:i.theme,lang:i.lang,context:i.context,buttons:[],anchor:s,onBeforeShow:function(t,s){e=null,s.settings.cssClass="mbsc-wdg mbsc-ms-a mbsc-ms-more"+(c._hasText?"":" mbsc-ms-more-icons")},onBeforeClose:function(){return c.trigger("onMenuHide",{target:e&&e[0],menu:o})},onMarkupReady:function(t,s){c.tap(s._markup.find(".mbsc-fr-c"),function(t){e=Re(t.target).closest(".mbsc-ms-item"),e.length&&!e.hasClass("mbsc-disabled")&&("touchend"===t.type?_(t,t.target):(c.navigate(e,!0),o.hide()))})}})},c.___destroy=function(){o.destroy(),r.append(c._$items),s.remove()},i=c.settings,c.init()};Ts.prototype={_class:"navigation",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:Ue({},Cs.prototype._defaults,{type:"bottom",moreText:"More",moreIcon:"material-more-horiz",menuIcon:"material-menu"})},ze.Navigation=Ts,r("nav",Ts,!1),r("popup",hs,!1),r("widget",fs,!1),fe.customTheme("mobiscroll-dark","mobiscroll");var ks=fe.themes,Ms="mobiscroll";return"android"==Ae?Ms="material":"ios"==Ae?Ms="ios":"wp"==Ae&&(Ms="windows"),Re.each(ks.frame,function(e,t){return Ms&&t.baseTheme==Ms&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(fe.autoTheme=e,!1):void(e==Ms&&(fe.autoTheme=e))}),fe.uid="13730e66",fe});
