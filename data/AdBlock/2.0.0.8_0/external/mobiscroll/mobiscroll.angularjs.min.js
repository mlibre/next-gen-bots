/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):e.mobiscroll=t(e.angular)}(this,function(e){"use strict";function t(e){return"function"==typeof e}function s(e){return"object"===("undefined"==typeof e?"undefined":xe(e))}function n(e){return"number"==typeof e.length}function a(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function i(e,t,s){for(var n in t)s&&(Oe.isPlainObject(t[n])||Oe.isArray(t[n]))?((Oe.isPlainObject(t[n])&&!Oe.isPlainObject(e[n])||Oe.isArray(t[n])&&!Oe.isArray(e[n]))&&(e[n]={}),i(e[n],t[n],s)):void 0!==t[n]&&(e[n]=t[n])}function o(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function r(e,t){return"number"!=typeof t||De[o(e)]?t:t+"px"}function l(){}function c(e){var t,s=[];for(t in e)s.push(e[t]);return s}function d(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s}function u(e){return e-parseFloat(e)>=0}function m(e){return"string"==typeof e}function f(e,t,s){return Math.max(t,Math.min(e,s))}function h(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function p(e,t){var s,n;return t=t||100,function(){var a=this,i=+new Date,o=arguments;s&&i<s+t?(clearTimeout(n),n=setTimeout(function(){s=i,e.apply(a,o)},t)):(s=i,e.apply(a,o))}}function b(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function v(e,t,s){return 100*(e-t)/(s-t)}function g(e,t,s){var n=s.attr(e);return void 0===n||""===n?t:"true"===n}function y(){je++,setTimeout(function(){je--},500)}function _(e,t){if(!t.mbscClick){var s=(e.originalEvent||e).changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),n.isMbscTap=!0,n.isIonicTap=!0,Xe=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(n),Xe=!1,y(),setTimeout(function(){delete t.mbscClick})}}function x(e,t,s){var n=e.originalEvent||e,a=(s?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][a]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][a]:e[a]}function w(e){var t=e[0],s=e.attr("data-role"),n=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|rating|segmented|stepper)/.test(s)&&(n=s),n}function C(e,t,s){e.focus(),/(button|submit|checkbox|switch|radio)/.test(t)&&s.preventDefault(),/select/.test(t)||_(s,e)}function T(e,t,s,n,a,i){function o(e){m||(n&&e.preventDefault(),m=this,d=x(e,"X"),u=x(e,"Y"),f=!1,h=new Date)}function r(e){m&&!f&&(Math.abs(x(e,"X")-d)>a||Math.abs(x(e,"Y")-u)>a)&&(f=!0)}function l(t){m&&((i&&new Date-h<100||!f)&&(t.preventDefault(),s.call(m,t,e)),m=!1,y())}function c(){m=!1}var d,u,m,f,h,p=ge.$,b=p(t);a=a||9,e.settings.tap&&b.on("touchstart.mbsc",o).on("touchcancel.mbsc",c).on("touchmove.mbsc",r).on("touchend.mbsc",l),b.on("click.mbsc",function(t){n&&t.preventDefault(),s.call(this,t,e)})}function k(e){if(je&&!Xe&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function M(e,t,s){He&&Be(function(){Be(e).each(function(){new t(this)}),Be(document).on("mbsc-enhance",function(s,n){Be(s.target).is(e)?new t(s.target,n):Be(e,s.target).each(function(){new t(this,n)})}),s&&Be(document).on("mbsc-refresh",function(t){var s;Be(t.target).is(e)?(s=Ge[t.target.id],s&&s.refresh()):Be(e,t.target).each(function(){s=Ge[this.id],s&&s.refresh()})})})}function D(e){var t;for(t in e)if(void 0!==tt[e[t]])return!0;return!1}function S(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(D([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function $(e,t){if("touchstart"==e.type)Be(t).attr("data-touch","1");else if(Be(t).attr("data-touch"))return Be(t).removeAttr("data-touch"),!1;return!0}function A(e,t){var s,n,a=getComputedStyle(e[0]);return Be.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==a[t+"ransform"])return s=a[t+"ransform"],!1}),s=s.split(")")[0].split(", "),n=t?s[13]||s[5]:s[12]||s[4]}function E(e){if(e){if(ot[e])return ot[e];var t=Be('<div style="background-color:'+e+';"></div>').appendTo("body"),s=getComputedStyle(t[0]),n=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),a=.299*n[0]+.587*n[1]+.114*n[2],i=a<130?"#fff":"#000";return t.remove(),ot[e]=i,i}}function O(e,t,s,n,a,i){function o(e){var t;h=Be(this),w=+h.attr("data-step"),b=+h.attr("data-index"),p=!0,a&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(y=x(e,"X"),_=x(e,"Y"),t=$(e,this)):t=32===e.keyCode,v||!t||h.hasClass("mbsc-disabled")||(u(b,w,e)&&(h.addClass("mbsc-active"),i&&i.addRipple(h.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Be(document).on("mousemove",r).on("mouseup",c))}function r(e){(Math.abs(y-x(e,"X"))>7||Math.abs(_-x(e,"Y"))>7)&&(p=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&Be(document).off("mousemove",r).off("mouseup",c)}function d(){v=!1,clearInterval(C),h&&(h.removeClass("mbsc-active"),i&&setTimeout(function(){i.removeRipple()},100))}function u(e,t,s){return v||T(e)||(b=e,w=t,g=s,v=!0,p=!1,setTimeout(m,100)),v}function m(){return h&&h.hasClass("mbsc-disabled")?void d():(!v&&p||(p=!0,t(b,w,g,m)),void(v&&s&&(clearInterval(C),C=setInterval(function(){t(b,w,g)},s))))}function f(){e.off("touchstart mousedown keydown",o).off("touchmove",r).off("touchend touchcancel keyup",c)}var h,p,b,v,g,y,_,w,C,T=n||l;return e.on("touchstart mousedown keydown",o).on("touchmove",r).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:f}}function V(e,t){function s(){r.style.width="100000px",r.style.height="100000px",o.scrollLeft=1e5,o.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function n(){var e=new Date;l=0,u||(e-m>200&&!o.scrollTop&&!o.scrollLeft&&(m=e,s()),l||(l=Re(n)))}function a(){c||(c=Re(i))}function i(){c=0,s(),t()}var o=void 0,r=void 0,l=void 0,c=void 0,d=void 0,u=void 0,m=0,f=document.createElement("div");return f.innerHTML=ut,f.dir="ltr",d=f.childNodes[1],o=f.childNodes[0],r=o.childNodes[0],e.appendChild(f),o.addEventListener("scroll",a),d.addEventListener("scroll",a),Re(n),{detach:function(){e.removeChild(f),u=!0}}}function L(e){return(e+"").replace('"',"___")}function P(e,t){var s=document.createElement("script"),n="mbscjsonp"+ ++$t;window[n]=function(e){s.parentNode.removeChild(s),delete window[n],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(s)}function I(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}function N(e,t,s){"jsonp"==s?P(e,t):I(e,t)}function H(e,t,s,n,a,i,o){var r=new Date(e,t,s,n||0,a||0,i||0,o||0);return 23==r.getHours()&&0===(n||0)&&r.setHours(r.getHours()+2),r}function Y(e,t,s){if(!t)return null;var n,a,i=Ke({},It,s),o=function(t){for(var s=0;n+1<e.length&&e.charAt(n+1)==t;)s++,n++;return s},r=function(e,t,s){var n=""+t;if(o(e))for(;n.length<s;)n="0"+n;return n},l=function(e,t,s,n){return o(e)?n[t]:s[t]},c="",d=!1;for(n=0;n<e.length;n++)if(d)"'"!=e.charAt(n)||o("'")?c+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":c+=r("d",i.getDay(t),2);break;case"D":c+=l("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=r("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=r("m",i.getMonth(t)+1,2);break;case"M":c+=l("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":a=i.getYear(t),c+=o("y")?a:(a%100<10?"0":"")+a%100;break;case"h":var u=t.getHours();c+=r("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=r("H",t.getHours(),2);break;case"i":c+=r("i",t.getMinutes(),2);break;case"s":c+=r("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":o("'")?c+="'":d=!0;break;default:c+=e.charAt(n)}return c}function W(e,t,s){var n=Ke({},It,s),a=z(n.defaultValue||new Date);if(!e||!t)return a;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":xe(t))?t.toString():t+"";var i,o=n.shortYearCutoff,r=n.getYear(a),l=n.getMonth(a)+1,c=n.getDay(a),d=-1,u=a.getHours(),m=a.getMinutes(),f=0,h=-1,p=!1,b=function(t){var s=i+1<e.length&&e.charAt(i+1)==t;return s&&i++,s},v=function(e){b(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,n=new RegExp("^\\d{1,"+s+"}"),a=t.substr(_).match(n);return a?(_+=a[0].length,parseInt(a[0],10)):0},g=function(e,s,n){var a,i=b(e)?n:s;for(a=0;a<i.length;a++)if(t.substr(_,i[a].length).toLowerCase()==i[a].toLowerCase())return _+=i[a].length,a+1;return 0},y=function(){_++},_=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",n.dayNamesShort,n.dayNames);break;case"o":d=v("o");break;case"m":l=v("m");break;case"M":l=g("M",n.monthNamesShort,n.monthNames);break;case"y":r=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":f=v("s");break;case"a":h=g("a",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"A":h=g("A",[n.amText,n.pmText],[n.amText,n.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(r<100&&(r+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),d>-1){l=1,c=d;do{var x=32-new Date(r,l-1,32,12).getDate();c>x&&(l++,c-=x)}while(c>x)}u=h==-1?u:h&&u<12?u+12:h||12!=u?u:0;var w=n.getDate(r,l-1,c,u,m,f);return n.getYear(w)!=r||n.getMonth(w)+1!=l||n.getDay(w)!=c?a:w}function F(e,t){return Math.round((t-e)/864e5)}function R(e){return H(e.getFullYear(),e.getMonth(),e.getDate())}function q(e,t){var s="",n="";return e&&(t.h&&(n+=h(e.getHours())+":"+h(e.getMinutes()),t.s&&(n+=":"+h(e.getSeconds())),t.u&&(n+="."+h(e.getMilliseconds(),3)),t.tz&&(n+=t.tz)),t.y?(s+=e.getFullYear(),t.m&&(s+="-"+h(e.getMonth()+1),t.d&&(s+="-"+h(e.getDate())),t.h&&(s+="T"+n))):t.h&&(s=n)),s}function j(e,t,s){var n,a,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(s)for(n in i)a=e[i[n]-t],a&&(s[n]="tz"==n?a:1)}function X(e,t,s){var n=window.moment||t.moment,a=t.returnFormat;if(e){if("moment"==a&&n)return n(e);if("locale"==a)return Y(s,e,t);if("iso8601"==a)return q(e,t.isoParts)}return e}function z(e,t,s,n){var a;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(a=Vt.exec(e))?(j(a,2,n),new Date(1970,0,1,a[2]?+a[2]:0,a[3]?+a[3]:0,a[4]?+a[4]:0,a[5]?+a[5]:0)):(a||(a=Ot.exec(e)),a?(j(a,0,n),new Date(a[1]?+a[1]:1970,a[2]?a[2]-1:0,a[3]?+a[3]:1,a[4]?+a[4]:0,a[5]?+a[5]:0,a[6]?+a[6]:0,a[7]?+a[7]:0)):W(t,e,s))):null}function B(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function U(e){return e[0].innerWidth||e.innerWidth()}function G(e,t,s){var n;return e=Be(Be.parseHTML?Be.parseHTML(e):e),1==e.length&&e.is("li")||Be(e[0]).is("li")?(n=e.clone(),Be(n[0]).attr("ng-repeat-start","item in "+t),Be(n).filter("li").eq(-1).attr("ng-repeat-end","").attr("mobiscroll-listview-item",s)):(n=Be("<li></li>").append(e.clone()),n.attr("ng-repeat","item in "+t).attr("mobiscroll-listview-item",s)),n}function J(e){var t,s=0;if(!e)return s;for(t=0;t<e.length;t++)s++,e[t].children&&e[t].children.length&&(s+=J(e[t].children));return s}function Z(e,t){var s={},n=e.parent(),a=n.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",o=e.attr("data-icon");n.hasClass(Qt)?n=n.parent():Be('<span class="'+Qt+'"></span>').insertAfter(e).append(e),a&&n.find("."+Qt).append(a),o&&(o.indexOf("{")!==-1?s=JSON.parse(o):s[i]=o),(o||t)&&(Ke(s,t),n.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find("."+Qt).append('<span class="mbsc-input-fill"></span>').append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))}function K(e,t,s){var n={},a=s[0],i=s.attr("data-password-toggle"),o=s.attr("data-icon-show")||"eye",r=s.attr("data-icon-hide")||"eye-blocked";i&&(n.right="password"==a.type?o:r),Z(s,n),i&&T(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==a.type?(a.type="password",Be(this).addClass("mbsc-ic-"+o).removeClass("mbsc-ic-"+r)):(a.type="text",Be(this).removeClass("mbsc-ic-"+o).addClass("mbsc-ic-"+r))})}function Q(e,t,s,n,a){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").addClass("box"==s?"mbsc-input-box":"").addClass("outline"==s?"mbsc-input-outline":"").addClass("inline"==n?"mbsc-label-inline":"").addClass("stacked"==n?"mbsc-label-stacked":"").addClass("floating"==n?"mbsc-label-floating":"").addClass("floating"==n&&a.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(e,t){Be(t).attr("title",Be(t).text())}),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Be('<span class="mbsc-label" title="'+this.textContent.trim()+'"></span>').insertAfter(this).append(this)}))}function ee(e){var t=ge.themes.form[e];return t&&t.addRipple?t:null}function te(e,t,s){var n=e.attr(t);return void 0===n||""===n?s:n}function se(){clearTimeout(hs),hs=setTimeout(function(){Be("textarea.mbsc-control").each(function(){ne(this)})},100)}function ne(e){var t=void 0,s=void 0,n=void 0,a=Be(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",n=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(n>0?n:0),s=Math.round(t/24),s>a?(t=24*a+(t-24*s),Be(e).addClass("mbsc-textarea-scroll")):Be(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function ae(e){var t=Be(e);if(!t.hasClass("mbsc-textarea-scroll")){var s=e.scrollHeight-e.offsetHeight,n=e.offsetHeight+s,a=Math.round(n/24),i=t.attr("rows")||6;a<=i&&(e.scrollTop=0,e.style.height=n+"px")}}function ie(e,t,s,n){Be("input,select,textarea,progress,button",e).each(function(){var e=this,n=Be(e),a=w(n);if("false"!=n.attr("data-enhance"))if(n.hasClass("mbsc-control"))e.mbscInst&&e.mbscInst.option({theme:s.theme,lang:s.lang,rtl:s.rtl,onText:s.onText,offText:s.offText,stopProp:s.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++ws),a){case"button":case"submit":t[e.id]=new cs(e,{theme:s.theme,tap:s.tap});break;case"switch":t[e.id]=new gs(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,tap:s.tap,onText:s.onText,offText:s.offText,stopProp:s.stopProp});break;case"checkbox":t[e.id]=new ds(e,{tap:s.tap});break;case"range":Be(e).parent().hasClass("mbsc-slider")||(t[e.id]=new os(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp,labelStyle:s.labelStyle}));break;case"rating":t[e.id]=new ys(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp});break;case"progress":t[e.id]=new as(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,labelStyle:s.labelStyle});break;case"radio":t[e.id]=new us(e,{tap:s.tap});break;case"select":case"select-one":case"select-multiple":t[e.id]=new ms(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle});break;case"textarea":t[e.id]=new ps(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle});break;case"segmented":t[e.id]=new bs(e,{theme:s.theme,tap:s.tap});break;case"stepper":t[e.id]=new vs(e,{theme:s.theme});break;case"hidden":return;default:t[e.id]=new ls(e,{tap:s.tap,inputStyle:s.inputStyle,labelStyle:s.labelStyle})}}),Be("[data-collapsible]:not(.mbsc-collapsible)",e).each(function(){var e=this,s=Be(e),n=s.attr("data-open");e.id||(e.id="mbsc-form-control-"+ ++ws),t[e.id]=new xs(e,{isOpen:void 0!==n&&"false"!=n}),Ge[e.id]=t[e.id]}),n||se()}function oe(e){ks.length||e.show(),ks.push(e)}function re(e){var t=Ms.length;Ms.push(e),ks.length||(t?Ms[0].hide():e.show(!1,!0))}function le(e,t,s,n){return Ke({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onHide:function(e,n){s&&s(n._resolve),t.callback&&t.callback(n._resolve),n&&n.destroy(),ks.length?ks[0].show():Ms.length&&Ms[0].show(!1,!0)}},n)}function ce(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function de(e,t,s){var n=new Cs(e,le(ks,t,s));oe(n)}function ue(e,t,s){var n=new Cs(e,le(ks,t,s,{buttons:["cancel","ok"],onSet:function(){n._resolve=!0}}));n._resolve=!1,oe(n)}function me(e,t,s){var n=void 0,a=new Cs(e,le(ks,t,s,{buttons:["cancel","ok"],onMarkupReady:function(e,t){n=t._markup.find("input")[0],setTimeout(function(){n.focus(),n.setSelectionRange(0,n.value.length)},300)},onSet:function(){a._resolve=n.value}}));a._resolve=null,oe(a)}function fe(e,t,s,n,a){var i=void 0,o=new Cs(e,le(Ms,t,s,{display:t.display||"bottom",animate:a,cssClass:(n||"mbsc-snackbar")+(t.color?" mbsc-"+t.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,s){t.duration!==!1&&(i=setTimeout(function(){s&&s.hide()},t.duration||3e3)),t.button&&s.tap(Be(".mbsc-snackbar-btn",e.target),function(){s.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));re(o)}function he(e,t,s){fe(e,t,s,"mbsc-toast","fade")}function pe(e,t,s){var n=void 0;return Ts?n=new Promise(function(n){e(t,s,n)}):e(t,s),n}function be(){return function(e,t,s){function n(){e.$emit("mbscRepeatRender"+s.mobiscrollRepeatRender)}n(),e.$on("$destroy",n)}}function ve(t,s,n,a,i,o){var r=ge.ng.getDDO(a,t,s);return r.link=void 0,r.compile=function(r){var l,c,d=""+Is++,u=Be(r[0]);return u.children().each(function(){for(c=0;c<Ps.length;c++)if(Be(this).attr(Ps[c]))return l=!0,!1}),l&&u.children().attr("mobiscroll-repeat-render",d),function(r,c,u,m){var f,h,p=void 0===o||o,b=Be(c[0]),v=ge.ng.getOpt(r,u,t,m,void 0,void 0,p);if(e.extend(v,s),p&&ge.ng.addWatch(a,r,m,b,u,t),f=n(c[0],v),u.mobiscrollInstance&&a(u.mobiscrollInstance).assign(r,f),l){var g=r.$on("mbscRepeatRender"+d,function(){h&&i.cancel(h),h=i(function(){f.option(),p&&ge.ng.render(b,m?m.$modelValue:a(u[t])(r))},1)});r.$on("$destroy",function(){g(),i.cancel(h)})}}},r}e=e&&e.hasOwnProperty("default")?e.default:e;var ge=ge||{},ye={},_e={},xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ce=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),Te=function e(t,s,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,s);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,s,n)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(n)},ke=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Me=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},De={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Se={readonly:"readOnly"},$e=[],Ae=Array.prototype.slice,Ee=function(){var e=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,i(this)},i=function s(n,a){var i=[],o=0;if(n&&!a&&n instanceof e)return n;if(t(n))return s(document).ready(n);if(n)if("string"==typeof n){var r,l,c;if(n=c=n.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),l=document.createElement(d),l.innerHTML=c,o=0;o<l.childNodes.length;o++)i.push(l.childNodes[o])}else for(a||"#"!==n[0]||n.match(/[ .<>:~]/)?(a instanceof e&&(a=a[0]),r=(a||document).querySelectorAll(n)):r=[document.getElementById(n.split("#")[1])],o=0;o<r.length;o++)r[o]&&i.push(r[o])}else if(n.nodeType||n===window||n===document)i.push(n);else if(n.length>0&&n[0].nodeType)for(o=0;o<n.length;o++)i.push(n[o]);else s.isArray(n)&&(i=n);return new e(i)};return e.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(i):document.addEventListener("DOMContentLoaded",function(){e(i)},!1),this},concat:$e.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return i(i.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return i(Ae.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[s]&&this[n].classList.add(t[s]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&""!==t[s]&&this[n].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)"undefined"!=typeof this[n].classList&&this[n].classList.toggle(t[s]);return this},closest:function(e,t){var n=this[0],a=!1;for(s(e)&&(a=i(e));n&&!(a?a.indexOf(n)>=0:i.matches(n,e));)n=n!==t&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return i(n)},attr:function e(t,s){var e;if(1!==arguments.length||"string"!=typeof t){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,s);else for(var a in t)this[n][a]=t[a],this[n].setAttribute(a,t[a]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=Se[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?i.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)i.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,s,n,a){function o(e){var t,a,o=e.target;if(i(o).is(s))n.call(o,e);else for(a=i(o).parents(),t=0;t<a.length;t++)i(a[t]).is(s)&&n.call(a[t],e)}function r(e,t,s,n){var a=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:a[1],event:a[0],listener:s,capture:n}),e.addEventListener(a[0],s,n)}var l,c,d=e.split(" ");for(l=0;l<this.length;l++)if(t(s)||s===!1)for(t(s)&&(a=n||!1,n=s),c=0;c<d.length;c++)d[c].indexOf(".")!=-1?r(this[l],d[c],n,a):this[l].addEventListener(d[c],n,a);else for(c=0;c<d.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:n,liveListener:o}),d[c].indexOf(".")!=-1?r(this[l],d[c],o,a):this[l].addEventListener(d[c],o,a);return this},off:function(e,s,n,a){function i(e){var t,s,n,a=e.split("."),i=a[0],o=a[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(s=0;s<d[t].DomNameSpaces.length;++s)n=d[t].DomNameSpaces[s],n.namespace!=o||n.event!=i&&i||(d[t].removeEventListener(n.event,n.listener,n.capture),n.removed=!0);for(s=d[t].DomNameSpaces.length-1;s>=0;--s)d[t].DomNameSpaces[s].removed&&d[t].DomNameSpaces.splice(s,1)}}var o,r,l,c,d=this;for(o=e.split(" "),r=0;r<o.length;r++)for(l=0;l<this.length;l++)if(t(s)||s===!1)t(s)&&(a=n||!1,n=s),0===o[r].indexOf(".")?i(o[r].substr(1),n,a):this[l].removeEventListener(o[r],n,a);else{if(this[l].DomLiveListeners)for(c=0;c<this[l].DomLiveListeners.length;c++)this[l].DomLiveListeners[c].listener===n&&this[l].removeEventListener(o[r],this[l].DomLiveListeners[c].liveListener,a);this[l].DomNameSpaces&&this[l].DomNameSpaces.length&&o[r]&&i(o[r])}return this},trigger:function(e,t){for(var s=e.split(" "),n=0;n<s.length;n++)for(var a=0;a<this.length;a++){var i;try{i=new CustomEvent(s[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(s[n],!0,!0),i.detail=t}this[a].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,s=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,s=["left","right"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,s=["top","bottom"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),s=document.documentElement;return{top:t.top+window.pageYOffset-s.clientTop,left:t.left+window.pageXOffset-s.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,s){var n,a,i=this[0],e="";if(arguments.length<2){if(!i)return;if("string"==typeof t)return i.style[t]||getComputedStyle(i,"").getPropertyValue(t)}if("string"==typeof t)s||0===s?e=o(t)+":"+r(t,s):this.each(function(){this.style.removeProperty(o(t))});else for(a in t)if(t[a]||0===t[a])e+=o(a)+":"+r(a,t[a])+";";else for(n=0;n<this.length;n++)this[n].style.removeProperty(o(a));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(s){for(var n=[],a=0;a<this.length;a++)t(s)?s.call(this[a],a,this[a])&&n.push(this[a]):i.matches(this[a],s)&&n.push(this[a]);return new e(n)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&i.matches(this[0],e)},not:function(e){var a=[];if(t(e)&&void 0!==e.call)this.each(function(t){e.call(this,t)||a.push(this)});else{var o="string"==typeof e?this.filter(e):n(e)&&t(e.item)?Ae.call(e):i(e);s(o)&&(o=i.map(o,function(e){return e})),this.each(function(e,t){o.indexOf(t)<0&&a.push(t)})}return i(a)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(i(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?Ae.call(this):this[e>=0?e:e+this.length]},eq:function(t){if("undefined"==typeof t)return this;var s,n=this.length;return t>n-1?new e([]):t<0?(s=n+t,new e(s<0?[]:[this[s]])):new e([this[t]])},append:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t;a.firstChild;)this[s].appendChild(a.firstChild)}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].appendChild(t[n]);else this[s].appendChild(t);return this},appendTo:function(e){return i(e).append(this),this},prepend:function(t){var s,n;for(s=0;s<this.length;s++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t,n=a.childNodes.length-1;n>=0;n--)this[s].insertBefore(a.childNodes[n],this[s].childNodes[0])}else if(t instanceof e)for(n=0;n<t.length;n++)this[s].insertBefore(t[n],this[s].childNodes[0]);else this[s].insertBefore(t,this[s].childNodes[0]);return this},prependTo:function(e){return i(e).prepend(this),this},insertBefore:function(e){for(var t=i(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=i(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n].nextSibling);return this},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&i(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var s=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var a=n.nextElementSibling;t?i(a).is(t)&&s.push(a):s.push(a),n=a}return new e(s)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&i(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var s=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var a=n.previousElementSibling;t?i(a).is(t)&&s.push(a):s.push(a),n=a}return new e(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?i(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return i(i.unique(t))},parents:function e(t){for(var e=[],s=0;s<this.length;s++)for(var n=this[s].parentNode;n;)t?i(n).is(t)&&e.push(n):e.push(n),n=n.parentNode;return i(i.unique(e))},find:function(t){for(var s=[],n=0;n<this.length;n++)for(var a=this[n].querySelectorAll(t),i=0;i<a.length;i++)s.push(a[i]);return new e(s)},children:function t(s){for(var t=[],n=0;n<this.length;n++)for(var a=this[n].childNodes,o=0;o<a.length;o++)s?1===a[o].nodeType&&i(a[o]).is(s)&&t.push(a[o]):1===a[o].nodeType&&t.push(a[o]);return new e(i.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var n=i(arguments[e]);for(t=0;t<n.length;t++)s[s.length]=n[t],s.length++}return s},before:function(e){return i(e).insertBefore(this),this},after:function(e){return i(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return Ae.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return i(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!i(t).filter(e).length;)s.push(t[0]),t=t.prev();return i(s)},detach:function(){return this.remove()}},i.fn=e.prototype,i}(),Oe=Ee;ge.$=Ee,Oe.inArray=function(e,t,s){return $e.indexOf.call(t,e,s)},Oe.extend=function(e){var t,s=Ae.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){
i(e,s,t)}),e},Oe.isFunction=t,Oe.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},Oe.isPlainObject=function(e){return s(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},Oe.each=function(e,t){var n,a;if(s(e)&&t){if(Oe.isArray(e)||e instanceof Ee)for(n=0;n<e.length&&t.call(e[n],n,e[n])!==!1;n++);else for(a in e)if(e.hasOwnProperty(a)&&"length"!==a&&t.call(e[a],a,e[a])===!1)break;return this}},Oe.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},Oe.map=function(e,t){var s,a,i,o=[];if(n(e))for(a=0;a<e.length;a++)s=t(e[a],a),null!==s&&o.push(s);else for(i in e)s=t(e[i],i),null!==s&&o.push(s);return o.length>0?Oe.fn.concat.apply([],o):o},Oe.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return s.call(e,t)};var Ve,Le,Pe,Ie,Ne=[],He="undefined"!=typeof window,Ye=He?navigator.userAgent:"",We=/Safari/.test(Ye),Fe=Ye.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Re=He&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},qe=He&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(Fe)?(Ve="android",Le=Ye.match(/Android\s+([\d\.]+)/i),Le&&(Ne=Le[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Fe)?(Ve="ios",Le=Ye.match(/OS\s+([\d\_]+)/i),Le&&(Ne=Le[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Fe)?Ve="wp":/Windows|MSIE/i.test(Fe)&&(Ve="windows"),Pe=Ne[0],Ie=Ne[1];var je=0,Xe=void 0;He&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,k,!0)}),"android"==Ve&&Pe<5&&document.addEventListener("change",function(e){je&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var ze,Be=ge.$,Ue=+new Date,Ge={},Je={},Ze={xsmall:0,small:576,medium:768,large:992,xlarge:1200},Ke=Be.extend;Ke(ye,{getCoord:x,preventClick:y,vibrate:b}),ze=Ke(ge,{$:Be,version:"4.5.2",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:Ve,majorVersion:Pe,minorVersion:Ie},i18n:{},instances:Ge,classes:Je,util:ye,settings:{},setDefaults:function(e){Ke(this.settings,e)},customTheme:function(e,t){var s,n=ge.themes,a=["frame","scroller","listview","navigation","form","page","progress","card"];for(s=0;s<a.length;s++)n[a[s]][e]=Ke({},n[a[s]][t],{baseTheme:t})}});var Qe=function(e,t){function s(e){var t,s;return c.responsive&&(s=e||a.offsetWidth,Be.each(c.responsive,function(e,n){s>=(n.breakpoint||Ze[e])&&(t=n)})),t}function n(){Be(e).addClass("mbsc-comp"),e.id?Ge[e.id]&&Ge[e.id].destroy():e.id="mobiscroll"+ ++Ue,Ge[e.id]=h,h.__ready=!0}var a,i,o,r,c,d,u,m,f,h=this;h.settings={},h.element=e,h._init=l,h._destroy=l,h._processSettings=l,h._checkResp=function(e){if(h&&h._responsive){var t=s(e);if(r!==t)return r=t,h.init({}),!0}},h.init=function(n){var l,p;n&&h.getVal&&(p=h.getVal());for(l in h.settings)delete h.settings[l];c=h.settings,Ke(t,n),h._hasDef&&(f=ze.settings),Ke(c,h._defaults,f,t),h._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=ze.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=ze.themes[h._class]?ze.themes[h._class][u]:{}),h._hasLang&&(i=ze.i18n[c.lang]),Ke(c,d,i,f,t),a=Be(c.context)[0],h._responsive&&(r||(r=s()),Ke(c,r)),h._processSettings(r||{}),h._presets&&(o=h._presets[c.preset],o&&(o=o.call(e,h,t),Ke(c,o,t,r))),h._init(n),n&&h.setVal&&h.setVal(p,!0),m("onInit")},h.destroy=function(){h&&(h._destroy(),m("onDestroy"),delete Ge[e.id],h=null)},h.tap=function(e,t,s,n,a){T(h,e,t,s,n,a)},h.trigger=function(s,n){var a,i,r,l=[f,d,o,t];for(i=0;i<4;i++)r=l[i],r&&r[s]&&(a=r[s].call(e,n||{},h));return a},h.option=function(e,s){var n={},a=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":xe(e))?n=e:n[e]=s,a.forEach(function(e){t[e]=c[e]}),h.init(n)},h.getInst=function(){return h},t=t||{},m=h.trigger,h.__ready||n()};ge.ng={getDDO:function(t,s,n,a,i,o,r,l){return i=i||ge.ng.read,a=a||ge.ng.render,o=o||ge.ng.parse,r=r||ge.ng.format,{restrict:"A",require:"?ngModel",priority:e.version&&1==e.version.major&&2==e.version.minor?1:void 0,link:function(e,c,d,u){var m,f=Be(c[0]);ge.ng.addWatch(t,e,u,f,d,s,a,i,o,r),m=new Je[n.component||"Scroller"](c[0],Ke(ge.ng.getOpt(e,d,s,u,l,f),n||{})),d.mobiscrollInstance&&t(d.mobiscrollInstance).assign(e,m)}}},getOpt:function(e,t,s,n,a,i,o){var r=e.$eval(t.mobiscrollOptions||"{}"),l=a?i.closest("[mbsc-form-opt]"):null;return a&&(r=Ke({},ge.ng.formOptions[l.attr("id")]||{},r)),(n||o===!1)&&Ke(r,e.$eval(t[s]||"{}")),r},read:function(e,t,s,n,a,i,o){var r,l=Ge[s.attr("id")];l&&(r=o(s,l.getVal()),i?i.$setViewValue(r):a[t]&&e(a[t]).assign(n,r))},render:function(t,s){var n=Ge[t.attr("id")];n&&!e.equals(n.getVal(),s)&&n.setVal(s,!0,!1)},parse:function(e){var t,s=Ge[e.attr("id")];return s&&(t=s.getVal()),Be.isArray(t)&&!t.length?null:t},format:function(e,t){return Be.isArray(t)&&!t.length?null:t},addWatch:function(e,t,s,n,a,i,o,r,l,c){function d(){t.$$phase?r(e,i,n,t,a,s,c):t.$apply(function(){r(e,i,n,t,a,s,c)})}o=o||ge.ng.render,r=r||ge.ng.read,l=l||ge.ng.parse,c=c||ge.ng.format,s&&(s.$render=function(){},s.$parsers.unshift(function(e){return l(n,e)}),s.$formatters.push(function(e){return c(n,e)})),t.$watch(function(){return s?s.$modelValue:e(a[i])(t)},function(e){o(n,e)},!0),t.$on("$destroy",function(){var e=Ge[n[0].id];e&&e.destroy(),n.off("change",d)}),n.on("change",d)},formOptions:{}};var et,tt,st,nt,at,it,ot={};He&&(tt=document.createElement("modernizr").style,st=S(),it=st.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),et=void 0!==tt.animation?"animationend":"webkitAnimationEnd",at=void 0!==tt.transition,nt=void 0===tt.touchAction||"ios"==Ve&&!We);var rt,lt,ct="position:absolute;left:0;top:0;",dt=ct+"right:0;bottom:0;overflow:hidden;z-index:-1;",ut='<div style="'+dt+'"><div style="'+ct+'"></div></div><div style="'+dt+'"><div style="'+ct+'width:200%;height:200%;"></div></div>',mt=ge.themes,ft=/(iphone|ipod)/i.test(Ye)&&Pe>=7,ht="android"==Ve,pt="ios"==Ve,bt=pt&&8==Pe,vt=pt&&Pe>7,gt=function(e){e.preventDefault()},yt="input,select,textarea,button",_t='textarea,button,input[type="button"],input[type="submit"]',xt=yt+',[tabindex="0"]',wt=function(e,t,s){function n(e){A&&A.removeClass("mbsc-active"),A=Be(this),A.hasClass("mbsc-disabled")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-active"),"mousedown"===e.type?Be(document).on("mouseup",a):"pointerdown"===e.type&&Be(document).on("pointerup",a)}function a(e){A&&(A.removeClass("mbsc-active"),A=null),"mouseup"===e.type?Be(document).off("mouseup",a):"pointerup"===e.type&&Be(document).off("pointerup",a)}function i(e){ge.activeInstance==se&&(13!=e.keyCode||Be(e.target).is(_t)&&!e.shiftKey?27==e.keyCode&&se.cancel():se.select())}function o(e){e||ht||!se._activeElm||(ie=new Date,se._activeElm.focus())}function r(e){var t=rt,s=U.focusOnClose;se._markupRemove(),C.remove(),P&&(E.mbscModals--,U.scrollLock&&E.mbscLock--,E.mbscLock||w.removeClass("mbsc-fr-lock"),E.mbscModals||(w.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),R&&(g.css({top:"",left:""}),D.scrollLeft(G),D.scrollTop(Z))),E.mbscModals&&!B||e||(t||(t=ne),setTimeout(function(){void 0===s||s===!0?(lt=!0,t[0].focus()):s&&Be(s)[0].focus()},200))),B=void 0,I=!1,Q("onHide")}function c(){clearTimeout(z),z=setTimeout(function(){se.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function d(e){ge.activeInstance==se&&e.target.nodeType&&!j.contains(e.target)&&new Date-ie>100&&(ie=new Date,se._activeElm.focus())}function u(e,t){function s(){C.off(et,s).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+O).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+O),o(t)}if(P)C.appendTo(g);else if(ne.is("div")&&!se._hasContent)ne.empty().append(C);else if(ne.hasClass("mbsc-control")){var i=ne.closest(".mbsc-control-w");C.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else C.insertAfter(ne);I=!0,se._markupInserted(C),Q("onMarkupInserted",{target:H}),C.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",gt).on("touchstart mousedown",function(e){U.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Be(e.target).is(yt)){if(9==e.keyCode&&P&&U.focusTrap){var t=C.find(xt).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(Be(":focus",C)),n=t.length-1,a=0;e.shiftKey&&(n=0,a=-1),s===n&&(t.eq(a)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",a),H.addEventListener("touchstart",function(){K||(K=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Be.each($,function(e,t){se.tap(Be(".mbsc-fr-btn"+e,C),function(e){t=m(t)?se.buttons[t]:t,(m(t.handler)?se.handlers[t.handler]:t.handler).call(this,e,se)},!0)}),se._attachEvents(C),se.position()!==!1&&(q=V(H,c),P&&(C.removeClass("mbsc-fr-pos"),O&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+O).on(et,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+O):o(t)),Q("onShow",{target:H,valueText:se._tempValue}))}function h(e,t){se._isVisible||(e&&e(),se.show()!==!1&&(rt=t))}function p(){se._fillValue(),Q("onSet",{valueText:se._value})}function b(){Q("onCancel",{valueText:se._value})}function v(){se.setVal(null,!0)}var g,_,w,C,T,k,M,D,S,$,A,E,O,L,P,I,N,H,Y,W,F,R,q,j,X,z,B,U,G,J,Z,K,Q,ee,te,se=this,ne=Be(e),ae=[],ie=new Date;Qe.call(this,e,t,!0),se.position=function(e){var t,s,n,a,i,o,r,l,c,d,u,m,h,p,b,v,y,_,x,w={},T=0,$=0,A=0,O=0;if(!I)return!1;if(v=ee,b=te,h=H.offsetHeight,p=H.offsetWidth,p&&h&&(ee!==p||te!==h||!e)){if(se._checkResp(p))return!1;if(ee=p,te=h,se._isFullScreen||/top|bottom/.test(U.display)?M.width(p):P&&S.width(""),se._position(C),!se._isFullScreen&&/center|bubble/.test(U.display)&&(Be(".mbsc-w-p",C).each(function(){y=this.getBoundingClientRect().width,O+=y,A=y>A?y:A}),m=O>p-16||U.tabs===!0,S.css({width:se._isLiquid?Math.min(U.maxPopupWidth,p-16):Math.ceil(m?A:O),"white-space":m?"":"nowrap"})),Q("onPosition",{target:H,popup:X,hasTabs:m,oldWidth:v,oldHeight:b,windowWidth:p,windowHeight:h})!==!1&&P)return F&&(T=D.scrollLeft(),$=D.scrollTop(),ee&&k.css({width:"",height:""})),Y=X.offsetWidth,W=X.offsetHeight,J=W<=h&&Y<=p,"center"==U.display?(x=Math.max(0,T+(p-Y)/2),_=Math.max(0,$+(h-W)/2)):"bubble"==U.display?(t=void 0===U.anchor?ne:Be(U.anchor),r=Be(".mbsc-fr-arr-i",C)[0],a=t.offset(),i=a.top+(L?$-g.offset().top:0),o=a.left+(L?T-g.offset().left:0),s=t[0].offsetWidth,n=t[0].offsetHeight,l=r.offsetWidth,c=r.offsetHeight,x=f(o-(Y-s)/2,T+3,T+p-Y-3),_=i+n+c/2,_+W+8>$+h&&i-W-c/2>$?(M.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),_=i-W-c/2):M.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Be(".mbsc-fr-arr",C).css({left:f(o+s/2-(x+(Y-l)/2),0,l)}),J=_>$&&x>T&&_+W<=$+h&&x+Y<=T+p):(x=T,_="top"==U.display?$:Math.max(0,$+h-W)),F&&(d=Math.max(_+W,L?E.scrollHeight:Be(document).height()),u=Math.max(x+Y,L?E.scrollWidth:Be(document).width()),k.css({width:u,height:d}),U.scroll&&"bubble"==U.display&&(_+W+8>$+h||i>$+h||i+n<$)&&D.scrollTop(Math.min(i,_+W-h+8,d-h))),w.top=Math.floor(_),w.left=Math.floor(x),M.css(w),!0}},se.attachShow=function(e,t){var s,n=Be(e).off(".mbsc"),a=n.prop("readonly");"inline"!==U.display&&((U.showOnFocus||U.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){se._isVisible&&this.blur()}),s=Be('label[for="'+n.attr("id")+'"]'),s.length||(s=n.closest("label"))),n.is("select")||(U.showOnFocus&&n.on("focus.mbsc",function(){lt?lt=!1:h(t,n)}),U.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),h(t,n))}),se.tap(n,function(e){e.isMbscTap&&(K=!0),h(t,n)}),s&&s.length&&se.tap(s,function(e){e.target!==n[0]&&h(t,n)}))),ae.push({readOnly:a,el:n,lbl:s}))},se.select=function(){P?se.hide(!1,"set",!1,p):p()},se.cancel=function(){P?se.hide(!1,"cancel",!1,b):b()},se.clear=function(){se._clearValue(),Q("onClear"),P&&se._isVisible&&!se.live?se.hide(!1,"clear",!1,v):v()},se.enable=function(){U.disabled=!1,Be.each(ae,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},se.disable=function(){U.disabled=!0,Be.each(ae,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},se.show=function(e,t){var s,n;if(!U.disabled&&!se._isVisible){if(se._readValue(),Q("onBeforeShow")===!1)return!1;if(rt=null,O=U.animate,$=U.buttons||[],F=L||"bubble"==U.display,R=ft&&!F&&U.scrollLock,s=$.length>0,O!==!1&&("top"==U.display?O=O||"slidedown":"bottom"==U.display?O=O||"slideup":"center"!=U.display&&"bubble"!=U.display||(O=O||"pop")),P&&(Z=Math.max(0,D.scrollTop()),G=Math.max(0,D.scrollLeft()),ee=0,te=0,R&&!w.hasClass("mbsc-fr-lock-ios")&&g.css({top:-Z+"px",left:-G+"px"}),w.addClass((U.scrollLock?"mbsc-fr-lock":"")+(R?" mbsc-fr-lock-ios":"")+(L?" mbsc-fr-lock-ctx":"")),Be(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=ge.activeInstance,ge.activeInstance=se,E.mbscModals=E.mbscModals||0,E.mbscLock=E.mbscLock||0,E.mbscModals++,U.scrollLock&&E.mbscLock++),n='<div lang="'+U.lang+'" class="mbsc-fr mbsc-'+U.theme+(U.baseTheme?" mbsc-"+U.baseTheme:"")+" mbsc-fr-"+U.display+" "+(U.cssClass||"")+" "+(U.compClass||"")+(se._isLiquid?" mbsc-fr-liq":"")+(P?" mbsc-fr-pos":"")+(N?" mbsc-fr-pointer":"")+(vt?" mbsc-fr-hb":"")+(K?"":" mbsc-no-touch")+(R?" mbsc-platform-ios":"")+(s?$.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(P?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(U.rtl?" mbsc-rtl":" mbsc-ltr")+(U.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===U.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(P?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(U.headerText?'<div class="mbsc-fr-hdr">'+(m(U.headerText)?U.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',n+=se._generateContent(),n+="</div>",s){var a,o,r,l=$.length;for(n+='<div class="mbsc-fr-btn-cont">',o=0;o<$.length;o++)r=U.btnReverse?l-o-1:o,a=$[r],a=m(a)?se.buttons[a]:a,"set"===a.handler&&(a.parentClass="mbsc-fr-btn-s"),"cancel"===a.handler&&(a.parentClass="mbsc-fr-btn-c"),n+="<div"+(U.btnWidth?' style="width:'+100/$.length+'%"':"")+' class="mbsc-fr-btn-w '+(a.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+r+" mbsc-fr-btn-e "+(void 0===a.cssClass?U.btnClass:a.cssClass)+(a.icon?" mbsc-ic mbsc-ic-"+a.icon:"")+'">'+(a.text||"")+"</div></div>";n+="</div>"}if(n+="</div></div></div></div>"+(P?"</div></div>":""),C=Be(n),k=Be(".mbsc-fr-persp",C),T=Be(".mbsc-fr-scroll",C),S=Be(".mbsc-fr-w",C),M=Be(".mbsc-fr-popup",C),_=Be(".mbsc-fr-hdr",C),H=C[0],j=T[0],X=M[0],se._activeElm=Be(".mbsc-fr-focus",C)[0],se._markup=C,se._isVisible=!0,se.markup=H,se._markupReady(C),Q("onMarkupReady",{target:H}),P&&(Be(window).on("keydown",i),U.scrollLock&&C.on("touchmove mousewheel wheel",function(e){J&&e.preventDefault()}),U.focusTrap&&D.on("focusin",d),U.closeOnOverlayTap)){var c,f,h,p;T.on("touchstart mousedown",function(e){f||e.target!=j||(f=!0,c=!1,h=x(e,"X"),p=x(e,"Y"))}).on("touchmove mousemove",function(e){f&&!c&&(Math.abs(x(e,"X")-h)>9||Math.abs(x(e,"Y")-p)>9)&&(c=!0)}).on("touchcancel",function(){f=!1}).on("touchend click",function(e){f&&!c&&(se.cancel(),"touchend"==e.type&&y()),f=!1})}P&&R?setTimeout(function(){u(e,t)},100):u(e,t)}},se.hide=function(e,t,s,n){function a(){C.off(et,a),r(e)}return!(!se._isVisible||!s&&!se._isValid&&"set"==t||!s&&Q("onBeforeClose",{valueText:se._tempValue,button:t})===!1)&&(se._isVisible=!1,q&&(q.detach(),q=null),P&&(Be(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),ge.activeInstance==se&&(ge.activeInstance=B),Be(window).off("keydown",i),D.off("focusin",d)),C&&(P&&O&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+O).on(et,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+O):r(e),se._detachEvents(C)),n&&n(),ne.trigger("blur"),void Q("onClose",{valueText:se._value}))},se.isVisible=function(){return se._isVisible},se.setVal=l,se.getVal=l,se._generateContent=l,se._attachEvents=l,se._detachEvents=l,se._readValue=l,se._clearValue=l,se._fillValue=l,se._markupReady=l,se._markupInserted=l,se._markupRemove=l,se._position=l,se.__processSettings=l,se.__init=l,se.__destroy=l,se._destroy=function(){se.hide(!0,!1,!0),ne.off(".mbsc"),Be.each(ae,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),se.__destroy()},se._updateHeader=function(){var t=U.headerText,s=t?"function"==typeof t?t.call(e,se._tempValue):t.replace(/\{value\}/i,se._tempValue):"";_.html(s||"&nbsp;")},se._processSettings=function(e){var s,n;for(se.__processSettings(e),N=!U.touchUi,N&&(U.display=e.display||t.display||"bubble",U.buttons=e.buttons||t.buttons||[]),U.buttons=U.buttons||("inline"!==U.display?["cancel","set"]:[]),U.headerText=void 0===U.headerText?"inline"!==U.display&&"{value}":U.headerText,$=U.buttons||[],P="inline"!==U.display,L="body"!=U.context,g=Be(U.context),w=L?g:Be("body,html"),E=g[0],se._$window=D=Be(L?U.context:window),se.live=!0,n=0;n<$.length;n++)s=$[n],"ok"!=s&&"set"!=s&&"set"!=s.handler||(se.live=!1);se.buttons.set={text:U.setText,icon:U.setIcon,handler:"set"},se.buttons.cancel={text:U.cancelText,icon:U.cancelIcon,handler:"cancel"},se.buttons.close={text:U.closeText,icon:U.closeIcon,handler:"cancel"},se.buttons.clear={text:U.clearText,icon:U.clearIcon,handler:"clear"},se._isInput=ne.is("input")},se._init=function(e){var t=se._isVisible,s=t&&!C.hasClass("mbsc-fr-pos");t&&se.hide(!0,!1,!0),ne.off(".mbsc"),se.__init(e),se._isLiquid="liquid"==U.layout,P?(se._readValue(),se._hasContent||U.skipShow||se.attachShow(ne),t&&se.show(s)):se.show(),ne.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){se._preventChange||se.setVal(ne.val(),!0,!1),se._preventChange=!1})},se.buttons={},se.handlers={set:se.select,cancel:se.cancel,clear:se.clear},se._value=null,se._isValid=!0,se._isVisible=!1,U=se.settings,Q=se.trigger,s||se.init()};wt.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:ht||pt,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!bt},Je.Frame=wt,mt.frame.mobiscroll={headerText:!1,btnWidth:!1},mt.scroller.mobiscroll=Ke({},mt.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),He&&Be(window).on("focus",function(){rt&&(lt=!0)});/* eslint-disable no-unused-vars */
var Ct="ios"==Ve,Tt=function(e,t,s){function n(e){ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),pe.prevDef&&e.preventDefault(),pe.readonly||pe.lock&&F||$(e,this)&&!W&&(g&&g.removeClass("mbsc-active"),P=!1,F||(g=Be(e.target).closest(".mbsc-btn-e",this),g.length&&!g.hasClass("mbsc-disabled")&&(P=!0,w=setTimeout(function(){g.addClass("mbsc-active")},100))),W=!0,G=!1,R=!1,me.scrolled=F,ne=x(e,"X"),ae=x(e,"Y"),O=ne,T=0,k=0,M=0,se=new Date,te=+A(oe,de)||0,F&&v(te,Ct?0:1),"mousedown"===e.type&&Be(document).on("mousemove",a).on("mouseup",o))}function a(e){W&&(pe.stopProp&&e.stopPropagation(),O=x(e,"X"),V=x(e,"Y"),T=O-ne,k=V-ae,M=de?k:T,P&&(Math.abs(k)>pe.thresholdY||Math.abs(T)>pe.thresholdX)&&(clearTimeout(w),g.removeClass("mbsc-active"),P=!1),(me.scrolled||!R&&Math.abs(M)>le)&&(G||ce("onGestureStart",L),me.scrolled=G=!0,j||(j=!0,q=Re(i))),de||pe.scrollLock?e.preventDefault():me.scrolled?e.preventDefault():Math.abs(k)>7&&(R=!0,me.scrolled=!0,o()))}function i(){H&&(M=f(M,-Q*H,Q*H)),v(f(te+M,Y-E,N+E)),j=!1}function o(e){if(W){var t,s=new Date-se;pe.stopProp&&e&&e.stopPropagation(),qe(q),j=!1,!R&&me.scrolled&&(pe.momentum&&s<300&&(t=M/s,M=Math.max(Math.abs(M),t*t/pe.speedUnit)*(M<0?-1:1)),b(M)),P&&(clearTimeout(w),g.addClass("mbsc-active"),setTimeout(function(){g.removeClass("mbsc-active")},100),R||me.scrolled||ce("onBtnTap",{target:g[0],domEvent:e})),e&&"mouseup"==e.type&&Be(document).off("mousemove",a).off("mouseup",o),W=!1}}function r(e){if(e=e.originalEvent||e,M=de?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),M){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(M*=15),M=f(-M,-Z,Z),te=ue,pe.readonly)return;if(G||p(),te+M<Y&&(te=Y,M=0),te+M>N&&(te=N,M=0),j||(j=!0,q=Re(i)),!M&&G)return;G=!0,clearTimeout(J),J=setTimeout(function(){qe(q),j=!1,G=!1,b(M)},200)}}function l(e){ce("onStart",{domEvent:e}),pe.readonly||(e.stopPropagation(),te=ue,G=!1,e.target==X?(ae=x(e,"Y",!0),Be(document).on("mousemove",c).on("mouseup",d)):(ae=y.offset().top,c(e),d()))}function c(e){var t=(x(e,"Y",!0)-ae)/C;I?(M=-(H*Q*2+C)*t,M=f(M,-Q*H,Q*H)):M=(Y-N-C)*t,G||p(),G=!0,v(f(te+M,Y-E,N+E))}function d(){te=ue,b(0),Be(document).off("mousemove",c).off("mouseup",d)}function h(e){e.stopPropagation()}function p(){L={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:M>0?de?270:360:de?90:180},ce("onGestureStart",L)}function b(e){var t,s,n;if(H&&(e=f(e,-Q*H,Q*H)),n=f(Math.round((te+e)/Q)*Q,Y,N),ee){if(e<0){for(t=ee.length-1;t>=0;t--)if(Math.abs(n)+C>=ee[t].breakpoint){fe=t,he=2,n=ee[t].snap2;break}}else if(e>=0)for(t=0;t<ee.length;t++)if(Math.abs(n)<=ee[t].breakpoint){fe=t,he=1,n=ee[t].snap1;break}n=f(n,Y,N)}s=pe.time||(ue<Y||ue>N?1e3:Math.max(1e3,Math.abs(n-ue)*pe.timeUnit)),L.destinationX=de?0:n,L.destinationY=de?n:0,L.duration=s,L.transitionTiming=S,ce("onGestureEnd",L),me.scroll(n,s)}function v(e,t,s,n){var a,i=e!=ue,o=t>1,r=t?st+"transform "+Math.round(t)+"ms "+S:"",l=function(){clearInterval(K),clearTimeout(re),F=!1,ue=e,L.posX=de?0:e,L.posY=de?e:0,i&&ce("onMove",L),o&&ce("onAnimationEnd",L),n&&n()};L={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:e-ue>0?de?270:360:de?90:180},ue=e,o&&(L.destinationX=de?0:e,L.destinationY=de?e:0,L.duration=t,L.transitionTiming=S,ce("onAnimationStart",L)),ie[it+"Transition"]=r,ie[it+"Transform"]="translate3d("+(de?"0,"+e+"px,":e+"px,0,")+"0)",X&&z&&(a=I?(B-e)/(H*Q*2):(e-N)/(Y-N),X.style[it+"Transition"]=r,X.style[it+"Transform"]="translate3d(0,"+Math.max(0,Math.min((C-z)*a,C-z))+"px,0)"),!i&&!F||!t||t<=1?l():t&&(F=!s,clearInterval(K),K=setInterval(function(){var t=+A(oe,de)||0;L.posX=de?0:t,L.posY=de?t:0,ce("onMove",L),Math.abs(t-e)<2&&l()},100),clearTimeout(re),re=setTimeout(function(){l()},t)),pe.sync&&pe.sync(e,t,S)}var g,y,_,w,C,T,k,M,D,S,E,O,V,L,P,I,N,H,Y,W,F,R,q,j,X,z,B,U,G,J,Z,K,Q,ee,te,se,ne,ae,ie,oe,re,le,ce,de,ue,me=this,fe=0,he=1,pe=t,be=Be(e);Qe.call(this,e,t,!0),me.scrolled=!1,me.scroll=function(t,s,n,a){t=u(t)?Math.round(t/Q)*Q:Math.ceil((Be(t,e).length?Math.round(oe.offset()[D]-Be(t,e).offset()[D]):ue)/Q)*Q,t=f(t,Y,N),fe=Math.round(t/Q),te=ue,B=H*Q+t,v(t,s,n,a)},me.refresh=function(e){var t;for(C=void 0===pe.contSize?de?be.height():be.width():pe.contSize,N=void 0===pe.maxScroll?0:pe.maxScroll,Y=Math.min(N,void 0===pe.minScroll?Math.min(0,de?C-oe.height():C-oe.width()):pe.minScroll),ee=null,!de&&pe.rtl&&(t=N,N=-Y,Y=-t),m(pe.snap)&&(ee=[],oe.find(pe.snap).each(function(){var e=de?this.offsetTop:this.offsetLeft,t=de?this.offsetHeight:this.offsetWidth;ee.push({breakpoint:e+t/2,snap1:-e,snap2:C-e-t})})),Q=u(pe.snap)?pe.snap:1,H=pe.snap?pe.maxSnapScroll:0,S=pe.easing,E=pe.elastic?u(pe.snap)?Q:u(pe.elastic)?pe.elastic:0:0,Z=Q;Z>44;)Z/=2;Z=Math.round(44/Z)*Z,X&&(I=Y==-(1/0)||N==1/0,z=Y<N?Math.max(20,C*C/(N-Y+C)):0,X.style.height=z+"px",U.style.height=z?"":0),void 0===ue&&(ue=pe.initialPos,fe=Math.round(ue/Q)),e||me.scroll(pe.snap?ee?ee[fe]["snap"+he]:fe*Q:ue)},me._processSettings=function(){de="Y"==pe.axis,D=de?"top":"left",oe=pe.moveElement||be.children().eq(0),ie=oe[0].style,le=de?pe.thresholdY:pe.thresholdX,pe.scrollbar&&(_=pe.scrollbar,y=_.find(".mbsc-sc-bar"),X=y[0],U=_[0])},me._init=function(){me.refresh(),be.on("touchstart mousedown",n).on("touchmove",a).on("touchend touchcancel",o),pe.mousewheel&&be.on("wheel mousewheel",r),X&&_.on("mousedown",l).on("click",h),e.addEventListener&&e.addEventListener("click",function(e){me.scrolled&&(me.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},me._destroy=function(){clearInterval(K),be.off("touchstart mousedown",n).off("touchmove",a).off("touchend touchcancel",o).off("wheel mousewheel",r),X&&_.off("mousedown",l).off("click",h)},pe=me.settings,ce=me.trigger,s||me.init()};Tt.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var kt={},Mt=He?window.CSS:null,Dt=Mt&&Mt.supports&&Mt.supports("(transform-style: preserve-3d)"),St=function(e,t,s){function n(e){var t,s,n=+Be(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,i(n,Be(e.target))),t&&(e.stopPropagation(),e.preventDefault(),s&&E.start(n,s,e))}function a(){E.stop()}function i(e,t){var s=R[e],n=+t.attr("data-index"),a=p(s,n),i=z._tempSelected[e],o=u(s.multiple)?s.multiple:1/0;W("onItemTap",{target:t[0],index:e,value:a,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[a]&&(void 0!==i[a]?(t.removeClass($).removeAttr("aria-selected"),delete i[a]):(1==o&&(z._tempSelected[e]=i={},s._$markup.find(".mbsc-sc-itm-sel").removeClass($).removeAttr("aria-selected")),c(i).length<o&&(t.addClass($).attr("aria-selected","true"),i[a]=a))),C(s,e,n,X,s._index<n?1:2,!0,s.multiple),z.live&&(!s.multiple||1===s.multiple&&Y.tapSelect)&&(Y.setOnTap===!0||Y.setOnTap[e])&&setTimeout(function(){z.select()},Y.tapSelect?0:200))}function o(e,t){var s=R[e];return s&&(!s.multiple||1!==s.multiple&&t&&(Y.setOnTap===!0||Y.setOnTap[e]))}function r(e){return-(e.max-e._offset-(e.multiple&&!S?Math.floor(Y.rows/2):0))*P}function l(e){return-(e.min-e._offset+(e.multiple&&!S?Math.floor(Y.rows/2):0))*P}function d(e,t){return(e._array?e._map[t]:+e.getIndex(t,z))||0}function m(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Be(s).get(t%e._length):s[t]:Be.isFunction(s)?s(t,z):""}function f(e){return Be.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=Be.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return f(m(e,t))}function b(e,t,s){var n=R[e];C(n,e,n._index+t,Y.delay+100,1==t?1:2,!1,!1,"keydown"==s.type)}function v(e){return Be.isArray(Y.readonly)?Y.readonly[e]:Y.readonly}function g(e,t,s){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Be.isArray(e.data),e._array&&(e._length=e.data.length,Be.each(e.data,function(t,s){e._map[f(s)]=t})),e.circular=void 0===Y.circular?void 0===e.circular?e._array&&e._length>Y.rows:e.circular:Be.isArray(Y.circular)?Y.circular[t]:Y.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=d(e,V[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-j,e._last=e._index+j,e._offset=e._first,s?(e._offset-=e._margin/P+(e._index-n),e._margin+=(e._index-n)*P):e._margin=0,e._refresh=function(t){Ke(e._scroller.settings,{minScroll:r(e),maxScroll:l(e)}),e._scroller.refresh(t)},q[e.key]=e,e}function y(e,t,s,n,a){var i,o,r,l,c,d,u,p,b="",v=z._tempSelected[t],g=e._disabled||{};for(i=s;i<=n;i++)r=m(e,i),c=h(r),l=f(r),o=r&&void 0!==r.cssClass?r.cssClass:"",d=r&&void 0!==r.label?r.label:"",u=r&&r.invalid,p=void 0!==l&&l==V[t]&&!e.multiple,b+='<div role="option" tabindex="-1" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(a?"mbsc-sc-itm-3d ":"")+o+" "+(p?"mbsc-sc-itm-sel ":"")+(v[l]?$:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+L(l)+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+P+"px;line-height:"+P+"px;"+(a?st+"transform:rotateX("+(e._offset-i)*D%360+"deg) translateZ("+P*Y.rows/2+"px);":"")+'">'+(F>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(P/F)+"px;font-size:"+Math.round(P/F*.8)+'px;">':"")+c+(F>1?"</div>":"")+"</div>";return b}function _(e,t,s){var n=Math.round(-s/P)+e._offset,a=n-e._current,i=e._first,o=e._last,r=i+j-M+1,l=o-j+M;a&&(e._first+=a,e._last+=a,e._current=n,a>0?(e._$scroller.append(y(e,t,Math.max(o+1,i+a),o+a)),Be(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(a,o-i+1)).remove(),S&&(e._$3d.append(y(e,t,Math.max(l+1,r+a),l+a,!0)),Be(".mbsc-sc-itm",e._$3d).slice(0,Math.min(a,l-r+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(e._$scroller.prepend(y(e,t,i+a,Math.min(i-1,o+a))),Be(".mbsc-sc-itm",e._$scroller).slice(Math.max(a,i-o-1)).remove(),S&&(e._$3d.prepend(y(e,t,r+a,Math.min(r-1,l+a),!0)),Be(".mbsc-sc-itm",e._$3d).slice(Math.max(a,r-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=a*P,e._$scroller.css("margin-top",e._margin+"px"))}function x(e,t,s,n){var a,i=R[e],o=n||i._disabled,r=d(i,t),l=p(i,r),c=l,u=l,m=0,f=0;if(o[l]===!0){for(a=0;r-m>=i.min&&o[c]&&a<100;)a++,m++,c=p(i,r-m);for(a=0;r+f<i.max&&o[u]&&a<100;)a++,f++,u=p(i,r+f);l=(f<m&&f&&2!==s||!m||r-m<0||1==s)&&!o[u]?u:c}return l}function w(t,s,n,a,i,r,l){var c,u,m,f,h=z._isVisible;H=!0,f=Y.validate.call(e,{values:V.slice(0),index:s,direction:n},z)||{},H=!1,f.valid&&(z._tempWheelArray=V=f.valid.slice(0)),r||Be.each(R,function(e,a){if(h&&a._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),a._disabled={},f.disabled&&f.disabled[e]&&Be.each(f.disabled[e],function(e,t){a._disabled[t]=!0,h&&a._$markup.find('.mbsc-sc-itm[data-val="'+L(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),V[e]=a.multiple?V[e]:x(e,V[e],n),h){if(a.multiple&&void 0!==s||a._$markup.find(".mbsc-sc-itm-sel").removeClass($).removeAttr("aria-selected"),u=d(a,V[e]),c=u-a._index+a._batch,Math.abs(c)>2*j+1&&(m=c+(2*j+1)*(c>0?-1:1),a._offset+=m,a._margin-=m*P,a._refresh()),a._index=u+a._batch,a.multiple){if(void 0===s)for(var o in z._tempSelected[e])a._$markup.find('.mbsc-sc-itm[data-val="'+L(o)+'"]').addClass($).attr("aria-selected","true")}else a._$markup.find('.mbsc-sc-itm[data-val="'+L(V[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");a._$active&&a._$active.attr("tabindex",-1),a._$active=a._$markup.find('.mbsc-sc-itm[data-index="'+a._index+'"]').eq(S&&a.multiple?1:0).attr("tabindex",0),l&&s===e&&a._$active.length&&(a._$active[0].focus(),a._$scroller.parent().scrollTop(0)),a._scroller.scroll(-(u-a._offset+a._batch)*P,s===e||void 0===s?t:X,i)}}),W("onValidated",{index:s,time:t}),z._tempValue=Y.formatValue.call(e,V,z),h&&z._updateHeader(),z.live&&o(s,r)&&(z._hasValue=a||z._hasValue,T(a,a,0,!0),a&&W("onSet",{valueText:z._value})),a&&W("onChange",{index:s,valueText:z._tempValue})}function C(e,t,s,n,a,i,o,r){var l=p(e,s);void 0!==l&&(V[t]=l,e._batch=e._array?Math.floor(s/e._length)*e._length:0,e._index=s,setTimeout(function(){w(n,t,a,!0,i,o,r)},10))}function T(t,s,n,a,i){if(a?z._tempValue=Y.formatValue.call(e,z._tempWheelArray,z):w(n),!i){z._wheelArray=[];for(var o=0;o<V.length;o++)z._wheelArray[o]=R[o]&&R[o].multiple?Object.keys(z._tempSelected[o]||{})[0]:V[o];z._value=z._hasValue?z._tempValue:null,z._selected=Ke(!0,{},z._tempSelected)}t&&(z._isInput&&B.val(z._hasValue?z._tempValue:""),W("onFill",{valueText:z._hasValue?z._tempValue:"",change:s}),s&&(z._preventChange=!0,B.trigger("change")))}var k,M,D,S,$,A,E,V,P,I,N,H,Y,W,F,R,q,j=40,X=1e3,z=this,B=Be(e);wt.call(this,e,t,!0),z.setVal=z._setVal=function(t,s,n,a,i){z._hasValue=null!==t&&void 0!==t,z._tempWheelArray=V=Be.isArray(t)?t.slice(0):Y.parseValue.call(e,t,z)||[],T(s,void 0===n?s:n,i,!1,a)},z.getVal=z._getVal=function(e){var t=z._hasValue||e?z[e?"_tempValue":"_value"]:null;return u(t)?+t:t},z.setArrayVal=z.setVal,z.getArrayVal=function(e){return e?z._tempWheelArray:z._wheelArray},z.changeWheel=function(e,t,s){var n,a;Be.each(e,function(e,t){a=q[e],a&&(n=a._nr,Ke(a,t),g(a,n,!0),z._isVisible&&(S&&a._$3d.html(y(a,n,a._first+j-M+1,a._last-j+M,!0)),a._$scroller.html(y(a,n,a._first,a._last)).css("margin-top",a._margin+"px"),a._refresh(H)))}),!z._isVisible||z._isLiquid||H||z.position(),H||w(t,void 0,void 0,s)},z.getValidValue=x,z._generateContent=function(){var e,t=0,s="",n=S?st+"transform: translateZ("+(P*Y.rows/2+3)+"px);":"",a='<div class="mbsc-sc-whl-l" style="'+n+"height:"+P+"px;margin-top:-"+(P/2+(Y.selectedLineBorder||0))+'px;"></div>',i=0;return Be.each(Y.wheels,function(o,r){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(S?" mbsc-sc-whl-gr-3d-c":"")+(Y.showLabel?" mbsc-sc-lbl-v":"")+'">'+a+'<div class="mbsc-sc-whl-gr'+(S?" mbsc-sc-whl-gr-3d":"")+(A?" mbsc-sc-cp":"")+(Y.width||Y.maxWidth?'"':'" style="max-width:'+Y.maxPopupWidth+'px;"')+">",Be.each(r,function(o,r){z._tempSelected[i]=Ke({},z._selected[i]),R[i]=g(r,i),t+=Y.maxWidth?Y.maxWidth[i]||Y.maxWidth:Y.width?Y.width[i]||Y.width:0,e=void 0!==r.label?r.label:o,s+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(Y.width?"width:"+(Y.width[i]||Y.width)+"px;":(Y.minWidth?"min-width:"+(Y.minWidth[i]||Y.minWidth)+"px;":"")+(Y.maxWidth?"max-width:"+(Y.maxWidth[i]||Y.maxWidth)+"px;":""))+'">'+(N?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+n+'"></div>'+a+'<div aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+Y.rows*P*(S?1.1:1)+'px;">'+(A?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(Y.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(Y.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+I+"px;margin-top:-"+(I/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(I-P)/2+'px;">',s+=y(r,i,r._first,r._last)+"</div></div>",S&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+P+"px;margin-top:-"+P/2+'px;">',s+=y(r,i,r._first+j-M+1,r._last-j+M,!0),s+="</div>"),s+="</div></div>",i++}),s+="</div></div>"}),t&&(Y.maxPopupWidth=t),s},z._attachEvents=function(e){E=O(Be(".mbsc-sc-btn",e),b,Y.delay,v,!0),Be(".mbsc-sc-whl",e).on("keydown",n).on("keyup",a)},z._detachEvents=function(){E.stop();for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},z._markupReady=function(e){k=e,Be(".mbsc-sc-whl-w",k).each(function(e){var t,s=Be(this),n=R[e];n._$markup=s,n._$scroller=Be(".mbsc-sc-whl-sc",this),n._$3d=Be(".mbsc-sc-whl-3d",this),n._scroller=new Tt(this,{mousewheel:Y.mousewheel,moveElement:n._$scroller,scrollbar:Be(".mbsc-sc-bar-c",this),initialPos:(n._first-n._index)*P,contSize:Y.rows*P,snap:P,minScroll:r(n),maxScroll:l(n),maxSnapScroll:j,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){var a=t?st+"transform "+Math.round(t)+"ms "+s:"";S&&(n._$3d[0].style[it+"Transition"]=a,n._$3d[0].style[it+"Transform"]="rotateX("+-e/P*D+"deg)")},onStart:function(t,s){s.settings.readonly=v(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var a=90==s.direction?1:2,i=s.duration,o=s.destinationY;t=Math.round(-o/P)+n._offset,C(n,e,t,i,a)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(n,e,t.posY)},onBtnTap:function(t){i(e,Be(t.target))}})}),w()},z._fillValue=function(){z._hasValue=!0,T(!0,!0,0,!0)},z._clearValue=function(){Be(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass($).removeAttr("aria-selected")},z._readValue=function(){var t=B.val()||"",s=0;""!==t&&(z._hasValue=!0),z._tempWheelArray=V=z._hasValue&&z._wheelArray?z._wheelArray.slice(0):Y.parseValue.call(e,t,z)||[],z._tempSelected=Ke(!0,{},z._selected),Be.each(Y.wheels,function(e,t){Be.each(t,function(e,t){R[s]=g(t,s),s++})}),T(!1,!1,0,!0),W("onRead")},z.__processSettings=function(e){Y=z.settings,W=z.trigger,F=Y.multiline,$="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+Y.checkIcon,N=!Y.touchUi,N&&(Y.tapSelect=!0,Y.circular=!1,Y.rows=e.rows||t.rows||7)},z.__init=function(e){e&&(z._wheelArray=null),R=[],q={},A=Y.showScrollArrows,S=Y.scroll3d&&Dt&&!A&&!N&&("ios"==Y.theme||"ios"==Y.baseTheme),P=Y.height,I=S?2*Math.round((P-.03*(P*Y.rows/2+3))/2):P,M=Math.round(1.8*Y.rows),D=360/(2*M),A&&(Y.rows=Math.max(3,Y.rows))},z._getItemValue=f,z._tempSelected={},z._selected={},s||z.init()};St.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:kt,_defaults:Ke({},wt.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,n,a=[],i=[],o=0;return null!==e&&void 0!==e&&(a=(e+"").split(" ")),Be.each(t.settings.wheels,function(e,r){Be.each(r,function(e,r){n=r.data,s=t._getItemValue(n[0]),Be.each(n,function(e,n){if(a[o]==t._getItemValue(n))return s=t._getItemValue(n),!1}),i.push(s),o++})}),i}})},Je.Scroller=St;var $t=0;ye.getJson=N;var At={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};kt.select=function(e,t){function s(e){var t,s,n,a,i,o,r=0,l=0,c={};if(B={},$={},V=[],D=[],le.length=0,se)Be.each(C,function(r,d){i=d[j.dataText]+"",s=d[j.dataHtml],o=d[j.dataValue],n=d[j.dataGroup],a={value:o,html:s,text:i,index:r,cssClass:oe?"mbsc-sel-gr-itm":""},B[o]=a,e&&!v(i,e)||(V.push(a),ne&&(void 0===c[n]?(t={text:n,value:l,options:[],index:l},$[l]=t,c[n]=l,D.push(t),l++):t=$[c[n]],ie&&(a.index=t.options.length),a.group=c[n],t.options.push(a)),d[j.dataDisabled]&&le.push(o))});else if(ne){var d=!0;Be("optgroup",R).each(function(t){$[t]={text:this.label,value:t,options:[],index:t},d=!0,Be("option",this).each(function(s){a={value:this.value,text:this.text,index:ie?s:r++,group:t,cssClass:oe?"mbsc-sel-gr-itm":""},B[this.value]=a,e&&!v(this.text,e)||(d&&(D.push($[t]),d=!1),V.push(a),$[t].options.push(a),this.disabled&&le.push(this.value))})})}else Be("option",R).each(function(t){a={value:this.value,text:this.text,index:t},B[this.value]=a,e&&!v(this.text,e)||(V.push(a),this.disabled&&le.push(this.value))});H=j.defaultValue?j.defaultValue:V.length?V[0].value:"",oe&&(V=[],r=0,Be.each($,function(e,t){t.options.length&&(o="__group"+e,a={text:t.text,value:o,group:e,index:r++,cssClass:"mbsc-sel-gr"},B[o]=a,V.push(a),le.push(a.value),Be.each(t.options,function(e,t){t.index=r++,V.push(t)}))})),X&&(V.length?X.removeClass("mbsc-sel-empty-v"):X.addClass("mbsc-sel-empty-v"))}function n(e,t,s,n,a){var i,o=[];for(i=0;i<e.length;i++)o.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!n?1:n,cssClass:(t&&!n?"mbsc-sel-one":"")+" "+a,data:o,label:s}}function a(){return n(D,Z,j.groupLabel,!1,"mbsc-sel-gr-whl")}function i(){return n(ie&&$[M]?$[M].options:V,Z,ee,J,"")}function o(){var e=[[]];return ae&&(S=a(),G?e[0][A]=S:e[A]=[S]),L=i(),G?e[0][P]=L:e[P]=[L],e}function r(e){J&&(e&&m(e)&&(e=e.split(",")),Be.isArray(e)&&(e=e[0])),O=void 0===e||null===e||""===e?H:e,!B[O]&&V&&V.length&&(O=V[0].value),ae&&(M=B[O]?B[O].group:null)}function f(e){return Y[e]||(B[e]?B[e].text:"")}function h(e,t,s){var n,a,i=[],o=s?t._selected:t._tempSelected;if(Z){for(n in o[P])i.push(f(n));return i.join(", ")}return a=e[P],f(a)}function p(){var t,s="",n=e.getVal(),a=j.formatValue.call(F,e.getArrayVal(),e,!0);if(j.filter&&"inline"==j.display||w.val(a),R.is("select")&&se){if(J)for(t=0;t<n.length;t++)s+='<option value="'+n[t]+'">'+f(n[t])+"</option>";else s='<option value="'+(null===n?"":n)+'">'+a+"</option>";R.html(s)}F!==w[0]&&R.val(n)}function b(){var t={};t[P]=i(),I=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return j.data.dataField?e[j.data.dataField]:j.data.processResponse?j.data.processResponse(e):e}function y(t){var n={};s(t),r(O),j.wheels=o(),n[P]=L,e._tempWheelArray[P]=O,ae&&(n[A]=S,e._tempWheelArray[A]=M),e.changeWheel(n,0,!0),p()}function _(t){return e.trigger("onFilter",{filterText:t})}function x(t){t[A]!=M&&(M=t[A],O=$[M].options[0].value,t[P]=O,ie?b():e.setArrayVal(t,!1,!1,!0,W))}var w,C,T,k,M,D,S,$,A,E,O,V,L,P,I,H="",Y={},W=1e3,F=this,R=Be(F),q=Ke({},e.settings),j=Ke(e.settings,At,q),X=Be('<div class="mbsc-sel-empty">'+j.filterEmptyText+"</div>"),z=j.readonly,B={},U=j.layout||(/top|bottom|inline/.test(j.display)||j.filter?"liquid":""),G="liquid"==U||!j.touchUi,J=u(j.select)?j.select:"multiple"==j.select||R.prop("multiple"),Z=J||!(!j.filter&&!j.tapSelect)&&1,K=this.id+"_dummy",Q=Be('label[for="'+this.id+'"]').attr("for",K),ee=void 0!==j.label?j.label:Q.length?Q.text():R.attr("name"),te=j.group,se=!!j.data,ne=se?!!j.group:Be("optgroup",R).length,ae=ne&&te&&te.groupWheel!==!1,ie=ne&&te&&ae&&te.clustered===!0,oe=ne&&(!te||te.header!==!1&&!ie),re=R.val()||(J?[]:[""]),le=[];return e.setVal=function(t,s,n,a,i){if(Z&&(null===t||void 0===t||J||(t=[t]),t&&m(t)&&(t=t.split(",")),e._tempSelected[P]=d(t),a||(e._selected[P]=d(t)),t=t?t[0]:null,ae)){var o=B[t],r=o&&o.group;e._tempSelected[A]=d([r]),a||(e._selected[A]=d([r]))}e._setVal(t,s,n,a,i)},e.getVal=function(t,s){var n;return Z?(n=c(t?e._tempSelected[P]:e._selected[P]),n=J?n:n.length?n[0]:null):(n=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,n=n?n[P]:null),J?n:void 0!==n?ne&&s?[B[n]?B[n].group:null,n]:n:null},e.refresh=function(e,t,s){s=s||l,e?(C=e,E||(j.data=e)):Be.isArray(j.data)&&(C=j.data),!e&&E&&void 0===t?N(j.data.url,function(e){C=g(e),y(),s()},j.data.dataType):(y(t),s())},t.invalid||(j.invalid=le),ae?(A=0,P=1):(A=-1,P=0),Z&&(J&&R.prop("multiple",!0),re&&m(re)&&(re=re.split(",")),e._selected[P]=d(re)),e._$input&&e._$input.remove(),R.next().is("input.mbsc-control")?w=R.next().removeAttr("tabindex"):j.input?w=Be(j.input):(j.filter&&"inline"==j.display?e._$input=Be('<div class="mbsc-sel-input-wrap"><input type="text" id="'+K+'" class="mbsc-control '+j.inputClass+'" readonly /></div>'):(w=Be('<input type="text" id="'+K+'" class="mbsc-control '+j.inputClass+'" readonly />'),e._$input=w),j.showInput&&(e._$input.insertAfter(R),w||(w=e._$input.find("#"+K)))),e.attachShow(w.attr("placeholder",j.placeholder||"")),w[0]!==F&&R.addClass("mbsc-sel-hdn").attr("tabindex",-1),!Z||j.rows%2||(j.rows=j.rows-1),j.filter&&(T=j.filter.minLength||0),E=j.data&&j.data.url,E?e.refresh():(se&&(C=j.data),s(),r(R.val())),{layout:U,headerText:!1,anchor:w,compClass:"mbsc-sc mbsc-sel"+(Z?" mbsc-sel-multi":""),setOnTap:!ae||[!1,!0],formatValue:h,tapSelect:Z,parseValue:function(e){return r(void 0===e?R.val():e),ae?[M,O]:[O]},validate:function(e){var t=e.index,s=[];return s[P]=j.invalid,ie&&!I&&void 0===t&&b(),I=!1,{disabled:s}},onRead:p,onFill:p,onMarkupReady:function(e,t){if(j.filter){var s,n,a,i=Be(".mbsc-fr-w",e.target),o=Be('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+j.filterClearIcon+'"></span>');"inline"==j.display?(s=w,w.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),s=i.find(".mbsc-sel-filter-input")),k=null,a=s[0],s.prop("readonly",!1).attr("placeholder",j.filterPlaceholderText).parent().append(o),i.find(".mbsc-fr-c").prepend(X),t._activeElm=a,t.tap(o,function(){k=null,a.value="",t.refresh(),o.removeClass("mbsc-sel-filter-show-clear"),_("")}),s.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),a.blur())}).on("keyup",function(){clearTimeout(n),a.value.length?o.addClass("mbsc-sel-filter-show-clear"):o.removeClass("mbsc-sel-filter-show-clear"),n=setTimeout(function(){k!==a.value&&_(a.value)!==!1&&(k=a.value,(k.length>=T||!k.length)&&(E&&j.data.remoteFilter?N(j.data.url+encodeURIComponent(k),function(e){t.refresh(g(e))},j.data.dataType):t.refresh(void 0,k)))},500)})}},onBeforeShow:function(){J&&j.counter&&(j.headerText=function(){var t=0;return Be.each(e._tempSelected[P],function(){t++}),(t>1?j.selectedPluralText||j.selectedText:j.selectedText).replace(/{count}/,t)}),r(R.val()),Z&&ae&&(e._selected[A]=d([M])),j.filter&&s(void 0),e.settings.wheels=o(),I=!0},onWheelGestureStart:function(e){e.index==A&&(j.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var s=e.getArrayVal(!0);t.index==A?(j.readonly=z,Z||x(s)):t.index==P&&s[P]!=O&&(O=s[P],ae&&B[O]&&B[O].group!=M&&(M=B[O].group,s[A]=M,e._tempSelected[A]=d([M]),e.setArrayVal(s,!1,!1,!0,W)))},onItemTap:function(t){var s;if(t.index==P&&(Y[t.value]=B[t.value].text,Z&&!J&&t.selected))return!1;if(t.index==A&&Z){if(t.selected)return!1;s=e.getArrayVal(!0),s[A]=t.value,x(s)}},onClose:function(){E&&j.data.remoteFilter&&k&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),R.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var Et=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"];e.module("mobiscroll-select",[]).directive("mobiscrollSelectOption",function(){return{link:function(e,t,s){var n=Be(t[0]).closest("select");e.$watch(s.ngValue,function(){e.$emit("mbscSelectRefresh",n)}),e.$on("$destroy",function(){e.$emit("mbscSelectRefresh",n)})}}}).directive("mobiscrollSelect",["$parse",function(e){var t=ge.ng.getDDO(e,"mobiscrollSelect",{preset:"select"});return t.link=void 0,t.compile=function(t){var s,n,a=Be(t[0]);return a.find("option").each(function(){for(n=0;n<Et.length;n++)if(Be(this).attr(Et[n]))return Be(this).attr("mobiscroll-select-option",""),s=!0,!1}),function(t,n,a,i){var o,r,l=Be(n[0]),c=ge.ng.getOpt(t,a,"mobiscrollSelect",i);if(l.hide(),Ke(c,{preset:"select"}),a.mobiscrollData&&(Ke(c,{data:t.$eval(a.mobiscrollData)||[]}),t.$watchCollection(a.mobiscrollData,function(){r&&r.refresh(t.$eval(a.mobiscrollData))})),ge.ng.addWatch(e,t,i,l,a,"mobiscrollSelect"),r=new St(n[0],c),a.mobiscrollInstance&&e(a.mobiscrollInstance).assign(t,r),s){var d=t.$on("mbscSelectRefresh",function(s,n){l[0]==n[0]&&(clearTimeout(o),o=setTimeout(function(){r.refresh(),ge.ng.render(l,i?i.$modelValue:e(a.mobiscrollSelect)(t))},10))});t.$on("$destroy",function(){d(),clearTimeout(o)})}}},t}]);var Ot=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Vt=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Lt=/^\d{1,2}(\/\d{1,2})?$/,Pt=/^w\d$/i,It={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:H,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};ye.datetime={formatDate:Y,parseDate:W};var Nt={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Ht=function(e){function t(e){var t,s,n,a,i=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.end&&!Vt.test(s.start))for(n=new Date(z(s.start,U,q)),a=new Date(z(s.end,U,q));n<=a;)i.push(H(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else i.push(s);return i}return e}function s(e,t,s,n){return Math.min(n,Math.floor(e/t)*t+s)}function n(e,t,s){return Math.floor((s-t)/e)*e+t}function a(e){return q.getYear(e)}function i(e){return q.getMonth(e)}function o(e){return q.getDay(e)}function r(e){var t=e.getHours();return t=ie&&t>=12?t-12:t,s(t,le,me,pe)}function l(e){return s(e.getMinutes(),ce,fe,be)}function c(e){return s(e.getSeconds(),de,he,ve)}function d(e){return e.getMilliseconds()}function u(e){return e.getHours()>11?1:0}function m(e){return e.getFullYear()+"-"+h(e.getMonth()+1)+"-"+h(e.getDate())}function f(e){return s(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),A,0,86400)}function p(e,t,s,n){var a;return void 0===V[t]||(a=+e[V[t]],isNaN(a))?s?Ce[t](s):void 0!==L[t]?L[t]:Ce[t](n):a}function b(e){var t,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==V.dd&&(t=e[V.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==V.tt&&(t=t||s,t=new Date(t.getTime()+e[V.tt]%86400*1e3));var n=p(e,"y",t,s),a=p(e,"m",t,s),i=Math.min(p(e,"d",t,s),q.getMaxDayOfMonth(n,a)),o=p(e,"h",t,s);return q.getDate(n,a,i,ie&&p(e,"a",t,s)?o+12:o,p(e,"i",t,s),p(e,"s",t,s),p(e,"u",t,s))}function v(e,t){var s,n,a=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(s=0;s<a.length;s++)n=a[s],void 0!==V[n]&&(i[V[n]]=Ce[n](e)),t&&(L[n]=Ce[n](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function y(e){return{value:e,display:(/yy/i.test(Z)?e:(e+"").substr(2,2))+(q.yearSuffix||"")}}function _(e){return e}function x(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:se?g(m(se),t):void 0,max:ne?g(m(ne),t):void 0,data:function(s){var n=new Date((new Date).setHours(0,0,0,0)),a=t?new Date(864e5*s):new Date(1970,s,1);return t&&(a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())),{invalid:t&&!M(a,!0),value:m(a),display:n.getTime()==a.getTime()?q.todayText:Y(e,a,q)}},getIndex:function(e){return g(e,t)}}}function w(e){var t,s,n,a=[];for(/s/i.test(e)?s=de:/i/i.test(e)?s=60*ce:/h/i.test(e)&&(s=3600*le),A=xe.tt=s,t=0;t<86400;t+=s)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),a.push({value:t,display:Y(e,n,q)});return{label:"",cssClass:"mbsc-dt-whl-time",data:a}}function C(){var e,t,s,n,a,i,o,r,l=0,c=[],d=[],u=[];if(/date/i.test(j)){for(e=G.split(/\|/.test(G)?"|":""),n=0;n<e.length;n++)if(s=e[n],i=0,s.length)if(/y/i.test(s)&&(P.y=1,i++),/m/i.test(s)&&(P.y=1,P.m=1,i++),/d/i.test(s)&&(P.y=1,P.m=1,P.d=1,i++),i>1&&void 0===V.dd)V.dd=l,l++,d.push(x(s)),u=d,E=!0;else if(/y/i.test(s)&&void 0===V.y)V.y=l,l++,d.push({cssClass:"mbsc-dt-whl-y",label:q.yearText,min:se?q.getYear(se):void 0,max:ne?q.getYear(ne):void 0,data:y,getIndex:_});else if(/m/i.test(s)&&void 0===V.m){for(V.m=l,o=[],l++,a=0;a<12;a++)r=Z.replace(/[dy|]/gi,"").replace(/mm/,h(a+1)+(q.monthSuffix||"")).replace(/m/,a+1+(q.monthSuffix||"")),o.push({value:a,display:/MM/.test(r)?r.replace(/MM/,'<span class="mbsc-dt-month">'+q.monthNames[a]+"</span>"):r.replace(/M/,'<span class="mbsc-dt-month">'+q.monthNamesShort[a]+"</span>")});d.push({cssClass:"mbsc-dt-whl-m",label:q.monthText,data:o})}else if(/d/i.test(s)&&void 0===V.d){for(V.d=l,o=[],l++,a=1;a<32;a++)o.push({value:a,display:(/dd/i.test(Z)?h(a):a)+(q.daySuffix||"")});d.push({cssClass:"mbsc-dt-whl-d",label:q.dayText,data:o})}c.push(d)}if(/time/i.test(j)){for(t=J.split(/\|/.test(J)?"|":""),n=0;n<t.length;n++)if(s=t[n],i=0,s.length&&(/h/i.test(s)&&(P.h=1,i++),/i/i.test(s)&&(P.i=1,i++),/s/i.test(s)&&(P.s=1,i++),/a/i.test(s)&&i++),i>1&&void 0===V.tt)V.tt=l,l++,u.push(w(s));else if(/h/i.test(s)&&void 0===V.h){for(o=[],V.h=l,P.h=1,l++,a=me;a<(ie?12:24);a+=le)o.push({value:a,display:ie&&0===a?12:/hh/i.test(K)?h(a):a});u.push({cssClass:"mbsc-dt-whl-h",label:q.hourText,data:o})}else if(/i/i.test(s)&&void 0===V.i){for(o=[],V.i=l,P.i=1,l++,a=fe;a<60;a+=ce)o.push({value:a,display:/ii/i.test(K)?h(a):a});u.push({cssClass:"mbsc-dt-whl-i",label:q.minuteText,data:o})}else if(/s/i.test(s)&&void 0===V.s){for(o=[],V.s=l,P.s=1,l++,a=he;a<60;a+=de)o.push({value:a,display:/ss/i.test(K)?h(a):a});u.push({cssClass:"mbsc-dt-whl-s",label:q.secText,data:o})}else/a/i.test(s)&&void 0===V.a&&(V.a=l,l++,u.push({cssClass:"mbsc-dt-whl-a",label:q.ampmText,data:/A/.test(s)?[{value:0,display:q.amText.toUpperCase()},{value:1,display:q.pmText.toUpperCase()}]:[{value:0,display:q.amText},{value:1,display:q.pmText}]}));u!=d&&c.push(u)}return c}function T(e){var t,s,n,a={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",a.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}a.format=t,s=e.attr("min"),n=e.attr("max"),s&&"undefined"!=s&&(a.min=W(t,s)),n&&"undefined"!=n&&(a.max=W(t,n))}return a}function k(e,t){var s,n,a=!1,i=!1,o=0,r=0,l=se?b(v(se)):-(1/0),c=ne?b(v(ne)):1/0;if(M(e))return e;if(e<l&&(e=l),e>c&&(e=c),s=e,n=e,2!==t)for(a=M(s,!0);!a&&s<c;)s=new Date(s.getTime()+864e5),a=M(s,!0),o++;if(1!==t)for(i=M(n,!0);!i&&n>l;)n=new Date(n.getTime()-864e5),i=M(n,!0),r++;return 1===t&&a?s:2===t&&i?n:r<=o&&i?n:s}function M(e,t){return!(!t&&e<se)&&(!(!t&&e>ne)&&(!!D(e,te)||!D(e,ee)))}function D(e,t){var s,n,a;if(t)for(n=0;n<t.length;n++)if(s=t[n],a=s+"",!s.start)if(Pt.test(a)){if(a=+a.replace("w",""),a==e.getDay())return!0}else if(Lt.test(a)){if(a=a.split("/"),a[1]){if(a[0]-1==e.getMonth()&&a[1]==e.getDate())return!0}else if(a[0]==e.getDate())return!0}else if(s=z(s,U,q),e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0;return!1}function S(e,t,s,n,a,i,o){var r,l,c,d;if(e)for(l=0;l<e.length;l++)if(r=e[l],d=r+"",!r.start)if(Pt.test(d))for(d=+d.replace("w",""),c=d-n;c<a;c+=7)c>=0&&(i[c+1]=o);else Lt.test(d)?(d=d.split("/"),d[1]?d[0]-1==s&&(i[d[1]]=o):i[d[0]]=o):(r=z(r,U,q),q.getYear(r)==t&&q.getMonth(r)==s&&(i[q.getDay(r)]=o))}function $(e,t,n,a,i,o,r,l){var c,d,u,m,f,h,p,b,v,g,y,_,x,w,C,T,k,M,D,S,$={},E=q.getDate(a,i,o),O=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,k=u+"",M=k.split("/"),u&&(u.getTime&&a==q.getYear(u)&&i==q.getMonth(u)&&o==q.getDay(u)||!Pt.test(k)&&(M[1]&&o==M[1]&&i==M[0]-1||!M[1]&&o==M[0])||Pt.test(k)&&E.getDay()==+k.replace("w",""))&&(y.apply=!0,$[E]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=ge[n],v=ye[n],w=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!$[E])){for(_=y.start.split(":"),x=y.end.split(":"),g=0;g<3;g++)void 0===_[g]&&(_[g]=0),void 0===x[g]&&(x[g]=59),_[g]=+_[g],x[g]=+x[g];if("tt"==n)b=s(Math.round((new Date(E).setHours(_[0],_[1],_[2])-new Date(E).setHours(0,0,0,0))/1e3),A,0,86400),v=s(Math.round((new Date(E).setHours(x[0],x[1],x[2])-new Date(E).setHours(0,0,0,0))/1e3),A,0,86400);else{for(_.unshift(_[0]>11?1:0),x.unshift(x[0]>11?1:0),ie&&(_[1]>=12&&(_[1]=_[1]-12),x[1]>=12&&(x[1]=x[1]-12)),g=0;g<t;g++)void 0!==I[g]&&(D=s(_[g],xe[O[g]],ge[O[g]],ye[O[g]]),S=s(x[g],xe[O[g]],ge[O[g]],ye[O[g]]),m=0,f=0,h=0,ie&&1==g&&(m=_[0]?12:0,f=x[0]?12:0,h=I[0]?12:0),w||(D=0),C||(S=ye[O[g]]),(w||C)&&D+m<I[g]+h&&I[g]+h<S+f&&(d=!0),I[g]!=D&&(w=!1),I[g]!=S&&(C=!1));if(!l)for(g=t+1;g<4;g++)_[g]>0&&(c=xe[n]),x[g]<ye[O[g]]&&(T=xe[n]);d||(D=s(_[t],xe[n],ge[n],ye[n])+c,S=s(x[t],xe[n],ge[n],ye[n])-T,w&&(b=D),C&&(v=S))}if(w||C||d)for(g=b;g<=v;g+=xe[n])r[g]=!l}}}var A,E,O,V={},L={},P={},I=[],N=T(Be(this)),F=Ke({},e.settings),R=_e[F.calendarSystem],q=Ke(e.settings,It,R,Nt,N,F),j=q.preset,B="datetime"==j?q.dateFormat+q.separator+q.timeFormat:"time"==j?q.timeFormat:q.dateFormat,U=N.format||B,G=q.dateWheels||q.dateFormat,J=q.timeWheels||q.timeFormat,Z=q.dateWheels||q.dateDisplay,K=J,Q=q.baseTheme||q.theme,ee=t(q.invalid),te=t(q.valid),se=z(q.min,U,q),ne=z(q.max,U,q),ae=/time/i.test(j),ie=/h/.test(K),oe=/D/.test(Z),re=q.steps||{},le=re.hour||q.stepHour||1,ce=re.minute||q.stepMinute||1,de=re.second||q.stepSecond||1,ue=re.zeroBased,me=ue||!se?0:se.getHours()%le,fe=ue||!se?0:se.getMinutes()%ce,he=ue||!se?0:se.getSeconds()%de,pe=n(le,me,ie?11:23),be=n(ce,fe,59),ve=n(ce,fe,59),ge={y:se?se.getFullYear():-(1/0),m:0,d:1,h:me,i:fe,s:he,a:0,tt:0},ye={y:ne?ne.getFullYear():1/0,m:11,d:31,h:pe,i:be,s:ve,a:1,tt:86400},xe={y:1,m:1,d:1,h:le,i:ce,s:de,a:1,tt:1},we={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Ce={y:a,m:i,d:o,h:r,i:l,s:c,u:d,a:u,dd:m,tt:f};return e.getVal=function(t){return e._hasValue||t?X(b(e.getArrayVal(t)),q,U):null},e.getDate=function(t){
return e._hasValue||t?b(e.getArrayVal(t)):null},e.setDate=function(t,s,n,a,i){e.setArrayVal(v(t,!0),s,i,a,n)},O=C(),q.isoParts=P,e._format=B,e._order=V,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:q.nowText,icon:q.nowIcon,handler:"now"},{minWidth:E&&ae?we[Q]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:O,headerText:!!q.headerText&&function(){return Y(B,b(e.getArrayVal(!0)),q)},formatValue:function(e){return Y(U,b(e),q)},parseValue:function(e){return e||(L={}),v(z(e||q.defaultValue||new Date,U,q,P),!!e)},validate:function(t){var s,n,a,i,o=t.values,r=t.index,l=t.direction,c=q.wheels[0][V.d],d=k(b(o),l),u=v(d),m=[],f={},h=Ce.y(d),p=Ce.m(d),g=q.getMaxDayOfMonth(h,p),y=!0,_=!0;if(Be.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==V[t]){var s=ge[t],a=ye[t],i=Ce[t](d);if(m[V[t]]=[],y&&se&&(s=Ce[t](se)),_&&ne&&(a=Ce[t](ne)),"y"!=t&&"dd"!=t)for(n=ge[t];n<=ye[t];n+=xe[t])(n<s||n>a)&&m[V[t]].push(n);if(i<s&&(i=s),i>a&&(i=a),y&&(y=i==s),_&&(_=i==a),"d"==t){var o=q.getDate(h,p,1).getDay(),r={};S(ee,h,p,o,g,r,1),S(te,h,p,o,g,r,0),Be.each(r,function(e,s){s&&m[V[t]].push(e)})}}}),ae&&Be.each(["a","h","i","s","tt"],function(t,s){var n=Ce[s](d),a=Ce.d(d),i={};void 0!==V[s]&&($(ee,t,s,h,p,a,i,0),$(te,t,s,h,p,a,i,1),Be.each(i,function(e,t){t&&m[V[s]].push(e)}),I[t]=e.getValidValue(V[s],n,l,i))}),c&&(c._length!==g||oe&&(void 0===r||r===V.y||r===V.m))){for(f[V.d]=c,c.data=[],s=1;s<=g;s++)i=q.getDate(h,p,s).getDay(),a=Z.replace(/[my|]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(q.daySuffix||"")).replace(/d/,s+(q.daySuffix||"")),c.data.push({value:s,display:/DD/.test(a)?a.replace(/DD/,'<span class="mbsc-dt-day">'+q.dayNames[i]+"</span>"):a.replace(/D/,'<span class="mbsc-dt-day">'+q.dayNamesShort[i]+"</span>")});e._tempWheelArray[V.d]=u[V.d],e.changeWheel(f)}return{disabled:m,valid:u}}}},Yt={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Wt=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function s(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):s(e)}function a(){var t,s,n;me={},fe=[],ge={},it=e.trigger,Z=Be(ht),n=Ke({},e.settings),nt=Ke(e.settings,Yt,n),t=nt.controls.join(","),we=nt.firstDay,Oe=nt.rtl,Ze=nt.pageBuffer,lt=nt.weekCounter,le=nt.weeks,Ee=6==le,Ve="vertical"==nt.calendarScroll,ue="inline"==nt.display?Z.is("div")?Z:Z.parent():e._$window,ct="full"==nt.weekDays?"":"min"==nt.weekDays?"Min":"Short",s=nt.layout||("inline"==nt.display||/top|bottom/.test(nt.display)&&nt.touchUi?"liquid":""),Ae="liquid"==s,de=Ae?null:nt.calendarWidth,st=Oe&&!Ve?-1:1,he="mbsc-disabled "+(nt.disabledClass||""),be="mbsc-selected "+(nt.selectedTabClass||""),pe="mbsc-selected "+(nt.selectedClass||""),He=Math.max(1,Math.floor(((nt.calendarHeight||0)/le-45)/18)),t.match(/calendar/)&&(me.calendar=1,Ce=!0),t.match(/date/)&&!Ce&&(me.date=1),t.match(/time/)&&(me.time=1),nt.controls.forEach(function(e){me[e]&&fe.push(e)}),De=nt.quickNav&&Ce&&Ee,dt=nt.yearChange&&Ee,Ae&&Ce&&"center"==nt.display&&(e._isFullScreen=!0),nt.layout=s,nt.preset=(me.date||Ce?"date":"")+(me.time?"time":"")}function i(){ze=dt?nt.monthNamesShort:nt.monthNames,ft=nt.yearSuffix||"",Xe=(nt.dateWheels||nt.dateFormat).search(/m/i),ut=(nt.dateWheels||nt.dateFormat).search(/y/i),xe=e._format,nt.min&&(Fe=R(z(nt.min,xe,nt)),je=nt.getYear(Fe),qe=nt.getMonth(Fe),Re=nt.getDate(12*Math.floor(je/12),0,1)),nt.max&&(Ie=R(z(nt.max,xe,nt)),We=nt.getYear(Ie),Ye=nt.getMonth(Ie),Ne=nt.getDate(12*Math.floor(We/12),0,1))}function o(e,t,s){e[t]=e[t]||[],e[t].push(s)}function r(e,t,s){var n,a,i,r,l=nt.getYear(t),c=nt.getMonth(t),d={};return e&&Be.each(e,function(e,u){if(n=u.d||u.start||u,a=n+"",u.start&&u.end)for(r=R(z(u.start,xe,nt)),i=R(z(u.end,xe,nt));r<=i;)o(d,r,u),r=nt.getDate(nt.getYear(r),nt.getMonth(r),nt.getDay(r)+1);else if(Pt.test(a))for(r=I(t,!1,+a.replace("w",""));r<=s;)o(d,r,u),r=nt.getDate(nt.getYear(r),nt.getMonth(r),nt.getDay(r)+7);else if(Lt.test(a))if(a=a.split("/"),a[1])for(r=nt.getDate(l,a[0]-1,a[1]);r<=s;)o(d,r,u),r=nt.getDate(nt.getYear(r)+1,nt.getMonth(r),a[1]);else for(r=nt.getDate(l,c,a[0]);r<=s;)o(d,r,u),r=nt.getDate(nt.getYear(r),nt.getMonth(r)+1,a[0]);else o(d,R(z(n,xe,nt)),u)}),d}function c(e){return!(e<Fe)&&(!(e>Ie)&&(void 0===Se[e]||void 0!==ot[e]))}function d(t){var s,n,a,i,o=!!Pe[t]&&Pe[t],r=o&&o[0].background,l="";if(o){for(a='<div class="mbsc-cal-marks">',s=0;s<o.length;s++)n=o[s],l+=(n.cssClass||"")+" ",a+='<div class="mbsc-cal-mark"'+(n.color?' style="background:'+n.color+';"':"")+"></div>";a+="</div>"}return i={marked:o,background:r,cssClass:l,markup:ge[t]?ge[t].join(""):ke?a:""},Ke(i,e._getDayProps(t,i))}function u(e){return' style="'+(Ve?"transform: translateY("+100*e+"%)":"left:"+100*e*st+"%")+'"'}function m(){Qe="auto"==nt.months?Math.max(1,Math.min(3,Math.floor((de||U(ue))/280))):+nt.months,tt=Qe+2*Ze,et=0,Ve=Ve&&Qe<2,at=void 0===nt.showOuterDays?Qe<2&&!Ve:nt.showOuterDays}function f(e){return N(e,Qe-1)>Ie&&(e=N(Ie,1-Qe)),e<Fe&&(e=Fe),e}function h(e,t,s){var n=e.color,a=e.text;return'<div data-id="'+e._idx+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+Be("<div>"+a+"</div>").text()+'"'+(n?' style="background:'+n+(s?";color:"+E(n):"")+';"':"")+">"+(s?a:"")+"</div>"}function p(t){var s=I(N(t,-et-Ze),!1),n=I(N(t,-et+Qe+Ze-1),!1);n=nt.getDate(nt.getYear(n),nt.getMonth(n),nt.getDay(n)+7*le),e._onGenMonth(s,n),Se=r(nt.invalid,s,n),ot=r(nt.valid,s,n),Pe=r(nt.labels||nt.events||nt.marked||nt.colors,s,n),Le=e._labels||Pe,Te=nt.labels||e._labels,Te&&!function(){ge={};for(var e={},t=s,a=1,i=function(){t.getDay()==we&&(e={});for(var s=He,n=Le[t]||[],i=n.length,o=[],r=void 0,l=void 0,c=0,d=0,u=0,m=void 0;c<s;)if(r=null,n.forEach(function(t,s){e[c]==t&&(r=t,l=s)}),c==s-1&&(d<i-1||i&&u==i&&!r)){var f=i-d,p=(f>1?nt.moreEventsPluralText||nt.moreEventsText:nt.moreEventsText).replace(/{count}/,f);f&&o.push('<div class="mbsc-cal-txt-more">'+p+"</div>"),r&&(e[c]=null,r._days.forEach(function(e){ge[e][c]='<div class="mbsc-cal-txt-more">'+nt.moreEventsText.replace(/{count}/,1)+"</div>"})),d++,c++}else if(r)l==u&&u++,B(t,z(r.end))&&(e[c]=null),o.push(h(r,l)),c++,d++,r._days.push(t);else if(u<i){var b=n[u],v=b.start&&z(b.start),g=b.end&&z(b.end),y=t.getDay(),_=we-y>0?7:0,x=g&&!B(v,g);v&&!B(t,v)&&y!=we||(a++,x?(e[c]=b,b._idx=b._idx||a):b._idx=a,b._days=[t],m=x?100*Math.min(F(t,R(g))+1,7+we-y-_):100,o.push(x?'<div class="mbsc-cal-txt-w" style="width:'+m+'%">'+h(b,u,!0)+"</div>"+h(b,u):h(b,u,!0)),c++,d++),u++}else o.push('<div class="mbsc-cal-txt-ph"></div>'),c++;ge[t]=o,t=nt.getDate(nt.getYear(t),nt.getMonth(t),nt.getDay(t)+1)};t<n;)i()}()}function b(e){var t=nt.getYear(e),s=nt.getMonth(e);ve=e,oe=e,$(e),it("onMonthChange",{year:t,month:s}),it("onMonthLoading",{year:t,month:s}),it("onPageChange",{firstDay:e}),it("onPageLoading",{firstDay:e}),p(e)}function v(e){var t=nt.getYear(e),s=nt.getMonth(e);void 0!==Je&&T(e,Je,!0),void 0===Je&&g(e,t,s),k(oe,_e.focus),_e.focus=!1}function g(e,t,s){var n=_e.$scroller;Be(".mbsc-cal-slide",n).removeClass("mbsc-cal-slide-a"),Be(".mbsc-cal-slide",n).slice(Ze,Ze+Qe).addClass("mbsc-cal-slide-a"),Te&&Be(".mbsc-cal-slide-a .mbsc-cal-txt",n).on("mouseenter",function(){var e=Be(this).attr("data-id");Be('.mbsc-cal-txt[data-id="'+e+'"]',n).addClass("mbsc-hover")}).on("mouseleave",function(){Be(".mbsc-cal-txt.mbsc-hover",n).removeClass("mbsc-hover")}),it("onMonthLoaded",{year:t,month:s}),it("onPageLoaded",{firstDay:e})}function _(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',fe.forEach(function(s,n){t=nt[("calendar"==s?"date":s)+"Text"],e+='<div role="tab" aria-controls="'+(ht.id+"-mbsc-pnl-"+n)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(n?"":be)+'" data-control="'+s+'"'+(nt.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function x(){var e,t,s,n,a,i="",o=Oe?nt.btnCalNextClass:nt.btnCalPrevClass,r=Oe?nt.btnCalPrevClass:nt.btnCalNextClass;for(n='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+nt.prevMonthText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(le?Qe:1);t++)n+='<div role="button" class="mbsc-cal-month"></div>';if(n+='<div data-step="1" role="button" tabindex="0" aria-label="'+nt.nextMonthText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',dt&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+nt.prevYearText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+nt.nextYearText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),le&&(a=T(ve)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(Ee?"":" mbsc-cal-week-view")+(Qe>1?" mbsc-cal-multi ":"")+(lt?" mbsc-cal-weeks ":"")+(Ve?" mbsc-cal-vertical":"")+(ke?" mbsc-cal-has-marks":"")+(Te?" mbsc-cal-has-labels":"")+(at?"":" mbsc-cal-hide-diff ")+(nt.calendarClass||"")+'"'+(Ae?"":' style="width:'+(de||280*Qe)+'px;"')+'><div class="mbsc-cal-hdr">'+(ut<Xe||Qe>1?i+n:n+i)+"</div>",le){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',s=0;s<Qe;s++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+nt.dayNames[(t+we)%7]+'">'+nt["dayNames"+ct][(t+we)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(nt.calendarClass||"")+'"'+(nt.calendarHeight?' style="height:'+nt.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/Qe+'%">'+a+"</div></div>"}if(e+="</div>",De){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(nt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+u(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',s=0;s<12;s++)s&&s%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+nt.monthNames[s]+'" data-val="'+s+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?nt.monthNamesShort[s]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(nt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=w(Y(ve,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function w(e,t){var s,n=nt.getYear(e),a='<div class="mbsc-cal-slide"'+u(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(s=0;s<12;s++)s&&s%3===0&&(a+='</div><div class="mbsc-cal-row">'),a+='<div role="gridcell" tabindex="-1" aria-label="'+n+'" data-val="'+n+'" class="mbsc-cal-cell mbsc-btn-e '+(n<je||n>We?" mbsc-disabled ":"")+(n==nt.getYear(ve)?pe:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+n+ft+"</div></div>",n++;return a+="</div></div></div>"}function C(t,s){var n,a,i,o,r,l,m,f,h,p,b,v,g,y,_,x,w=1,C=nt.getYear(t),T=nt.getMonth(t),k=nt.getDay(t),M=null!==nt.defaultValue||e._hasValue?e.getDate(!0):null,D=nt.getDate(C,T,k).getDay(),S=we-D>0?7:0,$='<div class="mbsc-cal-slide"'+u(s)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(x=0;x<7*le;x++)_=x+we-S,n=nt.getDate(C,T,_-D+k),i=n.getFullYear(),o=n.getMonth(),r=n.getDate(),l=nt.getMonth(n),m=nt.getDay(n),y=nt.getMaxDayOfMonth(i,o),f=i+"-"+(o+1)+"-"+r,h=Ke({valid:c(n),selected:M&&B(M,n)},d(n)),p=h.valid,b=h.selected,a=h.cssClass,v=new Date(n).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=l!==T,ye[f]=h,x&&x%7===0&&($+='</div><div class="mbsc-cal-row">'),lt&&x%7===0&&("month"==lt&&g&&w>1?w=1==r?1:2:"year"==lt&&(w=nt.getWeekNumber(nt.getDate(i,o,r+(7-we+1)%7))),$+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+w+"</div>",w++),$+='<div role="gridcell" aria-label="'+(v?nt.todayText+", ":"")+nt.dayNames[n.getDay()]+", "+nt.monthNames[l]+" "+m+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(g&&!at?' aria-hidden="true"':' data-full="'+f+'"')+(b?' aria-selected="true"':"")+(p?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+_%7+" "+(nt.dayClass||"")+" "+(b?pe:"")+(v?" "+nt.todayClass:"")+(a?" "+a:"")+(1==m?" mbsc-cal-day-first":"")+(m==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(p?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+E(h.background)+'"':"")+">"+m+"</div>"+(h.markup||"")+"</div></div>";return $+="</div></div></div>"}function T(e,t,s){var n,a=nt.getYear(e),i=nt.getMonth(e),o=_e?_e.pos:0,r="";if(ye={},le)for(t||(it("onMonthLoading",{year:a,month:i}),it("onPageLoading",{firstDay:e})),p(e),n=0;n<tt;n++)r+=C(N(e,n-et-Ze),o*st+n-Ze);return Je=void 0,s&&_e&&(_e.$scroller.html(r),g(e,a,i)),r}function k(e,t){var s=_e.$active;s&&(s.hasClass("mbsc-disabled")?s.removeAttr("tabindex"):s.attr("tabindex","-1")),_e.$active=Be('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+'"]',_e.$scroller).attr("tabindex","0"),t&&_e.$active.length&&_e.$active[0].focus()}function M(t){var s=_e&&_e.$scroller;nt.highlight&&_e&&(Be(".mbsc-selected",s).removeClass(pe).removeAttr("aria-selected"),(null!==nt.defaultValue||e._hasValue)&&Be('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+'"]',s).addClass(pe).attr("aria-selected","true"))}function D(e,t){Be(".mbsc-selected",t).removeClass(pe).removeAttr("aria-selected"),Be('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(pe).attr("aria-selected","true")}function S(t,s,n,a){var i,o;rt&&(t<Fe&&(t=Fe),t>Ie&&(t=Ie),"calendar"!==rt&&Me&&!s||(e._isSetDate=!0,Ce&&le&&(o=I(f(t),Ee),Ge&&(t<N(ve,-et)||t>=N(ve,Qe-et))&&(i=Ee?nt.getMonth(o)-nt.getMonth(ve)+12*(nt.getYear(o)-nt.getYear(ve)):Math.floor(F(ve,o)/(7*le)),i&&(_e.queue=[],_e.focus=a&&n,W(_e,i,n))),i&&n||k(t,a),s||M(t),Ee||$(t,!0),oe=t,Ge=!0),e._onSetDate(t,i),e._isSetDate=!1))}function $(e,t){var s,n,a,i=nt.getYear(e),o=nt.getMonth(e),r=i+ft;if(De){if(D(o,Ue.$scroller),D(i,mt.$scroller),W(mt,Math.floor(i/12)-Math.floor(nt.getYear(mt.first)/12),!0),Be(".mbsc-cal-cell",Ue.$scroller).removeClass("mbsc-disabled"),i===je)for(s=0;s<qe;s++)Be('.mbsc-cal-cell[data-val="'+s+'"]',Ue.$scroller).addClass("mbsc-disabled");if(i===We)for(s=Ye+1;s<=12;s++)Be('.mbsc-cal-cell[data-val="'+s+'"]',Ue.$scroller).addClass("mbsc-disabled")}for(t||(A(Be(".mbsc-cal-prev-m",Q),N(e,-et)<=Fe),A(Be(".mbsc-cal-next-m",Q),N(e,Qe-et)>Ie),A(Be(".mbsc-cal-prev-y",Q),nt.getDate(i-1,o+1,1)<=Fe),A(Be(".mbsc-cal-next-y",Q),nt.getDate(i+1,o,1)>Ie)),ae.attr("aria-label",i).html(r),s=0;s<Qe;s++)e=nt.getDate(i,o-et+s,1),n=nt.getYear(e),a=nt.getMonth(e),r=n+ft,ee.eq(s).attr("aria-label",nt.monthNames[a]+(dt?"":" "+i)).html((!dt&&ut<Xe?r+" ":"")+ze[a]+(!dt&&ut>Xe?" "+r:""))}function A(e,t){t?e.addClass(he).attr("aria-disabled","true"):e.removeClass(he).removeAttr("aria-disabled")}function V(t,s){var n=e.getDate(!0),a=t[0],i=t.attr("data-full"),o=i?i.split("-"):[],r=H(o[0],o[1]-1,o[2]),l=H(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),c=t.hasClass("mbsc-selected"),d=Be(s.target),u=d[0];if(at||!t.hasClass("mbsc-cal-day-diff")){if(Te&&a.contains(u))for(;u!=a;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),f=Le[r];if(it("onLabelTap",{date:l,domEvent:s,target:d[0],labels:f,label:f[m]})===!1)return;break}d=d.parent(),u=d[0]}it("onDayChange",Ke(ye[i],{date:l,target:a,selected:c}))===!1||nt.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,r,l,c)}}function L(e){s(te),S(nt.getDate(nt.getYear(_e.first),e.attr("data-val"),1),!0,!0)}function P(e){s(ie),S(nt.getDate(e.attr("data-val"),nt.getMonth(_e.first),1),!0,!0)}function I(e,t,s){var n=nt.getYear(e),a=nt.getMonth(e),i=e.getDay(),o=we-i>0?7:0;return t?nt.getDate(n,a,1):nt.getDate(n,a,(s||we)-o-i+nt.getDay(e))}function N(e,t){var s=nt.getYear(e),n=nt.getMonth(e),a=nt.getDay(e);return Ee?nt.getDate(s,n+t,1):nt.getDate(s,n,a+t*le*7)}function Y(e,t){var s=12*Math.floor(nt.getYear(e)/12);return nt.getDate(s+12*t,0,1)}function W(t,s,n,a){s&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&q(t,s,n,a))}function q(e,t,s,n){var a,i,o="",r=e.$scroller,l=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,f=e.genPage,h=e.getFirst,p=t>0?Math.min(t,l):Math.max(t,-l),b=e.pos*st+p-t+c,v=Math.abs(t)>l;e.callback&&(e.load(),e.callback()),e.first=h(m,t),e.pos+=p*st,e.changing=!0,e.load=function(){if(v){for(a=0;a<d;a++)i=t+a-c,o+=f(h(m,i),b+i);t>0?(Be(".mbsc-cal-slide",r).slice(-d).remove(),r.append(o)):t<0&&(Be(".mbsc-cal-slide",r).slice(0,d).remove(),r.prepend(o))}},e.callback=function(){var s=Math.abs(p),o="";for(a=0;a<s;a++)i=t+a-c-l+(t>0?u-s:0),o+=f(h(m,i),b+i);if(t>0?(r.append(o),Be(".mbsc-cal-slide",r).slice(0,p).remove()):t<0&&(r.prepend(o),Be(".mbsc-cal-slide",r).slice(p).remove()),v){for(o="",a=0;a<s;a++)i=t+a-c-l+(t>0?0:u-s),o+=f(h(m,i),b+i);t>0?(Be(".mbsc-cal-slide",r).slice(0,p).remove(),r.prepend(o)):t<0&&(Be(".mbsc-cal-slide",r).slice(p).remove(),r.append(o))}X(e),n&&n(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?q.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,s?200:0,!1,e.callback)}function j(t,s,n,a,i,o,r,l,c,d,u,m,f){var h=Ve?"Y":"X",p={$scroller:Be(".mbsc-cal-scroll",t),queue:[],buffer:a,offset:i,pages:o,first:l,total:r,pos:0,min:s,max:n,genPage:m,getFirst:f,onBeforeChange:d,onAfterChange:u};return p.scroller=new Tt(t,{axis:h,easing:"",contSize:0,maxSnapScroll:a,mousewheel:nt.mousewheel,time:200,lock:!0,rtl:Oe,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&y(),c(Be(e.target),e.domEvent)},onAnimationStart:function(){p.changing=!0},onAnimationEnd:function(e){m&&W(p,Math.round((-p.pos*p.size-e["pos"+h])/p.size)*st)}}),e._scrollers.push(p.scroller),p}function X(e,t){var s,n=0,a=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(n=e.buffer,a=e.buffer;a&&e.getFirst(i,a+e.pages-e.offset-1)>e.max;)a--;for(;n&&e.getFirst(i,1-n-e.offset)<=e.min;)n--}s=Math.round(ce/e.pages),Ae&&s&&e.size!=s&&e.$scroller[Ve?"height":"width"](s),Ke(e.scroller.settings,{snap:s,minScroll:(-e.pos*st-a)*s,maxScroll:(-e.pos*st+n)*s}),e.size=s,e.scroller.refresh()}}function G(t){e._isVisible&&Ce&&le&&(_e&&_e.changing?Je=t:T(ve,t,!0)),e._onRefresh(t)}function J(){if(Ce&&le){var t=Be(".mbsc-cal-scroll-c",Q);_e=j(t[0],Fe,Ie,Ze,et,Qe,tt,ve,V,b,v,C,N),De&&(Ue=j(t[1],null,null,1,0,1,3,ve,L),mt=j(t[2],Re,Ne,1,0,1,3,ve,P,l,l,w,Y),e.tap(ee,function(){n(te),s(ie)}),e.tap(ae,function(){n(ie),s(te)})),O(Be(".mbsc-cal-btn",Q),function(e,t,s,n){W(_e,t,!0,n)}),v(ve),null===nt.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=_e.$active[0]),K.on("keydown",function(e){var t,s=nt.getYear(oe),n=nt.getMonth(oe),a=nt.getDay(oe);switch(e.keyCode){case 32:V(_e.$active,e);break;case 37:t=nt.getDate(s,n,a-1);break;case 39:t=nt.getDate(s,n,a+1);break;case 38:t=nt.getDate(s,n,a-7);break;case 40:t=nt.getDate(s,n,a+7);break;case 36:t=nt.getDate(s,n,1);break;case 35:t=nt.getDate(s,n+1,0);break;case 33:t=e.altKey?nt.getDate(s-1,n,a):Ee?nt.getDate(s,n-1,a):nt.getDate(s,n,a-7*le);break;case 34:t=e.altKey?nt.getDate(s+1,n,a):Ee?nt.getDate(s,n+1,a):nt.getDate(s,n,a+7*le)}t&&(e.preventDefault(),S(t,!0,!1,!0))})}e.tap(Be(".mbsc-cal-tab",Q),function(){e.changeTab(Be(this).attr("data-control"))})}var Z,K,Q,ee,te,se,ne,ae,ie,oe,re,le,ce,de,ue,me,fe,he,pe,be,ve,ge,ye,_e,xe,we,Ce,Te,ke,Me,De,Se,$e,Ae,Ee,Oe,Ve,Le,Pe,Ie,Ne,He,Ye,We,Fe,Re,qe,je,Xe,ze,Ue,Ge,Je,Ze,Qe,et,tt,st,nt,at,it,ot,rt,lt,ct,dt,ut,mt,ft,ht=this;return a(),re=Ht.call(this,e),i(),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){S(e,!0,t)},e.changeTab=function(t){e._isVisible&&me[t]&&rt!=t&&(rt=t,Be(".mbsc-cal-tab",Q).removeClass(be).removeAttr("aria-selected"),Be('.mbsc-cal-tab[data-control="'+t+'"]',Q).addClass(be).attr("aria-selected","true"),Me&&(ne.addClass("mbsc-cal-h"),me[rt].removeClass("mbsc-cal-h")),"calendar"==rt&&S(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:rt}))},e._onGenMonth=l,e._onSelectShow=l,e._onSetDate=l,e._onRefresh=l,e._getDayProps=l,e._prepareObj=r,e._showDayPicker=function(){De&&(s(ie,!0),s(te,!0))},e._selectDay=e.__selectDay=function(t,s,n){var a=e.live;Ge=nt.outerMonthChange,$e=!0,e.setDate(n,a,1e3,!a,!0),a&&it("onSet",{valueText:e._value})},Ke(re,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var s=0;Q=Be(t.target),se=Be(".mbsc-fr-c",Q),oe=e.getDate(!0),ce=0,Ce&&(ke=!(!nt.marked&&!nt.data||nt.labels||nt.multiLabel||nt.showEventCount),Ge=!0,rt="calendar",m(),ve=I(f(oe),Ee),se.append(x()),ee=Be(".mbsc-cal-month",Q),ae=Be(".mbsc-cal-year",Q),K=Be(".mbsc-cal-day-scroll-c",Q)),De&&(ie=Be(".mbsc-cal-year-picker",Q),te=Be(".mbsc-cal-month-picker",Q)),ne=Be(".mbsc-w-p",Q),fe.length>1&&se.before(_()),["date","time","calendar"].forEach(function(e){me[e]?(me[e]=ne.eq(s),s++):"date"==e&&!me.date&&Ce&&(ne.eq(s).remove(),s++)}),fe.forEach(function(e){se.append(me[e])}),!Ce&&me.date&&me.date.css("position","relative"),e._scrollers=[],J()},onShow:function(){Ce&&le&&$(Ee?ve:oe)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),ye=null,_e=null,Ue=null,mt=null,rt=null},onValidated:function(t){var s,n,a=t.index,i=e._order;n=e.getDate(!0),$e?s="calendar":void 0!==a&&(s=i.dd==a||i.d==a||i.m==a||i.y==a?"date":"time"),it("onSetDate",{date:n,control:s}),"time"!==s&&S(n,!1,!!t.time,$e&&!e._multiple),$e=!1},onPosition:function(t){var s,n,a,i,o,r,l,c=t.oldHeight,d=t.windowHeight;if(Me=(t.hasTabs||nt.tabs===!0||nt.tabs!==!1&&Ae)&&fe.length>1,Ae&&(t.windowWidth>=nt.breakPointMd?Be(t.target).addClass("mbsc-fr-md"):Be(t.target).removeClass("mbsc-fr-md")),Me?(Q.addClass("mbsc-cal-tabbed"),rt=Be(".mbsc-cal-tab.mbsc-selected",Q).attr("data-control"),ne.addClass("mbsc-cal-h"),me[rt].removeClass("mbsc-cal-h")):(Q.removeClass("mbsc-cal-tabbed"),ne.removeClass("mbsc-cal-h")),e._isFullScreen&&(K.height(""),o=t.popup.offsetHeight,l=d-o+K[0].offsetHeight,d>=o&&K.height(l)),Te&&le&&d!=c){var u=l||K[0].offsetHeight,m=Be(".mbsc-cal-txt-ph")[0],f=m.offsetTop,h=m.offsetHeight,p=Math.max(1,Math.floor((u/le-f)/(h+2)));He!=p&&(He=p,e.redraw())}if(Ce&&le){if(r=Ae||Ve||Me?K[0][Ve?"offsetHeight":"offsetWidth"]:de||280*Qe,i=r!=ce,ce=r,Ae&&i&&dt)for(ze=nt.maxMonthWidth>ee[0].offsetWidth?nt.monthNamesShort:nt.monthNames,n=nt.getYear(ve),a=nt.getMonth(ve),s=0;s<Qe;s++)ee.eq(s).text(ze[nt.getMonth(nt.getDate(n,a-et+s,1))]);i&&X(_e,!0)}De&&i&&(X(Ue,!0),X(mt,!0))}})},Ft={};kt.calendar=function(e){function t(e){return H(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){var s,n,a=null;if(v={},e&&e.length)for(n=0;n<e.length;n++)s=z(e[n],o,m,m.isoParts),a=a||s,v[t(s)]=s;return a}function n(){e.redraw()}var a,i,o,r,l,d=Ke({},e.settings),m=Ke(e.settings,Ft,d),f="mbsc-selected "+(m.selectedClass||""),h=m.defaultValue,p="multiple"==m.select||m.select>1||"week"==m.selectType,b=u(m.select)?m.select:1/0,v={};return a=Wt.call(this,e),r=void 0===m.firstSelectDay?m.firstDay:m.firstSelectDay,o=e._format,p&&s(h),e._multiple=p,e._getDayProps=function(e){return{selected:p?void 0!==v[e]:void 0}},e._selectDay=function(t,s,a,o){if(m.setOnDayTap&&"multiple"!=m.select&&"inline"!=m.display)return e.setDate(a),void e.select();if(p)if("week"==m.selectType){var l,d,u=s.getDay()-r;for(u=u<0?7+u:u,"multiple"!=m.select&&(v={}),l=0;l<7;l++)d=H(s.getFullYear(),s.getMonth(),s.getDate()-u+l),o?delete v[d]:c(v).length/7<b&&(v[d]=d);n()}else{var h=Be('.mbsc-cal-day[data-full="'+t.attr("data-full")+'"]',i);o?(h.removeClass(f).removeAttr("aria-selected"),delete v[s]):c(v).length<b&&(h.addClass(f).attr("aria-selected","true"),v[s]=s)}e.__selectDay(t,s,a)},e.setVal=function(t,a,i,o,r){p&&(t=s(t)),e._setVal(t,a,i,o,r),p&&n()},e.getVal=function(t){var s,n=[];if(p){for(s in v)n.push(X(v[s],m,o));return n}return X(e.getDate(t),m,o)},Ke({},a,{highlight:!p,outerMonthChange:!p,parseValue:function(e){return p&&e&&"string"==typeof e&&(e=s(e.split(","))),p&&h&&h.length&&(m.defaultValue=h[0]),a.parseValue.call(this,e)},formatValue:function(t){var s,n=[];if(p){for(s in v)n.push(Y(o,v[s],m));return n.join(", ")}return a.formatValue.call(this,t,e)},onClear:function(){p&&(v={},n())},onBeforeShow:function(){void 0!==m.setOnDayTap||m.buttons&&m.buttons.length||1!=m.controls.length||(m.setOnDayTap=!0),m.setOnDayTap&&"inline"!=m.display&&(m.outerMonthChange=!1),m.counter&&p&&(m.headerText=function(){var e=0,t="week"==m.selectType?7:1;return Be.each(v,function(){e++}),e=Math.round(e/t),(e>1?m.selectedPluralText||m.selectedText:m.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){a.onMarkupReady.call(this,e),i=Be(e.target),p&&(Be(".mbsc-fr-hdr",i).attr("aria-live","off"),l=Ke({},v))},onCancel:function(){!e.live&&p&&(v=Ke({},l))}})},e.module("mobiscroll-calendar",[]).directive("mobiscrollCalendar",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollCalendar",{preset:"calendar"})}]);var Rt,qt="ios"==Ve&&Pe>7,jt=1,Xt="transparent",zt=function(e,t){function s(){Mt=!1,gt=!1,se=0,Pt=0,It=new Date,Je=le.width(),ue=W(le),nt=ue.index(Ze),tt=Ze[0].offsetHeight,cs=Ze[0].offsetTop,Jt=Zt[Ze.attr("data-type")||"defaults"],Lt=Jt.stages}function n(e){var t;"touchstart"===e.type&&(yt=!0,clearTimeout(_t)),!$(e,this)||Q||rs||Rt||fs||(Q=!0,ne=!0,Nt=x(e,"X"),Ht=x(e,"Y"),ve=0,ge=0,Ze=Be(this),t=Ze,s(),Bt=$t.onItemTap||Jt.tap||Ze.hasClass("mbsc-lv-parent")||Ze.hasClass("mbsc-lv-back"),rt=Ze.offset().top,Bt&&(te=setTimeout(function(){t.addClass("mbsc-lv-item-active"),De("onItemActivate",{target:t[0],domEvent:e})},120)),as.sortable&&!Ze.hasClass("mbsc-lv-back")&&(as.sortable.group||(bt=Ze.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),xt=Ze.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),ut=(as.sortable.group?le.children(ot).eq(0):xt.length?xt.eq(-1):Ze)[0].offsetTop-cs,dt=(as.sortable.group?le.children(ot).eq(-1):bt.length?bt.eq(-1):Ze)[0].offsetTop-cs,as.sortable.handle?Be(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(te),"Moz"===it?(e.preventDefault(),d()):Gt=setTimeout(function(){d()},100)):Gt=setTimeout(function(){Se.appendTo(Ze),Se[0].style[it+"Animation"]="mbsc-lv-fill "+($t.sortDelay-100)+"ms linear",clearTimeout(Te),clearTimeout(te),ne=!1,Gt=setTimeout(function(){Se[0].style[it+"Animation"]="",d()},$t.sortDelay-80)},80)),"mousedown"==e.type&&Be(document).on("mousemove",a).on("mouseup",i))}function a(e){var t=!1,s=!0,n=se;if(Q)if(ke=x(e,"X"),Me=x(e,"Y"),ve=ke-Nt,ge=Me-Ht,clearTimeout(Te),we||Wt||At||Ze.hasClass("mbsc-lv-back")||(Math.abs(ge)>10?(At=!0,i(Ke({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(te)):Math.abs(ve)>7&&o()),Wt)e.preventDefault(),se=ve/Je*100,r(n);else if(we){e.preventDefault();var a,l=es.scrollTop(),c=Math.max(ut,Math.min(ge+ss,dt)),d=Ve?rt-ns+l-ss:rt;ts+l<d+c+tt?(es.scrollTop(d+c-ts+tt),a=!0):d+c<l&&(es.scrollTop(d+c),a=!0),a&&(ss+=es.scrollTop()-l),ht&&(as.sortable.multiLevel&&ft.hasClass("mbsc-lv-parent")?cs+tt/4+c>ht?t=!0:cs+tt-tt/4+c>ht&&(ye=ft.addClass("mbsc-lv-item-hl"),s=!1):cs+tt/2+c>ht&&(ft.hasClass("mbsc-lv-back")?as.sortable.multiLevel&&(_e=ft.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(wt.insertAfter(ft),Ct=ft,ft=q(ft,"next"),Tt=ht,ht=ft.length&&ft[0].offsetTop,re++)),!t&&Tt&&(as.sortable.multiLevel&&Ct.hasClass("mbsc-lv-parent")?cs+tt-tt/4+c<Tt?t=!0:cs+tt/4+c<Tt&&(ye=Ct.addClass("mbsc-lv-item-hl"),s=!1):cs+tt/2+c<Tt&&(Ct.hasClass("mbsc-lv-back")?as.sortable.multiLevel&&(_e=Ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(wt.insertBefore(Ct),ft=Ct,Ct=q(Ct,"prev"),ht=Tt,Tt=Ct.length&&Ct[0].offsetTop+Ct[0].offsetHeight,re--)),s&&(ye&&(ye.removeClass("mbsc-lv-item-hl"),ye=!1),_e&&(_e.removeClass("mbsc-lv-item-hl"),_e=!1)),t&&De("onSortChange",{target:Ze[0],index:re}),E(Ze,c),De("onSort",{target:Ze[0],index:re})}else(Math.abs(ve)>5||Math.abs(ge)>5)&&O()}function i(e){var t,s,n,o,r=Ze;Q&&(Q=!1,O(),"mouseup"==e.type&&Be(document).off("mousemove",a).off("mouseup",i),At||(_t=setTimeout(function(){yt=!1},300)),(Wt||At||we)&&(gt=!0),Wt?c():we?(n=le,ye?(I(Ze.detach()),s=ms[ye.attr("data-ref")],re=W(s.child).length,ye.removeClass("mbsc-lv-item-hl"),$t.navigateOnDrop?G(ye,function(){as.add(null,Ze,null,null,ye,!0),B(Ze),m(Ze,nt,n,!0)}):(as.add(null,Ze,null,null,ye,!0),m(Ze,nt,n,!0))):_e?(I(Ze.detach()),s=ms[_e.attr("data-back")],re=W(s.parent).index(s.item)+1,_e.removeClass("mbsc-lv-item-hl"),$t.navigateOnDrop?G(_e,function(){as.add(null,Ze,re,null,le,!0),B(Ze),m(Ze,nt,n,!0)}):(as.add(null,Ze,re,null,s.parent,!0),m(Ze,nt,n,!0))):(t=wt[0].offsetTop-cs,E(Ze,t,6*Math.abs(t-Math.max(ut,Math.min(ge+ss,dt))),function(){I(Ze),Ze.insertBefore(wt),m(Ze,nt,n,re!==nt)})),we=!1):!At&&Math.abs(ve)<5&&Math.abs(ge)<5&&(Jt.tap&&(o=Jt.tap.call(is,{target:Ze,index:nt,domEvent:e},as)),Bt&&(Ze.addClass("mbsc-lv-item-active"),De("onItemActivate",{target:Ze[0],domEvent:e})),"touchend"===e.type&&$t.tap&&C(e.target,w(Be(e.target)),e),o=De("onItemTap",{target:Ze[0],index:nt,domEvent:e}),o!==!1&&G(Ze)),clearTimeout(te),setTimeout(function(){r.removeClass("mbsc-lv-item-active"),De("onItemDeactivate",{target:r[0]})},100),At=!1,me=null)}function o(){Wt=N(Jt.swipe,{target:Ze[0],index:nt,direction:ve>0?"right":"left"}),Wt&&(O(),clearTimeout(te),Jt.actions?(ee=z(Jt,ve),mt.html(Jt.icons).show().children().css("width",ee+"%"),ze.hide(),Be(".mbsc-lv-ic-m",Ue).removeClass("mbsc-lv-ic-disabled"),Be(Jt.leftMenu).each(_),Be(Jt.rightMenu).each(_)):(ze.show(),mt.hide(),fe=Jt.start,me=Lt[fe],kt=Lt[fe-1],pt=Lt[fe+1]),Ze.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),Ut.css("line-height",tt+"px"),Ue.css({top:cs,height:tt,backgroundColor:j(ve)}).addClass("mbsc-lv-stage-c-v").appendTo(le.parent()),$t.iconSlide&&Ze.append(ze),De("onSlideStart",{target:Ze[0],index:nt}))}function r(e){var t=!1;St||(Jt.actions?Ue.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(se<0?"right":"left")):(kt&&(se<0?se<=kt.percent:se<me.percent)?(fe--,pt=me,me=kt,kt=Lt[fe-1],t=!0):pt&&(se<0?se>me.percent:se>=pt.percent)&&(fe++,kt=me,me=pt,pt=Lt[fe+1],t=!0),me&&((t||se>0==e<=0)&&V(me,$t.iconSlide),t&&De("onStageChange",{target:Ze[0],index:nt,stage:me}))),Et||(St=!0,Dt=Re(M)))}function c(e){var t,s,n,a=!1,i=!0;qe(Dt),St=!1,Et||M(),Jt.actions?Math.abs(se)>10&&ee&&(S(Ze,se<0?-ee:ee,200),a=!0,Rt=!0,ae=Ze,ie=nt,Be(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),D(Ze,!0,e)})):se&&($t.quickSwipe&&!Et&&(n=new Date-It,t=n<300&&ve<-50,s=n<300&&ve>50,t?(Mt=!0,me=Jt.left,V(me,$t.iconSlide)):s&&(Mt=!0,me=Jt.right,V(me,$t.iconSlide))),me&&me.action&&(be=N(me.disabled,{target:Ze[0],index:nt}),be||(a=!0,Rt=Et||N(me.confirm,{target:Ze[0],index:nt}),Rt?(S(Ze,(se<0?-1:1)*ze[0].offsetWidth*100/Je,200,!0),k(me,Ze,nt,!1,e)):T(me,Ze,nt,e)))),a||D(Ze,i,e),Wt=!1}function d(){we=!0,ye=!1,_e=!1,ss=0,re=nt,$t.vibrate&&b(),ft=q(Ze,"next"),ht=ft.length&&ft[0].offsetTop,Ct=q(Ze,"prev"),Tt=Ct.length&&Ct[0].offsetTop+Ct[0].offsetHeight,wt.height(tt).insertAfter(Ze),Ze.css({top:cs}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(Ce),
De("onSortStart",{target:Ze[0],index:re})}function m(e,t,s,n){e.removeClass("mbsc-lv-item-dragging"),wt.remove(),De("onSortEnd",{target:e[0],index:re}),$t.vibrate&&b(),n&&(as.addUndoAction(function(n){as.move(e,t,null,n,s,!0)},!0),De("onSortUpdate",{target:e[0],index:re}))}function f(){yt||(clearTimeout(We),Rt&&Be(document).trigger("touchstart"),Ne&&(as.close(Ie,He),Ne=!1,Ie=null))}function h(){clearTimeout(he),he=setTimeout(function(){ts=es[0].innerHeight||es.innerHeight(),ns=Ve?es.offset().top:0,Q&&(cs=Ze[0].offsetTop,tt=Ze[0].offsetHeight,Ue.css({top:cs,height:tt}))},200)}function v(e){gt&&(e.stopPropagation(),e.preventDefault(),gt=!1)}function g(){if(we||!Q){var e,t=es.scrollTop(),s=os.offset().top,n=os[0].offsetHeight,a=Ve?es.offset().top:t;Be(".mbsc-lv-gr-title",os).each(function(t,s){Be(s).offset().top<a&&(e=s)}),s<a&&s+n>a?Ae.show().empty().append(Be(e).clone()):Ae.hide()}}function _(e,t){N(t.disabled,{target:Ze[0],index:nt})&&Be(".mbsc-ic-"+t.icon,Ue).addClass("mbsc-lv-ic-disabled")}function T(e,t,s,n){var a,i={icon:"undo2",text:$t.undoText,action:function(){as.undo()}};e.undo&&(as.startActionTrack(),Be.isFunction(e.undo)&&as.addUndoAction(function(){e.undo.call(is,{target:t[0],index:s},as)}),Kt=t.attr("data-ref")),a=e.action.call(is,{target:t[0],index:s},as),e.undo?(as.endActionTrack(),a!==!1&&S(t,+t.attr("data-pos")<0?-100:100,200),wt.height(tt).insertAfter(t),t.css("top",cs).addClass("mbsc-lv-item-undo"),mt.hide(),ze.show(),Ue.append(ze),V(i),k(i,t,s,!0,n)):D(t,a,n)}function k(e,t,s,n,a){var i,o;Rt=!0,Be(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),n&&P(t),D(t,!0,a)}),pe||ze.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=x(e,"X"),o=x(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(r){r.preventDefault(),"touchend"===r.type&&y(),Math.abs(x(r,"X")-i)<10&&Math.abs(x(r,"Y")-o)<10&&(T(e,t,s,a),n&&(Qt=null,P(t)))})}function M(){S(Ze,Pt+100*ve/Je),St=!1}function D(e,t,s){Be(document).off(".mbsc-lv-conf"),ze.off(".mbsc-lv-conf"),t!==!1?S(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){L(e,s),I(e)}):L(e,s),Rt=!1}function S(e,t,s,n,a){t=Math.max("right"==Wt?0:-100,Math.min(t,"left"==Wt?0:100)),Yt=e[0].style,e.attr("data-pos",t),Yt[it+"Transform"]="translate3d("+(n?Je*t/100+"px":t+"%")+",0,0)",Yt[it+"Transition"]=st+"transform "+(s||0)+"ms",a&&(rs++,setTimeout(function(){a(),rs--},s)),se=t}function E(e,t,s,n){t=Math.max(ut,Math.min(t,dt)),Yt=e[0].style,Yt[it+"Transform"]="translate3d(0,"+t+"px,0)",Yt[it+"Transition"]=st+"transform "+(s||0)+"ms ease-out",n&&(rs++,setTimeout(function(){n(),rs--},s))}function O(){clearTimeout(Gt),!ne&&as.sortable&&(ne=!0,Se.remove())}function V(e,t){var s=N(e.text,{target:Ze[0],index:nt})||"";N(e.disabled,{target:Ze[0],index:nt})?Ue.addClass("mbsc-lv-ic-disabled"):Ue.removeClass("mbsc-lv-ic-disabled"),Ue.css("background-color",e.color||(0===e.percent?j(se):Xt)),ze.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(se<0?"right":"left")),Xe.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),Ut.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),$t.animateIcons&&(Mt?Xe.addClass("mbsc-lv-ic-v"):setTimeout(function(){Xe.addClass("mbsc-lv-ic-a")},10))}function L(e,t){Q||(Xe.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Ue.attr("style","").removeClass("mbsc-lv-stage-c-v"),Ut.html("")),Ue.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(De("onSlideEnd",{target:e[0],index:nt}),t&&t())}function P(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Qt?as.animate(wt,"collapse",function(){wt.remove()}):wt.remove(),L(),Kt=null,Qt=null}function I(e){Yt=e[0].style,Yt[it+"Transform"]="",Yt[it+"Transition"]="",Yt.top="",e.removeClass("mbsc-lv-item-swiping")}function N(e,t){return Be.isFunction(e)?e.call(this,t,as):e}function H(e){var t=e.attr("data-ref"),s=e.attr("data-role");if(t||(t=jt++,e.attr("data-ref",t)),ms[t]={item:e,child:e.children(ct),parent:e.parent(),ref:e.parent()[0]===is?null:e.parent().parent().attr("data-ref")},e.addClass("list-divider"==s?"mbsc-lv-gr-title":"mbsc-lv-item"),as.sortable.handle&&"list-divider"!=s&&!e.children(".mbsc-lv-handle-c").length&&e.append(Le),$t.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var n=e.attr("data-icon"),a=e.find("img").eq(0).addClass("mbsc-lv-img");a.is(":first-child")?e.addClass("mbsc-lv-img-"+($t.rtl?"right":"left")):a.length&&e.addClass("mbsc-lv-img-"+($t.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=Be(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),n&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||($t.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+n+'"></div>')}}function Y(e){Be(ot,e).not(".mbsc-lv-back").each(function(){H(Be(this))}),Be(ct,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Fe).parent().addClass("mbsc-lv-parent").prepend(je),Be(".mbsc-lv-back",e).each(function(){Be(this).attr("data-back",Be(this).parent().parent().attr("data-ref"))})}function W(e){return e.children(ot).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function F(e){return"object"!==("undefined"==typeof e?"undefined":xe(e))&&(e=Be(ot,oe).filter('[data-id="'+e+'"]')),Be(e)}function R(e){for(var t=0,s=ms[e.attr("data-ref")];s&&s.ref;)t++,s=ms[s.ref];return t}function q(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!as.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function j(e){return(e>0?Jt.right:Jt.left).color||Xt}function X(e){return u(e)?e+"":0}function z(e,t){return+(t<0?X((e.actionsWidth||0).right)||X(e.actionsWidth)||X($t.actionsWidth.right)||X($t.actionsWidth):X((e.actionsWidth||0).left)||X(e.actionsWidth)||X($t.actionsWidth.left)||X($t.actionsWidth))}function B(e,t){if(e){var s=es.scrollTop(),n=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,a=e.offset().top+(Ve?s-ns:0);t?(a<s||a+n>s+ts)&&es.scrollTop(a):a<s?es.scrollTop(a):a+n>s+ts&&es.scrollTop(Math.min(a,a+n-ts/2))}}function U(e,t,s,n,a){var i=t.parent(),o=t.prev();n=n||l,o[0]===ze[0]&&(o=ze.prev()),le[0]!==t[0]?(De("onNavStart",{level:ls,direction:e,list:t[0]}),Ot.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),B(oe),J(Ot,"mbsc-lv-sl-"+e,function(){le.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),ce&&ce.length?le.removeClass("mbsc-lv-v").insertAfter(ce):de.append(le.removeClass("mbsc-lv-v")),ce=o,de=i,le=t,B(s,a),n.call(is,s),De("onNavEnd",{level:ls,direction:e,list:t[0]})})):(B(s,a),n.call(is,s))}function G(e,t){rs||(e.hasClass("mbsc-lv-parent")?(ls++,U("r",ms[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(ls--,U("l",ms[e.attr("data-back")].parent,ms[e.attr("data-back")].item,t)))}function J(e,t,s){function n(){clearTimeout(a),rs--,e.off(et,n).removeClass(t),s.call(is,e)}var a;s=s||l,$t.animation&&"mbsc-lv-item-none"!==t?(rs++,e.on(et,n).addClass(t),a=setTimeout(n,250)):s.call(is,e)}function Z(e,t){var s,n=e.attr("data-ref");s=us[n]=us[n]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),t&&(e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?Z(e):delete us[n]})))}function K(e,t,s){var n,a;e&&e.length&&(n=100/(e.length+2),Be.each(e,function(i,o){void 0===o.key&&(o.key=Vt++),void 0===o.percent&&(o.percent=t*n*(i+1),s&&(a=Ke({},o),a.key=Vt++,a.percent=-n*(i+1),e.push(a),ds[a.key]=a)),ds[o.key]=o}))}var Q,ee,te,se,ne,ae,ie,oe,re,le,ce,de,ue,me,fe,he,pe,be,ve,ge,ye,_e,we,Ce,Te,ke,Me,De,Se,$e,Ae,Ee,Oe,Ve,Le,Pe,Ie,Ne,He,Ye,We,Fe,je,Xe,ze,Ue,Je,Ze,tt,nt,at,ot,rt,lt,ct,dt,ut,mt,ft,ht,pt,bt,vt,gt,yt,_t,xt,wt,Ct,Tt,kt,Mt,Dt,St,$t,At,Et,Ot,Vt,Lt,Pt,It,Nt,Ht,Yt,Wt,Ft,zt,Bt,Ut,Gt,Jt,Zt,Kt,Qt,es,ts,ss,ns,as=this,is=e,os=Be(is),rs=0,ls=0,cs=0,ds={},us={},ms={};Qe.call(this,e,t,!0),as.animate=function(e,t,s){J(e,"mbsc-lv-item-"+t,s)},as.add=function(e,t,s,n,a,i){var o,r,c,d,u,m,f="",h=void 0===a?os:F(a),p=h,b=Be("object"!==("undefined"==typeof t?"undefined":xe(t))?"<"+at+' data-ref="'+jt++ +'" data-id="'+e+'">'+t+"</"+at+">":t),v=b[0],g=v.style,y=b.attr("data-pos")<0?"left":"right",_=b.attr("data-ref");n=n||l,_||(_=jt++,b.attr("data-ref",_)),H(b),i||as.addUndoAction(function(e){d?as.navigate(h,function(){p.remove(),h.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),u.child=h.children(ct),as.remove(b,null,e,!0)}):as.remove(b,null,e,!0)},!0),Z(b,function(e){I(b.css("top","").removeClass("mbsc-lv-item-undo")),h.is(ot)?(m=h.attr("data-ref"),h.children(ct).length||(d=!0,h.append("<"+lt+"></"+lt+">"))):m=h.children(".mbsc-lv-back").attr("data-back"),u=ms[m],u&&(u.child.length?p=u.child:(h.addClass("mbsc-lv-parent").prepend(je),p=h.children(ct).prepend(Fe).addClass("mbsc-lv"),u.child=p,Be(".mbsc-lv-back",h).attr("data-back",m))),ms[_]={item:b,child:b.children(ct),parent:p,ref:m},c=W(p),r=c.length,void 0!==s&&null!==s||(s=r),i&&(f="mbsc-lv-item-new-"+(i?y:"")),Y(b.addClass(f)),s!==!1&&(r?s<r?b.insertBefore(c.eq(s)):b.insertAfter(c.eq(r-1)):(o=Be(".mbsc-lv-back",p),o.length?b.insertAfter(o):p.append(b))),oe.trigger("mbsc-refresh"),p.hasClass("mbsc-lv-v")?(g.height=v.offsetHeight+"px",as.animate(b,i&&Kt===_?"none":"expand",function(t){as.animate(t,i?"add-"+y:"pop-in",function(t){g.height="",n.call(is,t.removeClass(f)),e()})})):(n.call(is,b.removeClass(f)),e()),De("onItemAdd",{target:v})})},as.swipe=function(e,t,n,a,i){var l;e=F(e),Ze=e,pe=a,Et=!0,Q=!0,n=void 0===n?300:n,ve=t>0?1:-1,s(),o(),S(e,t,n),clearTimeout(zt),clearInterval(Ft),Ft=setInterval(function(){l=se,se=A(e)/Je*100,r(l)},10),zt=setTimeout(function(){clearInterval(Ft),l=se,se=t,r(l),c(i),pe=!1,Et=!1,Q=!1},n)},as.openStage=function(e,t,s,n){ds[t]&&as.swipe(e,ds[t].percent,s,n)},as.openActions=function(e,t,s,n){e=F(e);var a=z(Zt[e.attr("data-type")||"defaults"],"left"==t?-1:1);as.swipe(e,"left"==t?-a:a,s,n)},as.close=function(e,t){as.swipe(e,0,t)},as.remove=function(e,t,s,n){function a(e){e&&(d=d||e.hasClass("mbsc-lv-v"),e.children("[data-ref]").each(function(){var e=Be(this).attr("data-ref");a(ms[e].child),delete ms[e]}))}var i,o,r,c,d,u;s=s||l,i=F(e),i.length&&(o=i.parent(),r=W(o).index(i),u=i[0].style,c=i.attr("data-ref"),a(ms[c].child),d&&as.navigate(i),delete ms[c],n||(i.attr("data-ref")===Kt&&(Qt=!0),as.addUndoAction(function(e){as.add(null,i,r,e,o,!0)},!0)),Z(i,function(e){t=t||(i.attr("data-pos")<0?"left":"right"),o.hasClass("mbsc-lv-v")?as.animate(i.addClass("mbsc-lv-removed"),n?"pop-out":"remove-"+t,function(t){u.height=t[0].offsetHeight+"px",as.animate(t,"collapse",function(t){u.height="",I(t.removeClass("mbsc-lv-removed")),s.call(is,t)!==!1&&t.remove(),e()})}):(s.call(is,i)!==!1&&i.remove(),e()),De("onItemRemove",{target:i[0]})}))},as.move=function(e,t,s,n,a,i){e=F(e),i||as.startActionTrack(),Ue.append(ze),as.remove(e,s,null,i),as.add(null,e,t,n,a,i),i||as.endActionTrack()},as.navigate=function(e,t){var s,n;e=F(e),s=ms[e.attr("data-ref")],n=R(e),s&&(U(n>=ls?"r":"l",s.parent,e,t,!0),ls=n)},as._processSettings=function(){os.is("[mbsc-enhance]")&&(Ee=!0,os.removeAttr("mbsc-enhance"))},as._init=function(){var e,t,s,o=os.find(ct).length?"left":"right",r=0,l="",c="",d="";lt=$t.listNode,ct=$t.listSelector,at=$t.itemNode,ot=$t.itemSelector,s=$t.sort||$t.sortable||!1,"group"===s&&(s={group:!1,multiLevel:!0}),s===!0&&(s={group:!0,multiLevel:!0,handle:$t.sortHandle}),s&&void 0===s.handle&&(s.handle=$t.sortHandle),s.handle&&(Oe=s.handle===!0?o:s.handle,Le='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+Oe+' mbsc-lv-handle"><div class="'+$t.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+$t.handleMarkup+"</div></div>"),Fe="<"+at+' class="mbsc-lv-item mbsc-lv-back">'+$t.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+$t.leftArrowClass+'"></div></'+at+">",je='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+$t.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+$t.theme+(qt?" mbsc-lv-hb":"")+($t.rtl?" mbsc-lv-rtl":"")+($t.baseTheme?" mbsc-lv-"+$t.baseTheme:"")+($t.animateIcons?" mbsc-lv-ic-anim":"")+($t.striped?" mbsc-lv-alt-row":"")+($t.fixedHeader?" mbsc-lv-has-fixed-header":"")+(s.handle?" mbsc-lv-handle-"+Oe:""),as.sortable=s||!1,oe?(oe.attr("class",e),Be(".mbsc-lv-handle-c",oe).remove(),Be(ot,oe).not(".mbsc-lv-back").removeClass("mbsc-lv-item")):(l+='<div class="mbsc-lv-multi-c"></div>',l+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',os.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").removeClass("mbsc-cloak").show(),Ue=Be('<div class="mbsc-lv-stage-c">'+l+"</div>"),ze=Be(".mbsc-lv-ic-c",Ue),mt=Be(".mbsc-lv-multi-c",Ue),Xe=Be(".mbsc-lv-ic-s",Ue),Ut=Be(".mbsc-lv-ic-text",Ue),wt=Be("<"+at+' class="mbsc-lv-item mbsc-lv-ph"></'+at+">"),Se=Be('<div class="mbsc-lv-fill-item"></div>'),oe=Be('<div class="'+e+'"><'+lt+' class="mbsc-lv mbsc-lv-dummy"></'+lt+'><div class="mbsc-lv-sl-c"></div></div>'),Ve="body"!==$t.context,es=Be(Ve?$t.context:window),Ce=Be(".mbsc-lv-dummy",oe),oe.insertAfter(os),es.on("orientationchange resize",h),h(),oe.on("touchstart mousedown",".mbsc-lv-item",n).on("touchmove",".mbsc-lv-item",a).on("touchend touchcancel",".mbsc-lv-item",i),is.addEventListener("click",v,!0),oe.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){pe||(e.stopPropagation(),e.preventDefault()),Nt=x(e,"X"),Ht=x(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){pe||("touchend"===e.type&&y(),Rt&&!Be(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(x(e,"X")-Nt)<10&&Math.abs(x(e,"Y")-Ht)<10&&T((se<0?Jt.rightMenu:Jt.leftMenu)[Be(this).index()],ae,ie))}),Ot=Be(".mbsc-lv-sl-c",oe).append(os.addClass("mbsc-lv-sl-curr")).attr("data-ref",jt++),le=os,de=oe),Y(os),Vt=0,Zt=$t.itemGroups||{},Zt.defaults={swipeleft:$t.swipeleft,swiperight:$t.swiperight,stages:$t.stages,actions:$t.actions,actionsWidth:$t.actionsWidth},Be.each(Zt,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:$t.swipe,t.stages=t.stages||[],K(t.stages,1,!0),K(t.stages.left,1),K(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),$e=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),Be.each(t.stages,function(e,t){if(0===t.percent)return $e=!0,!1}),$e||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),Be.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),$e?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,c="",d="",r=0;r<t.leftMenu.length;r++)c+="<div "+(t.leftMenu[r].color?'style="background-color: '+t.leftMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[r].icon+'">'+(t.leftMenu[r].text||"")+"</div>";for(r=0;r<t.rightMenu.length;++r)d+="<div "+(t.rightMenu[r].color?'style="background-color: '+t.rightMenu[r].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[r].icon+'">'+(t.rightMenu[r].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+c+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+d+"</div>"}}),$t.fixedHeader&&(t="mbsc-lv-fixed-header"+(Ve?" mbsc-lv-fixed-header-ctx mbsc-lv-"+$t.theme+($t.baseTheme?" mbsc-lv-"+$t.baseTheme:""):""),Ae?Ae.attr("class",t):(Ae=Be('<div class="'+t+'"></div>'),Ve?es.before(Ae):oe.prepend(Ae),vt=p(g,200),es.on("scroll touchmove",vt))),$t.hover&&(He||oe.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Ie&&Ie[0]==this||(f(),Ie=Be(this),Zt[Ie.attr("data-type")||"defaults"].actions&&(We=setTimeout(function(){yt?Ie=null:(Ne=!0,as.openActions(Ie,Pe,He,!1))},Ye)))}).on("mouseleave.mbsc-lv",f),He=$t.hover.time||200,Ye=$t.hover.timeout||200,Pe=$t.hover.direction||$t.hover||"right"),Ee&&oe.attr("mbsc-enhance",""),oe.trigger("mbsc-enhance",[{theme:$t.theme,lang:$t.lang}])},as._destroy=function(){var e;de.append(le),Ve&&Ae&&Ae.remove(),Ee&&(os.attr("mbsc-enhance",""),e=Ge[oe[0].id],e&&e.destroy()),is.removeEventListener("click",v,!0),oe.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),oe.find(ct).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(ot).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),Be(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",oe).remove(),os.insertAfter(oe),oe.remove(),Ue.remove(),es.off("orientationchange resize",h),vt&&es.off("scroll touchmove",vt)};var fs,hs=[],ps=[],bs=[],vs=0;as.startActionTrack=function(){vs||(bs=[]),vs++},as.endActionTrack=function(){vs--,vs||ps.push(bs)},as.addUndoAction=function(e,t){var s={action:e,async:t};vs?bs.push(s):(ps.push([s]),ps.length>$t.undoLimit&&ps.shift())},as.undo=function(){function e(){n<0?(fs=!1,t()):(s=a[n],n--,s.async?s.action(e):(s.action(),e()))}function t(){a=hs.shift(),a&&(fs=!0,n=a.length-1,e())}var s,n,a;ps.length&&hs.push(ps.pop()),fs||t()},$t=as.settings,De=as.trigger,as.init()};zt.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,tap:nt,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},Je.ListView=zt,ge.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"};var Bt,Ut=+new Date,Gt=[],Jt={},Zt={};try{Bt=e.module("ngAnimate")}catch(e){}Bt&&Gt.push("ngAnimate"),e.module("mobiscroll-listview",Gt).directive("mobiscrollListviewItem",["$compile","$timeout",function(e,t){return{link:function(s,n,a){var i,o,r,l=Be(n[0]),c=l.parent("ul"),d=a.mobiscrollListviewItem,u=Jt[d],m=l.parents(".mbsc-lv-cont").length;u.nodesLeft--,c&&(m||0===u.nodesLeft)&&(m?(o=c.children("li").not(".mbsc-lv-back").index(l),l.hide(),t(c.hasClass("mbsc-lv-root")?function(){i=Ge[c[0].id],i.add(null,l.show(),o,void 0,c)}:function(){c.prepend(c.children(".mbsc-lv-back")),r=c.parent("li"),i=Ge[u.rootNode[0].id],i.add(null,l.show(),o,void 0,r.length?r:c)})):s.$emit("mbscLvLastItemAdded",u.rootNode)),l.append(e('<div style="display:none;"><ul><li mobiscroll-listview-hitem="'+d+'" ng-repeat="item in item.children"></li></ul></div>')(s)[0])}}}]).directive("mobiscrollListviewHitem",["$compile","$timeout",function(e){return{link:function(t,s,n){var a=Be(s[0]),i=a.parent(),o=i.parent().hasClass("mbsc-lv-ng-init"),r=n.mobiscrollListviewHitem;i.children("li").not(".mbsc-lv-back").length<=1&&!o&&i.parent().addClass("mbsc-lv-ng-init").parent().append(e(Be("<ul></ul>").append(G(Zt[r],"item.children",r)))(t.$parent)[0]),t.$on("$destroy",function(){i&&(i.children("li").length||(i=i.parent().parent().children("ul"),i.remove()))})}}}]).directive("mobiscrollListview",["$compile","$parse","$timeout",function(e,t,s){return{restrict:"A",require:"?ngModel",compile:function(n){var a,i=Ut++,o=n.html().replace(/(mbsc-ng-)|(ms-ng-)/g,"ng-").trim();return function(n,r,l,c){var d,u,m,f=Be(r[0]);c||l.mobiscrollData?(d=n.$eval(l.mobiscrollListview||"{}"),m=l.mobiscrollData||l.ngModel):(d=n.$eval(l.mobiscrollOptions||"{}"),m=l.mobiscrollListview);var h=J(n.$eval(m));Jt[i]&&(i=Ut++),Jt[i]={rootNode:f,allNodes:h,nodesLeft:h},Zt[i]=o,a=Be("<div></div>").append(G(o,m,i)),f.empty().append(Be(e(a)(n)[0]).contents()),n.$on("mbscLvLastItemAdded",function(e,a){f[0]==a[0]&&s(function(){u=new zt(f[0],d),l.mobiscrollInstance&&t(l.mobiscrollInstance).assign(n,u)})}),n.$on("$destroy",function(){u&&(u.destroy(),u=null)}),0===h&&n.$emit("mbscLvLastItemAdded",f)}}}}]),Bt&&e.module("mobiscroll-listview").animation(".mbsc-lv-item",function(){return{leave:function(e,t){var s=Be(e[0]),n=Ge[s.closest(".mbsc-lv-cont").find(".mbsc-lv-root")[0].id];n.remove(s,void 0,t)}}});var Kt=function(e,t,s){var n,a,i,o,r=this;Qe.call(this,e,t,!0),r.__init=l,r.__destroy=l,r._init=function(){var t;o=r.settings,n=Be(e),t=!!a,a=n.parent(),a=a.hasClass("mbsc-input-wrap")?a.parent():a,r._$parent=a,i&&a.removeClass(i),i=r._css+" mbsc-progress-w mbsc-control-w mbsc-"+o.theme+(o.baseTheme?" mbsc-"+o.baseTheme:"")+(o.rtl?" mbsc-rtl":" mbsc-ltr"),a.addClass(i),n.addClass("mbsc-control"),r.__init(),t||r._attachChange(),r.refresh(),e.mbscInst=r},r._destroy=function(){r.__destroy(),a.removeClass(i),n.removeClass("mbsc-control"),delete e.mbscInst},s||r.init()},Qt="mbsc-input-wrap",es=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],ts={tap:nt},ss=void 0,ns=function(){function e(t,s){var n=this;we(this,e);var a=Ke({},ts,ge.settings,s),i=Be(t),o=i.parent(),r=o.hasClass("mbsc-input-wrap")?o.parent():o,l=i.next().hasClass("mbsc-fr")?i.next():null,c=w(i),d=te(i,"data-input-style",a.inputStyle),u=te(i,"data-label-style",a.labelStyle);l&&l.insertAfter(r),Q(r,c,d,u,t),i.addClass("mbsc-control"),es.forEach(function(e){t.addEventListener(e,n)}),this.settings=a,this._type=c,this._elm=t,this._$elm=i,this._$parent=r,this._$frame=l,this._ripple=ee(a.theme),this._isFloating="floating"==u||r.hasClass("mbsc-label-floating"),t.mbscInst=this}return Ce(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),es.forEach(function(t){e._elm.removeEventListener(t,e)}),delete this._elm.mbscInst}},{key:"option",value:function(e){Ke(this.settings,e),this._ripple=ee(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;$(e,t)&&(this._startX=x(e,"X"),this._startY=x(e,"Y"),ss&&ss.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,ss=this._$elm,ss.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(x(e,"X")-this._startX)>9||Math.abs(x(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,s=this._elm,n=this._type;this._isActive&&this.settings.tap&&"touchend"==e.type&&!s.readOnly&&C(s,n,e),this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,ss=null}}]),e}(),as=function(e,t,s){function n(){var e=a("value",m);e!==g&&i(e)}function a(e,t,s){var n=r.attr(e);return void 0===n||""===n?t:s?n:+n}function i(e,t,s,n){e=Math.min(f,Math.max(e,m)),c.css("width",100*(e-m)/(f-m)+"%"),void 0===s&&(s=!0),void 0===n&&(n=s),(e!==g||t)&&_._display(e),e!==g&&(g=e,s&&r.attr("value",g),n&&r.trigger("change"))}var o,r,l,c,d,u,m,f,h,p,b,v,g,y,_=this;Kt.call(this,e,t,!0),_._display=function(e){y=v&&b.returnAffix?v.replace(/\{value\}/,e).replace(/\{max\}/,f):e,d&&d.html(y),o&&o.html(y)},_._attachChange=function(){r.on("change",n)},_.__init=function(){var s,n,i,y;if(b=_.settings,r=Be(e),y=!!l,l=_._$parent,m=_._min=void 0===t.min?a("min",b.min):t.min,f=_._max=void 0===t.max?a("max",b.max):t.max,h=void 0===t.inputStyle?a("data-input-style",b.inputStyle,!0):t.inputStyle,p=void 0===t.labelStyle?a("data-label-style",b.labelStyle,!0):t.labelStyle,g=a("value",m),s=r.attr("data-val")||b.val,i=r.attr("data-step-labels"),i=i?JSON.parse(i):b.stepLabels,v=r.attr("data-template")||(100!=f||b.template?b.template:"{value}%"),y?(s&&(o.remove(),l.removeClass("mbsc-progress-value-"+("right"==s?"right":"left"))),i&&Be(".mbsc-progress-step-label",u).remove()):(Q(l,null,h,p,e),Z(r),l.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=_._$progress=l.find(".mbsc-progress-bar"),u=_._$track=l.find(".mbsc-progress-track")),r.attr("min",m).attr("max",f),s&&(o=Be('<span class="mbsc-progress-value"></span>'),l.addClass("mbsc-progress-value-"+("right"==s?"right":"left")).find(".mbsc-input-wrap").append(o)),i)for(n=0;n<i.length;++n)u.append('<span class="mbsc-progress-step-label" style="'+(b.rtl?"right":"left")+": "+100*(i[n]-m)/(f-m)+'%" >'+i[n]+"</span>");d=Be(r.attr("data-target")||b.target)},_.__destroy=function(){l.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),l.find(".mbsc-input-ic").remove(),r.off("change",n)},_.refresh=function(){i(a("value",m),!0,!1)},_.getVal=function(){return g},_.setVal=function(e,t,s){i(e,!0,t,s)},s||_.init()};as.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},Je.Progress=as;var is=function(e,t,s){function n(t){"mousedown"===t.type&&t.preventDefault(),!$(t,this)||M&&!I||e.disabled||e.readOnly||(z.stopProp&&t.stopPropagation(),M=!0,R=!1,S=!1,U=x(t,"X"),G=x(t,"Y"),V=U,k.removeClass("mbsc-progress-anim"),g=q?Be(".mbsc-slider-handle",this):w,_&&_.removeClass("mbsc-handle-curr"),_=g.parent().addClass("mbsc-active mbsc-handle-curr"),b.addClass("mbsc-active"),P=+g.attr("data-index"),K=k[0].offsetWidth,O=k[0].getBoundingClientRect().left,"mousedown"===t.type&&(N=!0,Be(document).on("mousemove",a).on("mouseup",i)),"mouseenter"===t.type&&(I=!0,Be(document).on("mousemove",a)))}function a(e){M&&(V=x(e,"X"),L=x(e,"Y"),A=V-U,E=L-G,Math.abs(A)>5&&(R=!0),(R||N||I)&&Math.abs(te-new Date)>50&&(te=new Date,h(V,z.round,Y&&(!I||N))),R?e.preventDefault():Math.abs(E)>7&&"touchmove"==e.type&&f(e))}function i(e){M&&(e.preventDefault(),q||k.addClass("mbsc-progress-anim"),I&&!N?p(Q[P],P,!1,!1,!0):h(V,!0,!0),R||S||("touchend"==e.type&&y(),ee._onTap(Q[P])),"mouseup"==e.type&&(N=!1),"mouseleave"==e.type&&(I=!1),I||f())}function o(){M&&f()}function r(){var e=ee._readValue(Be(this)),t=+Be(this).attr("data-index");e!==Q[t]&&(Q[t]=e,j[t]=e,p(e,t))}function c(e){e.stopPropagation()}function d(e){e.preventDefault()}function u(t){var s;if(!e.disabled){switch(t.keyCode){case 38:case 39:s=1;break;case 40:case 37:s=-1}s&&(t.preventDefault(),Z||(P=+Be(this).attr("data-index"),p(Q[P]+X*s,P,!0),Z=setInterval(function(){p(Q[P]+X*s,P,!0)},200)))}}function m(e){e.preventDefault(),clearInterval(Z),Z=null}function f(){M=!1,_.removeClass("mbsc-active"),b.removeClass("mbsc-active"),Be(document).off("mousemove",a).off("mouseup",i)}function h(e,t,s){var n=t?Math.min(Math[ee._rounding||"round"](Math.max(100*(e-O)/K,0)/B/X)*X*100/(W-F+D),100):Math.max(0,Math.min(100*(e-O)/K,100));H&&(n=100-n),p(Math.round((F-D+n/B)*J)/J,P,s,n)}function p(e,t,s,n,a,i){var o=w.eq(t),r=o.parent();e=Math.min(W,Math.max(e,F)),void 0===i&&(i=s),ee._update?e=ee._update(e,Q,t,n,q,a,r):r.css({left:H?"auto":(n||v(e,F,W))+"%",right:H?(n||v(e,F,W))+"%":"auto"}),e>F?r.removeClass("mbsc-slider-start"):(Q[t]>F||a)&&r.addClass("mbsc-slider-start"),s&&(Q[t]=e),s&&j[t]!=e&&(S=!0,j[t]=e,ee._fillValue(e,t,i)),o.attr("aria-valuenow",e)}var b,g,_,w,C,T,k,M,D,S,A,E,O,V,L,P,I,N,H,Y,W,F,R,q,j,X,z,B,U,G,J,Z,K,Q,ee=this,te=new Date;Kt.call(this,e,t,!0),ee._onTap=l,ee.___init=l,ee.___destroy=l,ee._attachChange=function(){b.on(z.changeEvent,r)},ee.__init=function(){var e;w&&(e=!0,w.parent().remove()),ee.___init(),T=ee._$parent,k=ee._$track,b=T.find("input"),z=ee.settings,F=ee._min,W=ee._max,D=ee._base||0,X=ee._step,Y=ee._live,J=X%1!==0?100/(100*+(X%1).toFixed(2)):1,B=100/(W-F+D)||100,q=b.length>1,H=z.rtl,Q=[],j=[],b.each(function(e){Q[e]=ee._readValue(Be(this)),Be(this).attr("data-index",e)}),w=T.find(".mbsc-slider-handle"),C=T.find(q?".mbsc-slider-handle-cont":".mbsc-progress-cont"),w.on("keydown",u).on("keyup",m).on("blur",m),C.on("touchstart mousedown"+(z.hover?" mouseenter":""),n).on("touchmove",a).on("touchend touchcancel"+(z.hover?" mouseleave":""),i).on("pointercancel",o),e||(b.on("click",c),T.on("click",d))},ee.__destroy=function(){T.off("click",d),b.off(z.changeEvent,r).off("click",c),w.off("keydown",u).off("keyup",m).off("blur",m),C.off("touchstart mousedown mouseenter",n).off("touchmove",a).off("touchend touchcancel mouseleave",i).off("pointercancel",o),ee.___destroy()},ee.refresh=function(){b.each(function(e){p(ee._readValue(Be(this)),e,!0,!1,!0,!1)})},ee.getVal=function(){return q?Q.slice(0):Q[0]},ee.setVal=ee._setVal=function(e,t,s){Be.isArray(e)||(e=[e]),Be.each(e,function(e,t){Q[e]=t}),Be.each(e,function(e,t){p(t,e,!0,!1,!0,s)})},s||ee.init()},os=function(e,t,s){var n,a,i,o,r,l,c,d,u,m,f,h,p,b=this;as.call(this,e,t,!0);var y=b.__init,_=b.__destroy;is.call(this,e,t,!0);var x=b.__init,w=b.__destroy;b.__init=function(){y(),x()},b.__destroy=function(){_(),w()},b._update=function(e,t,s,n,a,r,h){return d?0===s?(e=Math.min(e,t[1]),i.css({width:v(t[1],f,m)-v(e,f,m)+"%",left:u?"auto":v(e,f,m)+"%",right:u?v(e,f,m)+"%":"auto"})):(e=Math.max(e,t[0]),i.css({width:v(e,f,m)-v(t[0],f,m)+"%"})):a||!l?h.css({left:u?"auto":(n||v(e,f,m))+"%",right:u?(n||v(e,f,m))+"%":"auto"}):i.css("width",(n||v(e,f,m))+"%"),c&&o.eq(s).html(e),a||t[s]==e&&!r||b._display(e),e},b._readValue=function(e){return+e.val()},b._fillValue=function(e,t,s){n.eq(t).val(e),s&&n.eq(t).trigger("change")},b._markupReady=function(){var e,t;if(c&&a.addClass("mbsc-slider-has-tooltip"),1!=h)for(t=(m-f)/h,e=0;e<=t;++e)r.append('<span class="mbsc-slider-step" style="'+(u?"right":"left")+":"+100/t*e+'%"></span>');n.each(function(e){"range"==this.type&&Be(this).attr("min",f).attr("max",m).attr("step",h),(l?i:r).append('<span class="mbsc-slider-handle-cont'+(d&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+f+'" aria-valuemax="'+m+'" data-index="'+e+'"></span>'+(c?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=a.find(".mbsc-slider-tooltip")},b.___init=function(){a&&(a.removeClass("mbsc-slider-has-tooltip"),1!=h&&Be(".mbsc-slider-step",r).remove()),a=b._$parent,r=b._$track,i=b._$progress,n=a.find("input"),p=b.settings,f=b._min,m=b._max,b._step=h=void 0===t.step?+n.attr("step")||p.step:t.step,b._live=g("data-live",p.live,n),c=g("data-tooltip",p.tooltip,n),l=g("data-highlight",p.highlight,n)&&n.length<3,d=l&&2==n.length,u=p.rtl,b._markupReady()},s||b.init()};os.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},Je.Slider=os;var rs=["focus","change","blur","animationstart"],ls=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return K(n,n._$parent,n._$elm),n._$parent.addClass("mbsc-input"),n.checkLabel=n.checkLabel.bind(n),rs.forEach(function(e){n._$elm.on(e,n.checkLabel)}),n}return ke(t,e),Ce(t,[{key:"checkLabel",value:function(e){this._isFloating&&(this._elm.value||e&&("focus"==e.type||"animationstart"==e.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active"))}},{key:"refresh",value:function(){this.checkLabel()}},{key:"destroy",value:function(){var e=this;Te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove(),this._$parent.find(".mbsc-input-fill").remove(),
rs.forEach(function(t){e._$elm.off(t,e.checkLabel)})}}]),t}(ns),cs=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),a=n._$elm,i=a.attr("data-icon");return a.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(a.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===a.text()&&a.addClass("mbsc-btn-icon-only")),n._$rippleElm=a,n}return ke(t,e),t}(ns),ds=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return n._$parent.prepend(n._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),n._$elm.after('<span class="mbsc-checkbox-box"></span>'),n}return ke(t,e),t}(ns),us=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return n._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),n._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),n}return ke(t,e),t}(ns),ms=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),a=n._$elm,i=n._$parent,o=i.find("input.mbsc-control"),r=o.length?o:Be('<input tabindex="-1" class="mbsc-control" readonly>');return n._$input=r,n._setText=n._setText.bind(n),i.addClass("mbsc-select"+(n._$frame?" mbsc-select-inline":"")),a.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),a.hasClass("mbsc-comp")||(a.on("change",n._setText),n._setText()),n}return ke(t,e),Ce(t,[{key:"destroy",value:function(){Te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.find(".mbsc-select-ic").remove(),this._$elm.off("change",this._setText)}},{key:"_setText",value:function(){var e=this._elm;this._$elm.hasClass("mbsc-comp")||this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(ls),fs=["keydown","input","scroll"],hs=void 0;He&&Be(window).on("resize orientationchange",se);var ps=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s));return n._$parent.addClass("mbsc-textarea"),fs.forEach(function(e){n._elm.addEventListener(e,n)}),ne(e),n}return ke(t,e),Ce(t,[{key:"destroy",value:function(){var e=this;Te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),fs.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(Te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":ae(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){ne(e._elm)},100)}},{key:"refresh",value:function(){Te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),clearTimeout(this._debounce),ne(this._elm)}}]),t}(ls),bs=function(e){function t(e,s){we(this,t);var n=Me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),a=void 0,i=void 0,o=n._$elm,r=n._$parent;return r.hasClass("mbsc-segmented-item-ready")||(a=Be('<div class="mbsc-segmented"></div>'),r.after(a),r.parent().find('input[name="'+o.attr("name")+'"]').each(function(){var e=Be(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Be('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),a.append(i)})),n._$rippleElm=o.next(),n}return ke(t,e),t}(ns),vs=function(e,t){function s(){var t;e.disabled||(t=parseFloat(Be(this).val()),i(isNaN(t)?y:t))}function n(){return e.disabled}function a(e,t){i(y+t*p)}function i(e,t,s){T=y,void 0===t&&(t=!0),void 0===s&&(s=t),y=Math.min(u,Math.max(Math.round(e/p)*p,m)),c.removeClass("mbsc-disabled"),t&&C.val(y),y==m?l.addClass("mbsc-disabled"):y==u&&r.addClass("mbsc-disabled"),y!==T&&s&&C.trigger("change")}function o(e,t,s){var n=C.attr(e);return void 0===n||""===n?t:s?n:+n}var r,l,c,d,u,m,f,h,p,b,v,g,y,_,x,w=this,C=Be(e),T=y;Qe.call(this,e,t,!0),w.getVal=function(){var e=parseFloat(C.val());return e=isNaN(e)?y:e,Math.min(u,Math.max(Math.round(e/p)*p,m))},w.setVal=function(e,t,s){e=parseFloat(e),i(isNaN(e)?y:e,t,s)},w._init=function(){_=C.parent().hasClass("mbsc-stepper"),x=_?C.closest(".mbsc-stepper-cont"):C.parent(),v=w.settings,m=void 0===t.min?o("min",v.min):t.min,u=void 0===t.max?o("max",v.max):t.max,p=void 0===t.step?o("step",v.step):t.step,f=void 0===t.inputStyle?o("data-input-style",v.inputStyle,!0):t.inputStyle,d=C.attr("data-val")||v.val,y=Math.min(u,Math.max(Math.round(+e.value/p)*p||0,m)),g=ge.themes.form[v.theme],h=g&&g.addRipple?g:null,_||x.addClass("mbsc-stepper-cont mbsc-control-w").addClass("box"==f?"mbsc-input-box":"").addClass("outline"==f?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(y==m?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(y==u?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span></span></span>').prepend(C),l=Be(".mbsc-stepper-minus",x),r=Be(".mbsc-stepper-plus",x),c=Be(".mbsc-stepper-control",x),_||("left"==d?(x.addClass("mbsc-stepper-val-left"),C.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==d?(x.addClass("mbsc-stepper-val-right"),r.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):l.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),b||(C.on("change",s),b=O(c,a,150,n,!1,h)),C.val(y).attr("data-role","stepper").attr("min",m).attr("max",u).attr("step",p).addClass("mbsc-control"),e.mbscInst=w},w._destroy=function(){C.removeClass("mbsc-control").off("change",s),b.destroy(),delete e.mbscInst},w.init()};vs.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_defaults:{min:0,max:100,step:1}},Je.Stepper=vs;var gs=function(e,t){var s,n,a,i,o=this;t=t||{},Ke(t,{changeEvent:"click",round:!1}),is.call(this,e,t,!0),o._readValue=function(){return e.checked?1:0},o._fillValue=function(e,t,n){s.prop("checked",!!e),n&&s.trigger("change")},o._onTap=function(e){o._setVal(e?0:1)},o.___init=function(){a=o.settings,s=Be(e),n=s.parent(),n.find(".mbsc-switch-track").remove(),n.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+a.offText+'</span><span class="mbsc-switch-txt-on">'+a.onText+"</span></span></span></span></span>"),i&&i.destroy(),i=new ns(e,a),o._$track=n.find(".mbsc-progress-track"),o._min=0,o._max=1,o._step=1},o.___destroy=function(){i.destroy()},o.getVal=function(){return e.checked},o.setVal=function(e,t,s){o._setVal(e?1:0,t,s)},o.init()};gs.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},Je.Switch=gs;var ys=function(e,t,s){var n,a,i,o,r,l,c,d=this,u=Be(e);os.call(this,e,t,!0),d._update=function(e,t,s,a,o,r){return n.css("width",v(e,0,i)+"%"),o||t[s]==e&&!r||d._display(e),e},d._markupReady=function(){var e,t="",s="";for(a=d._$track,n=d._$progress,c=d.settings,o=d._min,i=d._max,d._base=o,d._rounding=c.rtl?"floor":"ceil",r=u.attr("data-empty")||c.empty,l=u.attr("data-filled")||c.filled,e=0;e<i;++e)t+='<span class="mbsc-ic mbsc-ic-'+r+'"></span>',s+='<span class="mbsc-ic mbsc-ic-'+l+'"></span>';a.html(t),a.append(n),n.html(s),a.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+o+'" aria-valuemax="'+i+'" data-index="0"></span></span>')},s||d.init()};ys.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}},Je.Rating=ys;var _s=1,xs=function(){function e(t,s){var n=this;we(this,e);var a=void 0,i=void 0,o=void 0,r=Be(t);if(this.settings=s,this._isOpen=s.isOpen||!1,r.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),r.hasClass("mbsc-card")?(i=r.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):r.hasClass("mbsc-form-group")||r.hasClass("mbsc-form-group-inset")?(i=r.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(i=r.find(".mbsc-collapsible-header").eq(0),o=r.find(".mbsc-collapsible-content").eq(0)),a=o[0],a&&!a.id&&(a.id="mbsc-collapsible-"+_s++),i.length&&a){var l=Be('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"></span>');T(this,i,function(){n.collapse()}),i.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",a.id).attr("tabindex","0").on("mousedown",function(e){e.preventDefault()}).on("keydown",function(e){32!==e.which&&13!=e.keyCode||(e.preventDefault(),n.collapse())}).append(l)}t.mbscInst=this,this._$header=i,this._$content=o,this._$elm=r,this._$accordionParent=r.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this)}return Ce(e,[{key:"collapse",value:function(e){var t=this._$elm,s=this._$content,n=function e(){s.off("transitionend",e).css("height","")};void 0===e&&(e=!this._isOpen),e&&this._isOpen||!e&&!this._isOpen||!s.length||(e?(at&&s.on("transitionend",n).css("height",s[0].scrollHeight),t.addClass("mbsc-collapsible-open")):(at&&s.css("height",getComputedStyle(s[0]).height),setTimeout(function(){s.css("height",0),t.removeClass("mbsc-collapsible-open")})),e&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==t[0]&&this.mbscInst.hide()}),this._isOpen=e,this._$header.attr("aria-expanded",this._isOpen))}},{key:"show",value:function(){this.collapse(!0)}},{key:"hide",value:function(){this.collapse(!1)}},{key:"toggle",value:function(){this.collapse()}},{key:"destroy",value:function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open"),this._$content.removeClass("mbsc-collapsible-content"),this._$header.removeClass("mbsc-collapsible-header").find("mbsc-collapsible-icon").remove()}}]),e}();Je.CollapsibleBase=xs;var ws=0,Cs=function(e,t,s){function n(e){Be(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(Be(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(o.show()),Be(".mbsc-w-p",e).length||Be(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var a,i,o=Be(e),r=this;wt.call(this,e,t,!0),r._generateContent=function(){return""},r._markupReady=function(e){"inline"!=a.display&&n(e)},r._markupInserted=function(e){"inline"==a.display&&n(e),e.trigger("mbsc-enhance",[{theme:a.theme,lang:a.lang}])},r._markupRemove=function(){o.hide(),i&&i.parent().length&&i.after(o)},r.__processSettings=function(){a=r.settings,r.buttons.ok={text:a.okText,icon:a.okIcon,handler:"set"},a.buttons=a.buttons||("inline"==a.display?[]:["ok"]),!i&&o.parent().length&&(i=Be(document.createComment("popup")),o.before(i)),o.hide()},s||r.init()};Cs.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_class:"popup",_defaults:Ke({},wt.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})},Je.Popup=Cs,Je.Widget=Cs,ge.themes.popup=ge.themes.frame;var Ts=He&&!!window.Promise,ks=[],Ms=[];ge.alert=function(e){var t=document.createElement("div");return t.innerHTML=ce(e),pe(de,t,e)},ge.confirm=function(e){var t=document.createElement("div");return t.innerHTML=ce(e),pe(ue,t,e)},ge.prompt=function(e){var t=document.createElement("div");return t.innerHTML=ce(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',pe(me,t,e)},ge.snackbar=function(e){var t=document.createElement("div"),s=e.button;return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(s?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(s.icon?'<span class="mbsc-ic '+(s.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+s.icon+'"></span>':"")+(s.text||"")+"</button>":"")+"</div>",pe(fe,t,e)},ge.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",pe(he,t,e)};var Ds="ios"==Ve&&Pe>7,Ss=function(e,t){function s(){i.removeClass("mbsc-no-touch")}var n,a="",i=Be(e),o={},r=this;Qe.call(this,e,t,!0),r.refresh=function(e){ie(i,o,n,e)},r._init=function(){ge.themes.form[n.theme]||(n.theme="mobiscroll"),i.hasClass("mbsc-form")||i.on("touchstart",s).show(),a&&i.removeClass(a),a="mbsc-form mbsc-no-touch mbsc-"+n.theme+(Ds?" mbsc-form-hb":"")+(n.baseTheme?" mbsc-"+n.baseTheme:"")+(n.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==n.inputStyle?" mbsc-form-box":"")+("outline"==n.inputStyle?" mbsc-form-outline":""),i.addClass(a).removeClass("mbsc-cloak"),r.refresh()},r._destroy=function(){i.removeClass(a).off("touchstart",s);for(var e in o)o[e].destroy()},r.controls=o,n=r.settings,r.init()};Ss.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:nt,stopProp:!0,rtl:!1}},ge.themes.form.mobiscroll={},Je.Form=Ss,M("[mbsc-enhance],[mbsc-form]",Ss,!0);var $s=function(e,t){var s="",n=Be(e),a=this,i=a.settings;Qe.call(this,e,t,!0),a._init=function(){var e=i.context,t=Be(e),a=t.find(".mbsc-ms-top .mbsc-ms"),o=t.find(".mbsc-ms-bottom .mbsc-ms"),r={};"body"==e?Be("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),s&&n.removeClass(s),a.length&&(r.paddingTop=a[0].offsetHeight),o.length&&(r.paddingBottom=o[0].offsetHeight),s="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(s).removeClass("mbsc-cloak").css(r)},a._destroy=function(){n.removeClass(s)},i=a.settings,a.init()};$s.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},Je.Page=$s,ge.themes.page.mobiscroll={},M("[mbsc-page]",$s),e.module("mobiscroll-page",[]).directive("mobiscrollPage",["$parse",function(e){return{restrict:"A",link:function(t,s,n){var a=new $s(s[0],ge.ng.getOpt(t,n,"mobiscrollPage",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(t,a),t.$on("$destroy",function(){a.destroy()})}}}]).directive("mobiscrollAvatar",function(){return{restrict:"A",link:function(e,t){t[0].classList.add("mbsc-avatar")}}});var As=+new Date;e.module("mobiscroll-form",[]).directive("mobiscrollForm",["$parse",function(e){return("undefined"!=typeof ionic||Be("ion-content,ion-nav-view").length)&&(Ss.prototype._defaults.tap=!1,gs.prototype._defaults.tap=!1),{restrict:"A",compile:function(){return{pre:function(e,t,s){var n=ge.ng.getOpt(e,s,"mobiscrollForm",!0),a=s.id;a||(a="mbsc-form-"+As++,t.attr("id",a)),t.attr("mbsc-form-opt",""),ge.ng.formOptions[a]=n},post:function(t,s,n){var a=new Ss(s[0],ge.ng.getOpt(t,n,"mobiscrollForm",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(t,a),t.$on("mbscFormRefresh",function(){a.refresh()}),t.$on("$destroy",function(){a.destroy(),a=null})}}}}}]).directive("mobiscrollSwitch",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollSwitch",{component:"Switch"},void 0,void 0,void 0,void 0,!0)}]).directive("mobiscrollStepper",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollStepper",{component:"Stepper"})}]).directive("mobiscrollProgress",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollProgress",{component:"Progress"},void 0,void 0,void 0,void 0,!0)}]).directive("mobiscrollSlider",["$parse",function(e){var t=ge.ng.getDDO(e,"mobiscrollSlider",{component:"Slider"},void 0,void 0,void 0,void 0,!0);return t.link=function(t,s,n,a){var i,o=Be(s[0]),r=ge.ng.read,l=ge.ng.format,c="mobiscrollSlider";ge.ng.addWatch(e,t,a,o,n,c,ge.ng.render,r,ge.ng.parse,l);var d=o.parent().find("input");d.each(function(s){s&&Be(this).on("change",function(){t.$$phase?r(e,c,o,t,n,a,l):t.$apply(function(){r(e,c,o,t,n,a,l)})})}),i=new os(s[0],Ke(ge.ng.getOpt(t,n,"mobiscrollSlider",a,!0,o))),n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(t,i)},t}]).directive("mobiscrollRating",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollRating",{component:"Rating"},void 0,void 0,void 0,void 0,!0)}]);/* eslint-disable no-unused-vars */
var Es=1,Os=function(e,t,s){function n(e){clearTimeout(v),v=setTimeout(function(){o(!e||"load"!==e.type)},200)}function a(t,s){if(t.length){if(s=S._onItemTap(t,s),r=t,t.parent()[0]==e){var n=t.offset().left,a=t[0].offsetLeft,i=t[0].offsetWidth,o=c.offset().left;g&&(a=C-a-i),"a"==w.variant?n<o?y.scroll(g?a+i-f:-a,D,!0):n+i>o+f&&y.scroll(g?a:f-a-i,D,!0):y.scroll((f/2-a-i/2)*(g?-1:1),D,!0)}s&&k("onItemTap",{target:t[0]})}}function i(){var e,t;S._initMarkup(c),$.find(".mbsc-ripple").remove(),S._$items=$.children(),S._$items.each(function(s){var n,a=Be(this),i=a.attr("data-ref");i||(i=Es++),0===s&&(e=a),r||(r=S._getActiveItem(a)),t=S._getItemProps(a)||{},n="mbsc-scv-item mbsc-btn-e "+(t.cssClass||""),a.attr("data-ref",i).removeClass(M[i]).addClass(n),M[i]=n}),r||(r=e),S._markupReady(c)}function o(t,s){var n=w.itemWidth,a=w.layout;return S.contWidth=f=c.width(),!S._checkResp()&&void(t&&b===f||!f||(b=f,u(a)&&(h=f?f/a:n,h<n&&(a="liquid")),n&&("liquid"==a?h=f?f/Math.min(Math.floor(f/n),S._$items.length):n:"fixed"==a&&(h=n)),S._size(f,h),h&&$.children().css("width",h+"px"),S.totalWidth=C=e.offsetWidth,Ke(y.settings,{contSize:f,maxSnapScroll:!!w.paging&&1,maxScroll:0,minScroll:C>f?f-C:0,snap:w.paging?f:!!x&&(h||".mbsc-scv-item"),elastic:C>f&&(h||f)}),y.refresh(s)))}var r,c,d,m,f,h,p,b,v,g,y,x,w,C,T,k,M={},D=1e3,S=this,$=Be(e);Qe.call(this,e,t,!0),S.navigate=function(e,t){a(S._getItem(e),t)},S.next=function(e){if(r){var t=r.next();t.length&&(r=t,a(r,e))}},S.prev=function(e){if(r){var t=r.prev();t.length&&(r=t,a(r,e))}},S.refresh=S.position=function(e){i(),o(!1,e)},S._init=function(){var e;d=Be(w.context),m=Be("body"==w.context?window:w.context),S.__init(),g=w.rtl,x=!(!w.itemWidth||"fixed"==w.layout||void 0!==w.snap)||w.snap,e="mbsc-scv-c mbsc-no-touch mbsc-"+w.theme+" "+(w.cssClass||"")+" "+(w.wrapperClass||"")+(w.baseTheme?" mbsc-"+w.baseTheme:"")+(g?" mbsc-rtl":" mbsc-ltr")+(w.itemWidth?" mbsc-scv-hasw":"")+("body"==w.context?"":" mbsc-scv-ctx")+" "+(S._getContClass()||""),c?(c.attr("class",e),$.off(".mbsc-ripple")):(c=Be('<div class="'+e+'"><div class="mbsc-scv-sc"></div></div>').insertAfter($),c.find(".mbsc-scv-sc").append($),c.find("img").on("load",n),m.on("orientationchange resize",n),p=V(c[0],n),y=new Tt(c[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:g,mousewheel:w.mousewheel,thresholdX:w.threshold,stopProp:w.stopProp,onStart:function(e){T||"touchstart"!=e.domEvent.type||(T=!0,d.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){"touchend"===e.domEvent.type&&_(e.domEvent,e.domEvent.target),a(Be(e.target),!0)},onGestureStart:function(e){k("onGestureStart",e)},onGestureEnd:function(e){k("onGestureEnd",e)},onMove:function(e){k("onMove",e)},onAnimationStart:function(e){k("onAnimationStart",e)},onAnimationEnd:function(e){k("onAnimationEnd",e)}})),$.css("display","").addClass("mbsc-scv").removeClass("mbsc-cloak"),i(),k("onMarkupReady",{target:c[0]}),o()},S._size=l,S._initMarkup=l,S._markupReady=l,S._getContClass=l,S._getItemProps=l,S._getActiveItem=l,S.__init=l,S.__destroy=l,S._destroy=function(){S.__destroy(),m.off("orientationchange resize",n),$.removeClass("mbsc-scv").insertAfter(c).find(".mbsc-scv-item").each(function(){var e=Be(this);e.width("").removeClass(M[e.attr("data-ref")])}),c.remove(),y.destroy(),p.detach()},S._getItem=function(e){return"object"!==("undefined"==typeof e?"undefined":xe(e))&&(e=S._$items.filter('[data-id="'+e+'"]')),Be(e)},S._onItemTap=function(e,t){return void 0===t||t},w=S.settings,k=S.trigger,s||S.init()};Os.prototype={_class:"scrollview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:{tap:!0,stopProp:!1,context:"body",layout:"liquid"}},Je.ScrollView=Os;var Vs=function(e,t,s){function n(){r&&"inline"!=r&&o.find(".mbsc-page").css("padding-"+r,"")}function a(e){e.addClass(u).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(u).removeAttr("data-selected").removeAttr("aria-selected")}var o,r,c,d,u,m,f=Be(e),h=this;Os.call(this,e,t,!0),h.select=function(e){c||i(h._$items.filter(".mbsc-ms-item-sel")),a(h._getItem(e))},h.deselect=function(e){i(h._getItem(e))},h.enable=function(e){h._getItem(e).removeClass("mbsc-disabled").removeAttr("data-disabled").removeAttr("aria-disabled")},h.disable=function(e){h._getItem(e).addClass("mbsc-disabled").attr("data-disabled","true").attr("aria-disabled","true")},h.setBadge=function(e,t){var s;e=h._getItem(e).attr("data-badge",t),s=Be(".mbsc-ms-badge",e),s.length?t?s.html(t):s.remove():t&&e.append('<span class="mbsc-ms-badge">'+t+"</span>")},h._markupReady=function(e){h._hasIcons?e.addClass("mbsc-ms-icons"):e.removeClass("mbsc-ms-icons"),h._hasText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"),h.__markupReady(e)},h._size=function(t,s){h.__size(t,s),"inline"!=r&&o.find(".mbsc-page").css("padding-"+r,e.offsetHeight+"px")},h._onItemTap=function(e,t){return h.__onItemTap(e,t)!==!1&&(void 0===t&&(t=!c),d&&t&&!e.hasClass("mbsc-disabled")&&(c?"true"==e.attr("data-selected")?i(e):a(e):(i(h._$items.filter(".mbsc-ms-item-sel")),a(e))),t)},h._getActiveItem=function(e){var t="true"==e.attr("data-selected");if(d&&!c&&t)return e},h._getItemProps=function(e){var t="true"==e.attr("data-selected"),s="true"==e.attr("data-disabled"),n=e.attr("data-icon"),a=e.attr("data-badge");return e.attr("data-role","button").attr("aria-selected",t?"true":"false").attr("aria-disabled",s?"true":"false").find(".mbsc-ms-badge").remove(),a&&e.append('<span class="mbsc-ms-badge">'+a+"</span>"),n&&(h._hasIcons=!0),e.text()&&(h._hasText=!0),{cssClass:"mbsc-ms-item "+(m.itemClass||"")+" "+(t?u:"")+(s?" mbsc-disabled "+(m.disabledClass||""):"")+(n?" mbsc-ms-ic mbsc-ic mbsc-ic-"+n:"")}},h._getContClass=function(){return" mbsc-ms-c mbsc-ms-"+m.variant+" mbsc-ms-"+r+(d?"":" mbsc-ms-nosel")+(h.__getContClass()||"")},h.__init=function(){h.___init(),o=Be(m.context),n(),r=m.display,c="multiple"==m.select,d="off"!=m.select,u=" mbsc-ms-item-sel "+(m.activeClass||""),f.addClass("mbsc-ms mbsc-ms-base "+(m.groupClass||""))},h.__destroy=function(){f.removeClass("mbsc-ms mbsc-ms-base "+(m.groupClass||"")),n(),h.___destroy()},h.__onItemTap=l,h.__getContClass=l,h.__markupReady=l,h.__size=l,h.___init=l,h.___destroy=l,m=h.settings,s||h.init()};Vs.prototype={_defaults:Ke({},Os.prototype._defaults)};var Ls=function(e,t){var s,n,a,i,o,r=Be(e),l=r.is("ul,ol"),c=this;Vs.call(this,e,t,!0),c._initMarkup=function(){s&&s.remove(),n&&r.append(n.children())},c.__size=function(e,t){var l,d=t||72,u=c._$items.length,m=0;o.hide(),"bottom"==i.type&&(r.removeClass("mbsc-scv-liq"),s.remove(),c._$items.remove().each(function(s){var a=Be(this);r.append(a),m+=t||this.offsetWidth||0,Math.round(m+(s<u-1?d:0))>e&&(l=!0,n.append(a.css("width","").addClass("mbsc-fr-btn-e")))}),s.attr("class",a+(i.moreIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+i.moreIcon:"")).html(c._hasIcons&&c._hasText?i.moreText:""),l&&r.append(s)),"liquid"==i.layout&&r.addClass("mbsc-scv-liq")},c.__onItemTap=function(e){if(e.hasClass("mbsc-menu-item")&&c.trigger("onMenuShow",{target:e[0],menu:o})!==!1)return o.show(!1,!0),!1},c.__getContClass=function(){return"hamburger"==i.type?" mbsc-ms-hamburger":""},c.__markupReady=function(e){"hamburger"==i.type&&(n.append(c._$items.addClass("mbsc-fr-btn-e")),s.attr("class",a+(i.menuIcon?" mbsc-menu-item-ic mbsc-ms-ic mbsc-ic mbsc-ic-"+i.menuIcon:"")).html(i.menuText||""),r.append(s),i.menuText&&i.menuIcon||e.removeClass("mbsc-ms-icons"),i.menuText?e.addClass("mbsc-ms-txt"):e.removeClass("mbsc-ms-txt"))},c.___init=function(){var e;"tab"==i.type?(i.display=i.display||"top",i.variant=i.variant||"b"):"bottom"==i.type?(i.display=i.display||"bottom",i.variant=i.variant||"a"):"hamburger"==i.type&&(i.display=i.display||"inline",i.variant=i.variant||"a"),a="mbsc-scv-item mbsc-ms-item mbsc-btn-e mbsc-menu-item "+(i.itemClass||""),s||(s=Be(l?"<li></li>":"<div></div>"),n=Be(l?"<ul></ul>":"<div></div>").addClass("mbsc-scv mbsc-ms")),o=new Cs(n[0],{display:"bubble",theme:i.theme,lang:i.lang,context:i.context,buttons:[],anchor:s,onBeforeShow:function(t,s){e=null,s.settings.cssClass="mbsc-wdg mbsc-ms-a mbsc-ms-more"+(c._hasText?"":" mbsc-ms-more-icons")},onBeforeClose:function(){return c.trigger("onMenuHide",{target:e&&e[0],menu:o})},onMarkupReady:function(t,s){c.tap(s._markup.find(".mbsc-fr-c"),function(t){e=Be(t.target).closest(".mbsc-ms-item"),e.length&&!e.hasClass("mbsc-disabled")&&("touchend"===t.type?_(t,t.target):(c.navigate(e,!0),o.hide()))})}})},c.___destroy=function(){o.destroy(),r.append(c._$items),s.remove()},i=c.settings,c.init()};Ls.prototype={_class:"navigation",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_defaults:Ke({},Vs.prototype._defaults,{type:"bottom",moreText:"More",moreIcon:"material-more-horiz",menuIcon:"material-menu"})},Je.Navigation=Ls;var Ps=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"],Is=+new Date;e.module("mobiscroll-navigation",[]).directive("mobiscrollRepeatRender",be).directive("mobiscrollNav",["$parse","$timeout",function(e,t){return ve("mobiscrollNav",{component:"Navigation"},function(e,t){return new Ls(e,t)},e,t,!1)}]).directive("mobiscrollBottomNav",["$parse","$timeout",function(e,t){return ve("mobiscrollBottomNav",{component:"Navigation",type:"bottom"},function(e,t){return new Ls(e,t)},e,t,!1)}]).directive("mobiscrollHamburgerNav",["$parse","$timeout",function(e,t){return ve("mobiscrollHamburgerNav",{component:"Navigation",type:"hamburger"},function(e,t){return new Ls(e,t)},e,t,!1)}]).directive("mobiscrollTabNav",["$parse","$timeout",function(e,t){return ve("mobiscrollTabNav",{component:"Navigation",type:"tab"},function(e,t){return new Ls(e,t)},e,t,!1)}]),e.module("mobiscroll-popup",[]).directive("mobiscrollPopup",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollPopup",{component:"Popup"})}]),e.module("mobiscroll-widget",[]).directive("mobiscrollWidget",["$parse",function(e){return ge.ng.getDDO(e,"mobiscrollWidget",{component:"Widget"})}]),ge.customTheme("mobiscroll-dark","mobiscroll");var Ns=ge.themes,Hs="mobiscroll";return"android"==Ve?Hs="material":"ios"==Ve?Hs="ios":"wp"==Ve&&(Hs="windows"),Be.each(Ns.frame,function(e,t){return Hs&&t.baseTheme==Hs&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(ge.autoTheme=e,!1):void(e==Hs&&(ge.autoTheme=e))}),ge.uid="13730e66",ge});
